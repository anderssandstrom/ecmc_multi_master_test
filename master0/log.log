registerChannelProviderLocal firstTime true
#
# Start at "2022-W19-May13-0836-34-CEST"
#
# Version information:
# European Spallation Source ERIC : iocsh.bash (3.4.1-PID-5051)
#
# --->--> snip -->--> 
# Please Use Version and other environment variables
# in order to report or debug this shell
#
# HOSTDISPLAY=""
# WINDOWID=""
# PWD="/home/anderssandstrom/ecmc_multi_master_test/master0"
# USER="anderssandstrom"
# LOGNAME="anderssandstrom"
# EPICS_HOST_ARCH="linux-x86_64"
# EPICS_BASE="/epics/base-7.0.5"
# E3_REQUIRE_NAME="require"
# E3_REQUIRE_VERSION="3.4.1"
# E3_REQUIRE_LOCATION="/epics/base-7.0.5/require/3.4.1"
# E3_REQUIRE_BIN="/epics/base-7.0.5/require/3.4.1/bin"
# E3_REQUIRE_DB="/epics/base-7.0.5/require/3.4.1/db"
# E3_REQUIRE_DBD="/epics/base-7.0.5/require/3.4.1/dbd"
# E3_REQUIRE_INC="/epics/base-7.0.5/require/3.4.1/include"
# E3_REQUIRE_LIB="/epics/base-7.0.5/require/3.4.1/lib"
# EPICS_DRIVER_PATH="/epics/base-7.0.5/require/3.4.1/siteMods:/epics/base-7.0.5/require/3.4.1/siteApps"
# EPICS_CA_AUTO_ADDR_LIST=""
# EPICS_CA_ADDR_LIST=""
# PATH="/epics/base-7.0.5/require/3.4.1/bin:/epics/base-7.0.5/bin/linux-x86_64:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/home/anderssandstrom/.local/bin:/home/anderssandstrom/bin"
# --->--> snip -->--> 
#
# Set REQUIRE_IOC for its internal PVs
epicsEnvSet REQUIRE_IOC "REQMOD:mcag-dev-asm-03-5051"
#
# Enable an exit subroutine for sotfioc
dbLoadRecords "/epics/base-7.0.5/db/softIocExit.db" "IOC=REQMOD:mcag-dev-asm-03-5051"
#
# Set E3_IOCSH_TOP for the absolute path where iocsh.bash is executed.
epicsEnvSet E3_IOCSH_TOP "/home/anderssandstrom/ecmc_multi_master_test/master0"
#
# 
# Load require module, which has the version 3.4.1
# 
dlload /epics/base-7.0.5/require/3.4.1/lib/linux-x86_64/librequire.so
dbLoadDatabase /epics/base-7.0.5/require/3.4.1/dbd/require.dbd
require_registerRecordDeviceDriver
Loading module info records for require
# 
# Set E3_CMD_TOP for the absolute path where st.cmd exists
epicsEnvSet E3_CMD_TOP "/home/anderssandstrom/ecmc_multi_master_test/master0"
#
iocshLoad 'st.cmd',''
##############################################################################
## Test config many slaves and 2 masters
##############################################################################
## Initiation:
epicsEnvSet("IOC" ,"IOC_TEST")
epicsEnvSet("ECMCCFG_INIT" ,"")  #Only run startup once (auto at PSI, need call at ESS), variable set to "#" in startup.cmd
epicsEnvSet("SCRIPTEXEC" ,"iocshLoad")
require ecmccfg 7.0.1
Module ecmccfg version 7.0.1+0 found in /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/
Loading library /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/lib/linux-x86_64/libecmccfg.so
Loaded ecmccfg version 7.0.1+0
Loading dbd file /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/dbd/ecmccfg.dbd
Calling function ecmccfg_registerRecordDeviceDriver
Loading module info records for ecmccfg
epicsEnvSet("ECMC_ASYN_PORT_MAX_PARAMS",3000)
# run module startup.cmd (only needed at ESS  PSI auto call at require)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/startup.cmd, "IOC=IOC_TEST,ECMC_VER=7.0.1,MASTER_ID=0"
#==============================================================================
# startup.cmd
on error halt
require ecmc        "7.0.1"
Module ecmc version 7.0.1+0 found in /epics/base-7.0.5/require/3.4.1/siteMods/ecmc/7.0.1+0/
Module ecmc depends on asyn 4.41.0+0
Module asyn version 4.41.0+0 found in /epics/base-7.0.5/require/3.4.1/siteMods/asyn/4.41.0+0/
Loading library /epics/base-7.0.5/require/3.4.1/siteMods/asyn/4.41.0+0/lib/linux-x86_64/libasyn.so
Loaded asyn version 4.41.0+0
Loading dbd file /epics/base-7.0.5/require/3.4.1/siteMods/asyn/4.41.0+0/dbd/asyn.dbd
Calling function asyn_registerRecordDeviceDriver
Loading module info records for asyn
Module ecmc depends on exprtk 1.2.1+0
Module exprtk version 1.2.1+0 found in /epics/base-7.0.5/require/3.4.1/siteMods/exprtk/1.2.1+0/
Loading library /epics/base-7.0.5/require/3.4.1/siteMods/exprtk/1.2.1+0/lib/linux-x86_64/libexprtk.so
Loaded exprtk version 1.2.1+0
exprtk has no dbd file
Loading module info records for exprtk
Module ecmc depends on motor 7.0.6+0
Module motor version 7.0.6+0 found in /epics/base-7.0.5/require/3.4.1/siteMods/motor/7.0.6+0/
Module motor depends on asyn 4.41.0+0
Module asyn version 4.41.0+0 already loaded
Loading library /epics/base-7.0.5/require/3.4.1/siteMods/motor/7.0.6+0/lib/linux-x86_64/libmotor.so
Loaded motor version 7.0.6+0
Loading dbd file /epics/base-7.0.5/require/3.4.1/siteMods/motor/7.0.6+0/dbd/motor.dbd
Calling function motor_registerRecordDeviceDriver
Loading module info records for motor
Loading library /epics/base-7.0.5/require/3.4.1/siteMods/ecmc/7.0.1+0/lib/linux-x86_64/libecmc.so
Loaded ecmc version 7.0.1+0
Loading dbd file /epics/base-7.0.5/require/3.4.1/siteMods/ecmc/7.0.1+0/dbd/ecmc.dbd
Calling function ecmc_registerRecordDeviceDriver
Loading module info records for ecmc
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD, "'ecmcMotorRecord'='EthercatMC'", "require  EthercatMC 3.0.2 # Using EthercatMC motor record support.","# Using ecmcMotorRecord motor record support.")
# Using ecmcMotorRecord motor record support.
epicsEnvUnset(ECMC_EXE_CMD)
epicsEnvSet("ECMC_CONFIG_ROOT",     "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/")
epicsEnvSet("ECMC_CONFIG_DB",       "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/db")
epicsEnvSet("SCRIPTEXEC",           "iocshLoad")
epicsEnvSet("SM_PREFIX",            "IOC_TEST:")    # colon added since IOC is _not_ PREFIX
epicsEnvSet("ECMC_PROC_HOOK",       "")
epicsEnvSet(ECMC_MODE, FULL)
ecmcEpicsEnvSetCalcTernary(ECMC_SUPPORT_MOTION, "'FULL'=='FULL'","","# MODE == DAQ, DISABLING MOTION.")
epicsEnvShow(ECMC_SUPPORT_MOTION)
ECMC_SUPPORT_MOTION=
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/initAll.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/initAll.cmd"
#==============================================================================
# initAll.cmd
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/init.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/init.cmd
#==============================================================================
# init.cmd
epicsEnvSet("ECMC_ASYN_TIMEOUT",      1)                   # Asyn timeout
epicsEnvSet("ECMC_ASYN_ADDR",         0)                   # Asyn Address
epicsEnvSet("ECMC_MOTOR_PORT",        "NOT SET")
epicsEnvSet("ECMC_ASYN_PORT",         "NOT SET")
epicsEnvSet("ECMC_PREFIX",            "NOT SET")
epicsEnvSet("ECMC_GEN_EC_RECORDS",    "NOT SET")
epicsEnvSet("ECMC_GEN_AX_RECORDS",    "NOT SET")
epicsEnvSet("ECMC_EC_AXIS_HEALTH",    "NOT SET")
epicsEnvSet("ECMC_PLC_SAMPLE_RATE_MS", "NOT SET")
epicsEnvSet("ECMC_TSE",               -2)
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/initAxis.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/initAxis.cmd"
#==============================================================================
# initAxis.cmd
epicsEnvSet("ECMC_MOTOR_NAME",            "NOT SET")
epicsEnvSet("ECMC_R",                     "NOT SET")
epicsEnvSet("ECMC_AXIS_NO",               "NOT SET")
epicsEnvSet("ECMC_DESC",                  "NOT SET")
epicsEnvSet("ECMC_EGU",                   "NOT SET")       # Motor Record Unit
epicsEnvSet("ECMC_PREC",                  "NOT SET")       # Motor Record Precision
epicsEnvSet("ECMC_AXISCONFIG",            "NOT SET")       # Extra parameters to driver
epicsEnvSet("ECMC_EC_AXIS_HEALTH",        "NOT SET")       # Entry for axis health output (example: ec0.s1.BO_1.0)
epicsEnvSet("ECMC_ENC_SCALE_NUM",         "NOT SET")
epicsEnvSet("ECMC_ENC_SCALE_DENOM",       "NOT SET")
epicsEnvSet("ECMC_ENC_BITS",              "NOT SET")
epicsEnvSet("ECMC_ENC_TYPE",              "NOT SET")       # Type: 0=Incremental, 1=Absolute
epicsEnvSet("ECMC_EC_ENC_ACTPOS",         "NOT SET")       # Ethercat entry for actual position input (encoder)
epicsEnvSet("ECMC_ENC_ABS_BITS",          "NOT SET")       # Absolute bit count (for absolute encoders) always least significant part
epicsEnvSet("ECMC_ENC_ABS_OFFSET",        "NOT SET")       # Encoder offset in eng units (for absolute encoders)
epicsEnvSet("ECMC_EC_ENC_LATCHPOS",       "")              # Ethercat entry for latch position (only valid for home seq 11,12)
epicsEnvSet("ECMC_EC_ENC_LATCH_CONTROL",  "")              # Ethercat entry for latch control (only valid for home seq 11,12)
epicsEnvSet("ECMC_EC_ENC_LATCH_STATUS",   "")              # Ethercat entry for latch status (only valid for home seq 11,12)
epicsEnvSet("ECMC_DRV_SCALE_NUM",         "NOT SET")
epicsEnvSet("ECMC_DRV_SCALE_DENOM",       "NOT SET")
epicsEnvSet("ECMC_EC_DRV_CONTROL",        "NOT SET")       # Ethercat entry for control word or bit output
epicsEnvSet("ECMC_EC_DRV_STATUS",         "NOT SET")       # Ethercat entry for status word or bit input
epicsEnvSet("ECMC_EC_DRV_VELOCITY",       "NOT SET")       # Ethercat entry for velocity setpoint output
epicsEnvSet("ECMC_EC_DRV_BRAKE",          "NOT SET")       # Ethercat entry for brake output
epicsEnvSet("ECMC_EC_DRV_REDUCE_TORQUE",  "NOT SET")       # Ethercat entry for reduce torque output
epicsEnvSet("ECMC_DRV_BRAKE_OPEN_DLY_TIME",    "NOT SET")  # Brake timing parameter in cycles (default 1kHz)
epicsEnvSet("ECMC_DRV_BRAKE_CLOSE_AHEAD_TIME", "NOT SET")  # Brake timing parameter in cycles (default 1kHz)
epicsEnvSet("ECMC_VELO",                  "NOT SET")
epicsEnvSet("ECMC_JOG_VEL",               "NOT SET")
epicsEnvSet("ECMC_JAR",                   "NOT SET")       # JAR defaults to VELO/ACCL
epicsEnvSet("ECMC_ACCL",                  "NOT SET")
epicsEnvSet("ECMC_EMERG_DECEL",           "NOT SET")       # Emergency deceleration
epicsEnvSet("ECMC_HOME_PROC",              "NOT SET")
epicsEnvSet("ECMC_HOME_POS",               "NOT SET")
epicsEnvSet("ECMC_HOME_VEL_TO",            "NOT SET")
epicsEnvSet("ECMC_HOME_VEL_FRM",           "NOT SET")
epicsEnvSet("ECMC_HOME_ACC",               "NOT SET")
epicsEnvSet("ECMC_HOME_DEC",               "NOT SET")
epicsEnvSet("ECMC_HOME_LATCH_COUNT_OFFSET","0")
epicsEnvSet("ECMC_CNTRL_KP",              "NOT SET")
epicsEnvSet("ECMC_CNTRL_KI",              "NOT SET")
epicsEnvSet("ECMC_CNTRL_KD",              "NOT SET")
epicsEnvSet("ECMC_CNTRL_KFF",             "NOT SET")
epicsEnvSet("ECMC_EC_MON_LOWLIM",         "NOT SET")       #  Ethercat entry for low limit switch input
epicsEnvSet("ECMC_EC_MON_HIGHLIM",        "NOT SET")       #  Ethercat entry for high limit switch inpuit
epicsEnvSet("ECMC_EC_MON_HOME_SWITCH",    "NOT SET")       #  Ethercat entry for home switch input
epicsEnvSet("ECMC_EC_MON_EXT_INTERLOCK",  "NOT SET")       #  Ethercat entry for external interlock input
epicsEnvSet("ECMC_SOFT_LOW_LIM",          "NOT SET")
epicsEnvSet("ECMC_SOFT_HIGH_LIM",         "NOT SET")
epicsEnvSet("ECMC_DXLM_ENABLE",           "NOT SET")
epicsEnvSet("ECMC_MON_LAG_MON_TOL",       "NOT SET")
epicsEnvSet("ECMC_MON_LAG_MON_TIME",      "NOT SET")
epicsEnvSet("ECMC_MON_LAG_MON_ENA",       "NOT SET")
epicsEnvSet("ECMC_MON_AT_TARGET_TOL",     "NOT SET")
epicsEnvSet("ECMC_MON_AT_TARGET_TIME",    "NOT SET")
epicsEnvSet("ECMC_MON_AT_TARGET_ENA",     "NOT SET")
epicsEnvSet("ECMC_MON_VELO_MAX",          "NOT SET")
epicsEnvSet("ECMC_MON_VELO_MAX_TRAJ_TIME","NOT SET")
epicsEnvSet("ECMC_MON_VELO_MAX_DRV_TIME", "NOT SET")
epicsEnvSet("ECMC_MON_VELO_MAX_ENA",      "NOT SET")
epicsEnvSet("ECMC_EGU",               "mm")
epicsEnvSet("ECMC_PREC",              3)
epicsEnvSet("ECMC_AXISFIELDINIT",     "")                  # Extra field init to motor record
epicsEnvSet("ECMC_AXISCONFIG",        "")                  # Extra parameters to driver
############################################################
############# ASYN Configuration:
epicsEnvSet("ECMC_MOTOR_PORT"     "MCU1")
epicsEnvSet("ECMC_ASYN_PORT"      "MC_CPU1")
epicsEnvSet("ECMC_PREFIX"         "IOC_TEST:")
ecmcAsynPortDriverConfigure(MC_CPU1,3000,0,0,100)
ecmcAsynPortDriverConfigure: portName = MC_CPU1, paramTableSize = 3000, disableAutoConnect = 0, priority = 0, defaultSampleRateMS = 100.000000
asynOctetSetOutputEos(MC_CPU1, -1, ";\n")
asynOctetSetInputEos(MC_CPU1, -1, ";\n")
asynSetTraceMask(MC_CPU1, -1, 0x41)
2022/05/13 08:36:34.695 
ECMC Initializes.............
2022/05/13 08:36:34.696 ESS Open Source EtherCAT Motion Control Epics Module2022/05/13 08:36:34.696 
Mode: Configuration
2022/05/13 08:36:34.696 OK
2022/05/13 08:36:34.696 OK
2022/05/13 08:36:34.696 OK
2022/05/13 08:36:34.698 OK
2022/05/13 08:36:34.707 OK
2022/05/13 08:36:34.707 OK
2022/05/13 08:36:34.707 OK
2022/05/13 08:36:34.708 OK
2022/05/13 08:36:34.709 OK
asynSetTraceIOMask(MC_CPU1, -1, 6)
asynSetTraceInfoMask(MC_CPU1, -1, 1)
ecmcMotorRecordCreateController(MCU1, MC_CPU1, "64", 200, 1000, "")
############################################################
############# Misc settings:
# Disable function call trace printouts
ecmcConfigOrDie "Cfg.SetEnableFuncCallDiag(0)"
# Disable on change printouts from objects (enable for easy logging)
ecmcConfigOrDie "Cfg.SetTraceMaskBit(15,0)"
# Choose to generate EPICS-records for EtherCAT-entries
# (For records use ECMC_GEN_EC_RECORDS="-records" otherwise ECMC_GEN_EC_RECORDS="")
epicsEnvSet("ECMC_GEN_EC_RECORDS",          "-records")
# Choose to generate EPICS-records for ax-entries (PosAct, SetPos,..)
# (For records use ECMC_GEN_AX_RECORDS="-records" otherwise ECMC_GEN_AX_RECORDS="")
epicsEnvSet("ECMC_GEN_AX_RECORDS",          "-records")
# suffix for pva enabled scripts, templates and substitutions
ecmcEpicsEnvSetCalcTernary(ECMC_PVA, "0", "Pva","")
# Set EtherCAT frequency (defaults to 1000)
ecmcConfigOrDie "Cfg.SetSampleRate(1000)"
epicsEnvSet("ECMC_EC_SAMPLE_RATE" ,   1000)
ecmcEpicsEnvSetCalc("ECMC_EC_SAMPLE_RATE_MS" ,1000/1000)
# Update records in 10ms (100Hz) for FULL MODE and in EC_RATE for DAQ mode
ecmcEpicsEnvSetCalcTernary(ECMC_SAMPLE_RATE_MS, "'FULL'=='DAQ'","1","10")
epicsEnvSet("ECMC_P_SCRIPT",        "mXsXXX")
ecmcEpicsEnvSetCalcTernary(ECMC_MASTER_CMD, "0>=0", "","#- ")
 ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addMaster.cmd",1)
 iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addMaster.cmd", "MASTER_ID=0"
#===============================================================================
# addMaster.cfg
epicsEnvSet("ECMC_EC_MASTER_ID"          "0")
# Claim master
ecmcConfigOrDie "Cfg.EcSetMaster(0)"
epicsEnvSet("ECMC_EC_MASTER_ID" ,0)
epicsEnvSet("ECMC_TMP_DIR",         "/tmp/IOC_TEST/EcMaster_0/")
system "mkdir -p /tmp/IOC_TEST/EcMaster_0/"
epicsEnvSet("ECMC_TMP_DIR",         "/tmp/IOC_TEST/EcMaster_0/")
system "mkdir -p /tmp/IOC_TEST/EcMaster_0/"
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/setDiagnostics.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/setDiagnostics.cmd
#==============================================================================
# setDiagnostics.cmd
ecmcConfigOrDie "Cfg.EcSetDiagnostics(1)"
ecmcConfigOrDie "Cfg.EcEnablePrintouts(0)"
ecmcConfigOrDie "Cfg.EcSetDomainFailedCyclesLimit(100)"
epicsEnvSet("ECMCCFG_INIT" ,"#")
##############################################################################
## Config hardware:
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addSlave.cmd, "HW_DESC=EK1100"
#==============================================================================
# addSlave.cmd
epicsEnvSet("ECMC_EC_SLAVE_NUM",  "0")
epicsEnvSet("HW_DESC",            "EK1100")
epicsEnvSet("P_SCRIPT",           "mXsXXX")
# add ${HW_DESC} to the bus at position ${SLAVE_ID}
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEK1100.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEK1100.cmd" "NELM=1"
epicsEnvSet("ECMC_EC_HWTYPE"             "EK1100")
epicsEnvSet("ECMC_EC_VENDOR_ID"          "0x2")
epicsEnvSet("ECMC_EC_PRODUCT_ID"         "0x044c2c52")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/slaveVerify.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_VERIFY, "0==0", "","#- ")
ecmcConfigOrDie "Cfg.EcSlaveVerify(0,0,0x2,0x044c2c52)"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_RESET, "0>0", "","#- ")
epicsEnvSet(ECMC_EC_SLAVE_FW, "0x0000")
epicsEnvUnset(ECMC_SLAVE_VERIFY)
epicsEnvUnset(ECMC_COMMENT)
ecmcConfigOrDie "Cfg.EcAddSlave(0,0,0x2,0x044c2c52)"
# deduce what the prefix should be
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd" "MASTER_ID=0,SLAVE_POS=0,HWTYPE=EK1100"
#==============================================================================
# ecmcmXsXXX.cmd
ecmcEpicsEnvSetCalc("sid", "0","2022/05/13 08:36:34.714 OK
2022/05/13 08:36:34.763 OK
2022/05/13 08:36:34.771 13360
2022/05/13 08:36:34.772 OK
2022/05/13 08:36:34.772 OK
2022/05/13 08:36:34.772 OK
2022/05/13 08:36:34.772 OK
2022/05/13 08:36:34.772 OK
2022/05/13 08:36:34.772 OK
2022/05/13 08:36:34.773 OK
2022/05/13 08:36:34.773 OK
2022/05/13 08:36:34.773 OK
2022/05/13 08:36:34.773 OK
2022/05/13 08:36:34.773 OK
2022/05/13 08:36:34.773 OK
%03d")
ecmcEpicsEnvSetCalc("mid", "0","%01d")
epicsEnvSet("ECMC_G",            "IOC_TEST:m0s000")
epicsEnvSet("ECMC_P",            "IOC_TEST:m0s000-")
epicsEnvUnset(sid)
epicsEnvUnset(mid)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SUBS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applySubstitutions.cmd" "SUBST_FILE=ecmcEK1100.substitutions,ECMC_P=IOC_TEST:m0s000-"
#==============================================================================
# applySubstitutions.cmd
ecmcFileExist(ecmcEK1100.substitutions,1,1)
dbLoadTemplate(ecmcEK1100.substitutions,"ECMC_P=IOC_TEST:m0s000-,ECMC_G=IOC_TEST:m0s000,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=0,HWTYPE=EK1100,T_SMP_MS=10,TSE=-2,NELM=1")
epicsEnvUnset(DEFAULT_SUBS)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SLAVE_PVS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applyTemplate.cmd" "TEMPLATE_FILE=ecmcEcSlave.template,ECMC_P=IOC_TEST:m0s000-,ECMC_G=IOC_TEST:m0s000"
#==============================================================================
# applyTemplate.cmd
ecmcFileExist(ecmcEcSlave.template,1,1)
dbLoadRecords("ecmcEcSlave.template", "ECMC_P=IOC_TEST:m0s000-,ECMC_G=IOC_TEST:m0s000,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=0,HWTYPE=EK1100,T_SMP_MS=10,TSE=-2,")
epicsEnvUnset(DEFAULT_SLAVE_PVS)
# increment SLAVE_ID
ecmcEpicsEnvSetCalc("SLAVE_ID", "0+1","%d")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addSlave.cmd, "HW_DESC=EL7037"
#==============================================================================
# addSlave.cmd
epicsEnvSet("ECMC_EC_SLAVE_NUM",  "1")
epicsEnvSet("HW_DESC",            "EL7037")
epicsEnvSet("P_SCRIPT",           "mXsXXX")
# add ${HW_DESC} to the bus at position ${SLAVE_ID}
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL7037.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL7037.cmd" "NELM=1"
epicsEnvSet("ECMC_EC_HWTYPE"             "EL7037")
epicsEnvSet("ECMC_EC_VENDOR_ID"          "0x2")
epicsEnvSet("ECMC_EC_PRODUCT_ID"         "0x1b7d3052")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/slaveVerify.cmd "RESET=true"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_VERIFY, "0==0", "","#- ")
ecmcConfigOrDie "Cfg.EcSlaveVerify(0,1,0x2,0x1b7d3052)"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_RESET, "true>0", "","#- ")
ecmcConfigOrDie "Cfg.EcWriteSdo(1,0x1011,0x1,1684107116,4)"
epicsEnvSet(ECMC_EC_SLAVE_FW, "0x0000")
ecmcConfig "EcReadSdo(1,0x100a,0x0,2)"
ecmcEpicsEnvSetCalc("ECMC_EC_SLAVE_FW", "13360", "0x%04x")
# Firmware version: 0x3430
epicsEnvUnset(ECMC_SLAVE_VERIFY)
epicsEnvUnset(ECMC_COMMENT)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEX70XX.cmd
ecmcConfigOrDie "Cfg.EcAddEntryComplete(1,0x2,0x1b7d3052,1,2,0x1600,0x7000,0x01,16,encoderControl01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(1,0x2,0x1b7d3052,1,2,0x1600,0x7000,0x11,16,encoderValue01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(1,0x2,0x1b7d3052,1,2,0x1602,0x7010,0x1,16,driveControl01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(1,0x2,0x1b7d3052,1,2,0x1604,0x7010,0x21,16,1,velocitySetpoint01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(1,0x2,0x1b7d3052,2,3,0x1a00,0x6000,0x0,16,encoderStatus01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(1,0x2,0x1b7d3052,2,3,0x1a00,0x6000,0x11,16,positionActual01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(1,0x2,0x1b7d3052,2,3,0x1a00,0x6000,0x12,16,encoderLatchPostion01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(1,0x2,0x1b7d3052,2,3,0x1a03,0x6010,0x1,16,driveStatus01)"
ecmcConfigOrDie "Cfg.EcAddSdo(1,0x8012,0x5,1,1)"
ecmcConfigOrDie "Cfg.EcAddSdo(1,0x8012,0xA,1,1)"
ecmcConfigOrDie "Cfg.EcAddSdo(1,0x8012,0x8,1,1)"
ecmcConfigOrDie "Cfg.EcAddSdo(1,0x8012,0x9,0,1)"
# deduce what the prefix should be
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd" "MASTER_ID=0,SLAVE_POS=1,HWTYPE=EL7037"
#================================================================2022/05/13 08:36:34.778 OK
2022/05/13 08:36:34.779 OK
2022/05/13 08:36:34.779 OK
2022/05/13 08:36:34.779 OK
2022/05/13 08:36:34.779 OK
2022/05/13 08:36:34.779 OK
2022/05/13 08:36:34.779 OK
2022/05/13 08:36:34.779 OK
2022/05/13 08:36:34.779 OK
==============
# ecmcmXsXXX.cmd
ecmcEpicsEnvSetCalc("sid", "1","%03d")
ecmcEpicsEnvSetCalc("mid", "0","%01d")
epicsEnvSet("ECMC_G",            "IOC_TEST:m0s001")
epicsEnvSet("ECMC_P",            "IOC_TEST:m0s001-")
epicsEnvUnset(sid)
epicsEnvUnset(mid)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SUBS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applySubstitutions.cmd" "SUBST_FILE=ecmcEL7037.substitutions,ECMC_P=IOC_TEST:m0s001-"
#==============================================================================
# applySubstitutions.cmd
ecmcFileExist(ecmcEL7037.substitutions,1,1)
dbLoadTemplate(ecmcEL7037.substitutions,"ECMC_P=IOC_TEST:m0s001-,ECMC_G=IOC_TEST:m0s001,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=1,HWTYPE=EL7037,T_SMP_MS=10,TSE=-2,NELM=1")
epicsEnvUnset(DEFAULT_SUBS)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SLAVE_PVS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applyTemplate.cmd" "TEMPLATE_FILE=ecmcEcSlave.template,ECMC_P=IOC_TEST:m0s001-,ECMC_G=IOC_TEST:m0s001"
#==============================================================================
# applyTemplate.cmd
ecmcFileExist(ecmcEcSlave.template,1,1)
dbLoadRecords("ecmcEcSlave.template", "ECMC_P=IOC_TEST:m0s001-,ECMC_G=IOC_TEST:m0s001,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=1,HWTYPE=EL7037,T_SMP_MS=10,TSE=-2,")
epicsEnvUnset(DEFAULT_SLAVE_PVS)
# increment SLAVE_ID
ecmcEpicsEnvSetCalc("SLAVE_ID", "1+1","%d")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addSlave.cmd, "HW_DESC=EL1808"
#==============================================================================
# addSlave.cmd
epicsEnvSet("ECMC_EC_SLAVE_NUM",  "2")
epicsEnvSet("HW_DESC",            "EL1808")
epicsEnvSet("P_SCRIPT",           "mXsXXX")
# add ${HW_DESC} to the bus at position ${SLAVE_ID}
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL1808.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL1808.cmd" "NELM=1"
epicsEnvSet("ECMC_EC_HWTYPE"             "EL1808")
epicsEnvSet("ECMC_EC_VENDOR_ID"          "0x2")
epicsEnvSet("ECMC_EC_PRODUCT_ID"         "0x07103052")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/slaveVerify.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_VERIFY, "0==0", "","#- ")
ecmcConfigOrDie "Cfg.EcSlaveVerify(0,2,0x2,0x07103052)"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_RESET, "0>0", "","#- ")
epicsEnvSet(ECMC_EC_SLAVE_FW, "0x0000")
epicsEnvUnset(ECMC_SLAVE_VERIFY)
epicsEnvUnset(ECMC_COMMENT)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEX1008.cmd
ecmcConfigOrDie "Cfg.EcAddEntryDT(2,0x2,0x07103052,2,0,0x1a00,0x6000,0x1,B1,binaryInput01)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(2,0x2,0x07103052,2,0,0x1a01,0x6010,0x1,B1,binaryInput02)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(2,0x2,0x07103052,2,0,0x1a02,0x6020,0x1,B1,binaryInput03)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(2,0x2,0x07103052,2,0,0x1a03,0x6030,0x1,B1,binaryInput04)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(2,0x2,0x07103052,2,0,0x1a04,0x6040,0x1,B1,binaryInput05)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(2,0x2,0x07103052,2,0,0x1a05,0x6050,0x1,B1,binaryInput06)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(2,0x2,0x07103052,2,0,0x1a06,0x6060,0x1,B1,binaryInput07)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(2,0x2,0x07103052,2,0,0x1a07,0x6070,0x1,B1,binaryInput08)"
# deduce what the prefix should be
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd" "MASTER_ID=0,SLAVE_POS=2,HWTYPE=EL1808"
#==============================================================================
# ecmcmXsXXX.cmd
ecmcEpicsEnvSetCalc("sid", "2","%03d")
ecmcEpicsEnvSetCalc("mid", "0","%01d")
epicsEnvSet("ECMC_G",            "IOC_TEST:m0s002")
epicsEnvSet("ECMC_P",            "IOC_TEST:m0s002-")
epicsEnvUnset(sid)
epicsEnvUnset(mid)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SUBS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applySubstitutions.cmd" "SUBST_2022/05/13 08:36:34.784 OK
2022/05/13 08:36:34.785 OK
2022/05/13 08:36:34.785 OK
2022/05/13 08:36:34.785 OK
2022/05/13 08:36:34.785 OK
2022/05/13 08:36:34.785 OK
2022/05/13 08:36:34.785 OK
2022/05/13 08:36:34.786 OK
2022/05/13 08:36:34.786 OK
FILE=ecmcEL1808.substitutions,ECMC_P=IOC_TEST:m0s002-"
#==============================================================================
# applySubstitutions.cmd
ecmcFileExist(ecmcEL1808.substitutions,1,1)
dbLoadTemplate(ecmcEL1808.substitutions,"ECMC_P=IOC_TEST:m0s002-,ECMC_G=IOC_TEST:m0s002,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=2,HWTYPE=EL1808,T_SMP_MS=10,TSE=-2,NELM=1")
epicsEnvUnset(DEFAULT_SUBS)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SLAVE_PVS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applyTemplate.cmd" "TEMPLATE_FILE=ecmcEcSlave.template,ECMC_P=IOC_TEST:m0s002-,ECMC_G=IOC_TEST:m0s002"
#==============================================================================
# applyTemplate.cmd
ecmcFileExist(ecmcEcSlave.template,1,1)
dbLoadRecords("ecmcEcSlave.template", "ECMC_P=IOC_TEST:m0s002-,ECMC_G=IOC_TEST:m0s002,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=2,HWTYPE=EL1808,T_SMP_MS=10,TSE=-2,")
epicsEnvUnset(DEFAULT_SLAVE_PVS)
# increment SLAVE_ID
ecmcEpicsEnvSetCalc("SLAVE_ID", "2+1","%d")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addSlave.cmd, "HW_DESC=EL2808"
#==============================================================================
# addSlave.cmd
epicsEnvSet("ECMC_EC_SLAVE_NUM",  "3")
epicsEnvSet("HW_DESC",            "EL2808")
epicsEnvSet("P_SCRIPT",           "mXsXXX")
# add ${HW_DESC} to the bus at position ${SLAVE_ID}
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL2808.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL2808.cmd" "NELM=1"
epicsEnvSet("ECMC_EC_HWTYPE"             "EL2808")
epicsEnvSet("ECMC_EC_VENDOR_ID"          "0x2")
epicsEnvSet("ECMC_EC_PRODUCT_ID"         "0x0af83052")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/slaveVerify.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_VERIFY, "0==0", "","#- ")
ecmcConfigOrDie "Cfg.EcSlaveVerify(0,3,0x2,0x0af83052)"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_RESET, "0>0", "","#- ")
epicsEnvSet(ECMC_EC_SLAVE_FW, "0x0000")
epicsEnvUnset(ECMC_SLAVE_VERIFY)
epicsEnvUnset(ECMC_COMMENT)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEX2008.cmd
ecmcConfigOrDie "Cfg.EcAddEntryDT(3,0x2,0x0af83052,1,0,0x1600,0x7000,0x1,B1,binaryOutput01)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(3,0x2,0x0af83052,1,0,0x1601,0x7010,0x1,B1,binaryOutput02)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(3,0x2,0x0af83052,1,0,0x1602,0x7020,0x1,B1,binaryOutput03)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(3,0x2,0x0af83052,1,0,0x1603,0x7030,0x1,B1,binaryOutput04)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(3,0x2,0x0af83052,1,0,0x1604,0x7040,0x1,B1,binaryOutput05)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(3,0x2,0x0af83052,1,0,0x1605,0x7050,0x1,B1,binaryOutput06)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(3,0x2,0x0af83052,1,0,0x1606,0x7060,0x1,B1,binaryOutput07)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(3,0x2,0x0af83052,1,0,0x1607,0x7070,0x1,B1,binaryOutput08)"
# deduce what the prefix should be
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd" "MASTER_ID=0,SLAVE_POS=3,HWTYPE=EL2808"
#==============================================================================
# ecmcmXsXXX.cmd
ecmcEpicsEnvSetCalc("sid", "3","%03d")
ecmcEpicsEnvSetCalc("mid", "0","%01d")
epicsEnvSet("ECMC_G",            "IOC_TEST:m0s003")
epicsEnvSet("ECMC_P",            "IOC_TEST:m0s003-")
epicsEnvUnset(sid)
epicsEnvUnset(mid)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SUBS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applySubstitutions.cmd" "SUBST_FILE=ecmcEL2808.substitutions,ECMC_P=IOC_TEST:m0s003-"
#==============================================================================
# applySubstitutions.cmd
ecmcFileExist(ecmcEL2808.substitutions,1,1)
dbLoadTemplate(ecmcEL2808.substitutions,"ECMC_P=IOC_TEST:m0s003-,ECMC_G=IOC_TEST:m0s003,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=3,HWTYPE=EL2808,T_SMP_MS=10,TSE=-2,NELM=1")
epicsEnvUnset(D2022/05/13 08:36:34.791 OK
2022/05/13 08:36:34.859 OK
2022/05/13 08:36:34.867 13872
2022/05/13 08:36:34.868 OK
2022/05/13 08:36:34.868 OK
2022/05/13 08:36:34.868 OK
2022/05/13 08:36:34.868 OK
2022/05/13 08:36:34.869 OK
2022/05/13 08:36:34.869 OK
2022/05/13 08:36:34.870 OK
2022/05/13 08:36:34.870 OK
2022/05/13 08:36:34.870 OK
2022/05/13 08:36:34.870 OK
2022/05/13 08:36:34.870 OK
EFAULT_SUBS)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SLAVE_PVS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applyTemplate.cmd" "TEMPLATE_FILE=ecmcEcSlave.template,ECMC_P=IOC_TEST:m0s003-,ECMC_G=IOC_TEST:m0s003"
#==============================================================================
# applyTemplate.cmd
ecmcFileExist(ecmcEcSlave.template,1,1)
dbLoadRecords("ecmcEcSlave.template", "ECMC_P=IOC_TEST:m0s003-,ECMC_G=IOC_TEST:m0s003,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=3,HWTYPE=EL2808,T_SMP_MS=10,TSE=-2,")
epicsEnvUnset(DEFAULT_SLAVE_PVS)
# increment SLAVE_ID
ecmcEpicsEnvSetCalc("SLAVE_ID", "3+1","%d")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addSlave.cmd, "HW_DESC=EL7211"
#==============================================================================
# addSlave.cmd
epicsEnvSet("ECMC_EC_SLAVE_NUM",  "4")
epicsEnvSet("HW_DESC",            "EL7211")
epicsEnvSet("P_SCRIPT",           "mXsXXX")
# add ${HW_DESC} to the bus at position ${SLAVE_ID}
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL7211.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL7211.cmd" "NELM=1"
epicsEnvSet("ECMC_EC_HWTYPE"             "EL7211")
epicsEnvSet("ECMC_EC_VENDOR_ID"          "0x2")
epicsEnvSet("ECMC_EC_PRODUCT_ID"         "0x1c2b3052")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/slaveVerify.cmd "RESET=true"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_VERIFY, "0==0", "","#- ")
ecmcConfigOrDie "Cfg.EcSlaveVerify(0,4,0x2,0x1c2b3052)"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_RESET, "true>0", "","#- ")
ecmcConfigOrDie "Cfg.EcWriteSdo(4,0x1011,0x1,1684107116,4)"
epicsEnvSet(ECMC_EC_SLAVE_FW, "0x0000")
ecmcConfig "EcReadSdo(4,0x100a,0x0,2)"
ecmcEpicsEnvSetCalc("ECMC_EC_SLAVE_FW", "13872", "0x%04x")
# Firmware version: 0x3630
epicsEnvUnset(ECMC_SLAVE_VERIFY)
epicsEnvUnset(ECMC_COMMENT)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEX72XX_CSV.cmd
ecmcConfigOrDie "Cfg.EcAddEntryDT(4,0x2,0x1c2b3052,1,2,0x1600,0x7010,0x01,U16,driveControl01)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(4,0x2,0x1c2b3052,1,2,0x1601,0x7010,0x06,S32,velocitySetpoint01)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(4,0x2,0x1c2b3052,2,3,0x1a00,0x6000,0x11,U32,positionActual01)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(4,0x2,0x1c2b3052,2,3,0x1a01,0x6010,0x01,U16,driveStatus01)"
ecmcEpicsEnvSetCalc("ECMC_TEMP_PERIOD_NANO_SECS",1000/1000*1E6)
ecmcEpicsEnvSetCalc("ECMC_TEMP_PERIOD_NANO_SECS_HALF",1000000/2)
ecmcConfigOrDie "Cfg.EcSlaveConfigDC(4,0x700,1000000,500000,0,0)"
# Peak current (to be overwritten by motor config)
ecmcConfigOrDie "Cfg.EcAddSdo(4,0x8011,0x11,1000,4)"
ecmcEpicsEnvSetCalc("ECMC_TEMP_WHATCHDOG_1",1000/1000*1000)
ecmcEpicsEnvSetCalc("ECMC_TEMP_WHATCHDOG_2",1000*10)
ecmcConfigOrDie "Cfg.EcSlaveConfigWatchDog(4,1000,10000)"
ecmcConfigOrDie "Cfg.EcAddSdo(4,0x1C32,0x1,3,2)"
ecmcConfigOrDie "Cfg.EcAddSdo(4,0x1C32,0x2,1000000,4)"
ecmcConfigOrDie "Cfg.EcAddSdo(4,0x1C33,0x1,3,2)"
ecmcConfigOrDie "Cfg.EcAddSdo(4,0x1C33,0x2,1000000,4)"
epicsEnvUnset(ECMC_TEMP_PERIOD_NANO_SECS)
epicsEnvUnset(ECMC_TEMP_PERIOD_NANO_SECS_HALF)
epicsEnvUnset(ECMC_TEMP_WHATCHDOG_1)
epicsEnvUnset(ECMC_TEMP_WHATCHDOG_2)
# deduce what the prefix should be
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd" "MASTER_ID=0,SLAVE_POS=4,HWTYPE=EL7211"
#==============================================================================
# ecmcmXsXXX.cmd
ecmcEpicsEnvSetCalc("sid", "4","%03d")
ecmcEpicsEnvSetCalc("mid", "0","%01d")
epicsEnvSet("ECMC_G",            "IOC_TEST:m0s004")
epicsEnvSet("ECMC_P",            "IOC_TEST:m0s004-")
epicsEnvUnset(sid)
epicsEnvUnset(mid)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SUBS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applySubstitutions.cmd" "SUBST_FILE=ecmcEL7211.substitutions,ECMC_P=IOC_TEST:m0s004-"
#===============================================================2022/05/13 08:36:34.875 OK
2022/05/13 08:36:34.881 OK
2022/05/13 08:36:34.889 12592
2022/05/13 08:36:34.890 OK
2022/05/13 08:36:34.890 OK
2022/05/13 08:36:34.891 OK
2022/05/13 08:36:34.891 OK
===============
# applySubstitutions.cmd
ecmcFileExist(ecmcEL7211.substitutions,1,1)
dbLoadTemplate(ecmcEL7211.substitutions,"ECMC_P=IOC_TEST:m0s004-,ECMC_G=IOC_TEST:m0s004,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=4,HWTYPE=EL7211,T_SMP_MS=10,TSE=-2,NELM=1")
epicsEnvUnset(DEFAULT_SUBS)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SLAVE_PVS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applyTemplate.cmd" "TEMPLATE_FILE=ecmcEcSlave.template,ECMC_P=IOC_TEST:m0s004-,ECMC_G=IOC_TEST:m0s004"
#==============================================================================
# applyTemplate.cmd
ecmcFileExist(ecmcEcSlave.template,1,1)
dbLoadRecords("ecmcEcSlave.template", "ECMC_P=IOC_TEST:m0s004-,ECMC_G=IOC_TEST:m0s004,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=4,HWTYPE=EL7211,T_SMP_MS=10,TSE=-2,")
epicsEnvUnset(DEFAULT_SLAVE_PVS)
# increment SLAVE_ID
ecmcEpicsEnvSetCalc("SLAVE_ID", "4+1","%d")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addSlave.cmd, "HW_DESC=EM3702"
#==============================================================================
# addSlave.cmd
epicsEnvSet("ECMC_EC_SLAVE_NUM",  "5")
epicsEnvSet("HW_DESC",            "EM3702")
epicsEnvSet("P_SCRIPT",           "mXsXXX")
# add ${HW_DESC} to the bus at position ${SLAVE_ID}
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEM3702.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEM3702.cmd" "NELM=1"
epicsEnvSet("ECMC_EC_HWTYPE"             "EM3702")
epicsEnvSet("ECMC_EC_VENDOR_ID"          "0x2")
epicsEnvSet("ECMC_EC_PRODUCT_ID"         "0x0e763452")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/slaveVerify.cmd "RESET=true"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_VERIFY, "0==0", "","#- ")
ecmcConfigOrDie "Cfg.EcSlaveVerify(0,5,0x2,0x0e763452)"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_RESET, "true>0", "","#- ")
ecmcConfigOrDie "Cfg.EcWriteSdo(5,0x1011,0x1,1684107116,4)"
epicsEnvSet(ECMC_EC_SLAVE_FW, "0x0000")
ecmcConfig "EcReadSdo(5,0x100a,0x0,2)"
ecmcEpicsEnvSetCalc("ECMC_EC_SLAVE_FW", "12592", "0x%04x")
# Firmware version: 0x3130
epicsEnvUnset(ECMC_SLAVE_VERIFY)
epicsEnvUnset(ECMC_COMMENT)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcAnalogInput_16bit.cmd "CH_ID=01,ECMC_PDO=0x1a00,ECMC_ENTRY=0x6000"
ecmcEpicsEnvSetCalc("ECMC_CHANNEL",01,"%02x")
ecmcConfigOrDie "Cfg.EcAddEntryDT(5,0x2,0x0e763452,2,3,0x1a00,0x6000,0x01,U16,status01)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(5,0x2,0x0e763452,2,3,0x1a00,0x6000,0x11,S16,analogInput01)"
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcAnalogInput_16bit.cmd "CH_ID=02,ECMC_PDO=0x1a01,ECMC_ENTRY=0x6010"
ecmcEpicsEnvSetCalc("ECMC_CHANNEL",02,"%02x")
ecmcConfigOrDie "Cfg.EcAddEntryDT(5,0x2,0x0e763452,2,3,0x1a01,0x6010,0x01,U16,status02)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(5,0x2,0x0e763452,2,3,0x1a01,0x6010,0x11,S16,analogInput02)"
# deduce what the prefix should be
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd" "MASTER_ID=0,SLAVE_POS=5,HWTYPE=EM3702"
#==============================================================================
# ecmcmXsXXX.cmd
ecmcEpicsEnvSetCalc("sid", "5","%03d")
ecmcEpicsEnvSetCalc("mid", "0","%01d")
epicsEnvSet("ECMC_G",            "IOC_TEST:m0s005")
epicsEnvSet("ECMC_P",            "IOC_TEST:m0s005-")
epicsEnvUnset(sid)
epicsEnvUnset(mid)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SUBS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applySubstitutions.cmd" "SUBST_FILE=ecmcEM3702.substitutions,ECMC_P=IOC_TEST:m0s005-"
#==============================================================================
# applySubstitutions.cmd
ecmcFileExist(ecmcEM3702.substitutions,1,1)
dbLoadTemplate(ecmcEM3702.substitutions,"ECMC_P=IOC_TEST:m0s005-,ECMC_G=IOC_TEST:m0s005,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=5,HWTYPE=EM3702,T_SMP_MS=10,TSE=-2,NELM=1")
epicsEnvUnset(DEFAULT_SUB2022/05/13 08:36:34.896 OK
2022/05/13 08:36:34.897 OK
2022/05/13 08:36:34.897 OK
S)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SLAVE_PVS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applyTemplate.cmd" "TEMPLATE_FILE=ecmcEcSlave.template,ECMC_P=IOC_TEST:m0s005-,ECMC_G=IOC_TEST:m0s005"
#==============================================================================
# applyTemplate.cmd
ecmcFileExist(ecmcEcSlave.template,1,1)
dbLoadRecords("ecmcEcSlave.template", "ECMC_P=IOC_TEST:m0s005-,ECMC_G=IOC_TEST:m0s005,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=5,HWTYPE=EM3702,T_SMP_MS=10,TSE=-2,")
epicsEnvUnset(DEFAULT_SLAVE_PVS)
# increment SLAVE_ID
ecmcEpicsEnvSetCalc("SLAVE_ID", "5+1","%d")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addSlave.cmd, "HW_DESC=EK1101"
#==============================================================================
# addSlave.cmd
epicsEnvSet("ECMC_EC_SLAVE_NUM",  "6")
epicsEnvSet("HW_DESC",            "EK1101")
epicsEnvSet("P_SCRIPT",           "mXsXXX")
# add ${HW_DESC} to the bus at position ${SLAVE_ID}
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEK1101.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEK1101.cmd" "NELM=1"
epicsEnvSet("ECMC_EC_HWTYPE"             "EK1101")
epicsEnvSet("ECMC_EC_VENDOR_ID"          "0x2")
epicsEnvSet("ECMC_EC_PRODUCT_ID"         "0x044d2c52")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/slaveVerify.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_VERIFY, "0==0", "","#- ")
ecmcConfigOrDie "Cfg.EcSlaveVerify(0,6,0x2,0x044d2c52)"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_RESET, "0>0", "","#- ")
epicsEnvSet(ECMC_EC_SLAVE_FW, "0x0000")
epicsEnvUnset(ECMC_SLAVE_VERIFY)
epicsEnvUnset(ECMC_COMMENT)
ecmcConfigOrDie "Cfg.EcAddSlave(0,6,0x2,0x044d2c52)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(6,0x2,0x044d2c52,2,0,0x1a00,0x6000,0x1,16,id)"
# deduce what the prefix should be
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd" "MASTER_ID=0,SLAVE_POS=6,HWTYPE=EK1101"
#==============================================================================
# ecmcmXsXXX.cmd
ecmcEpicsEnvSetCalc("sid", "6","%03d")
ecmcEpicsEnvSetCalc("mid", "0","%01d")
epicsEnvSet("ECMC_G",            "IOC_TEST:m0s006")
epicsEnvSet("ECMC_P",            "IOC_TEST:m0s006-")
epicsEnvUnset(sid)
epicsEnvUnset(mid)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SUBS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applySubstitutions.cmd" "SUBST_FILE=ecmcEK1101.substitutions,ECMC_P=IOC_TEST:m0s006-"
#==============================================================================
# applySubstitutions.cmd
ecmcFileExist(ecmcEK1101.substitutions,1,1)
dbLoadTemplate(ecmcEK1101.substitutions,"ECMC_P=IOC_TEST:m0s006-,ECMC_G=IOC_TEST:m0s006,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=6,HWTYPE=EK1101,T_SMP_MS=10,TSE=-2,NELM=1")
epicsEnvUnset(DEFAULT_SUBS)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SLAVE_PVS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applyTemplate.cmd" "TEMPLATE_FILE=ecmcEcSlave.template,ECMC_P=IOC_TEST:m0s006-,ECMC_G=IOC_TEST:m0s006"
#==============================================================================
# applyTemplate.cmd
ecmcFileExist(ecmcEcSlave.template,1,1)
dbLoadRecords("ecmcEcSlave.template", "ECMC_P=IOC_TEST:m0s006-,ECMC_G=IOC_TEST:m0s006,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=6,HWTYPE=EK1101,T_SMP_MS=10,TSE=-2,")
epicsEnvUnset(DEFAULT_SLAVE_PVS)
# increment SLAVE_ID
ecmcEpicsEnvSetCalc("SLAVE_ID", "6+1","%d")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addSlave.cmd, "HW_DESC=EL2819"
#==============================================================================
# addSlave.cmd
epicsEnvSet("ECMC_EC_SLAVE_NUM",  "7")
epicsEnvSet("HW_DESC",            "EL2819")
epicsEnvSet("P_SCRIPT",           "mXsXXX")
# add ${HW_DESC} to the bus at position ${SLAVE_ID}
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/72022/05/13 08:36:34.901 OK
2022/05/13 08:36:34.902 OK
2022/05/13 08:36:34.902 OK
2022/05/13 08:36:34.902 OK
2022/05/13 08:36:34.902 OK
2022/05/13 08:36:34.902 OK
2022/05/13 08:36:34.902 OK
2022/05/13 08:36:34.902 OK
2022/05/13 08:36:34.902 OK
2022/05/13 08:36:34.902 OK
2022/05/13 08:36:34.902 OK
2022/05/13 08:36:34.902 OK
2022/05/13 08:36:34.902 OK
2022/05/13 08:36:34.903 OK
2022/05/13 08:36:34.903 OK
2022/05/13 08:36:34.903 OK
2022/05/13 08:36:34.903 OK
2022/05/13 08:36:34.903 OK
2022/05/13 08:36:34.903 OK
2022/05/13 08:36:34.903 OK
2022/05/13 08:36:34.903 OK
2022/05/13 08:36:34.903 OK
2022/05/13 08:36:34.903 OK
2022/05/13 08:36:34.903 OK
2022/05/13 08:36:34.903 OK
2022/05/13 08:36:34.904 OK
2022/05/13 08:36:34.904 OK
2022/05/13 08:36:34.904 OK
2022/05/13 08:36:34.904 OK
2022/05/13 08:36:34.904 OK
2022/05/13 08:36:34.904 OK
2022/05/13 08:36:34.904 OK
2022/05/13 08:36:34.904 OK
.0.1+0/ecmcEL2819.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL2819.cmd" "NELM=1"
epicsEnvSet("ECMC_EC_HWTYPE"             "EL2819")
epicsEnvSet("ECMC_EC_VENDOR_ID"          "0x2")
epicsEnvSet("ECMC_EC_PRODUCT_ID"         "0x0b033052")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/slaveVerify.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_VERIFY, "0==0", "","#- ")
ecmcConfigOrDie "Cfg.EcSlaveVerify(0,7,0x2,0x0b033052)"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_RESET, "0>0", "","#- ")
epicsEnvSet(ECMC_EC_SLAVE_FW, "0x0000")
epicsEnvUnset(ECMC_SLAVE_VERIFY)
epicsEnvUnset(ECMC_COMMENT)
ecmcConfigOrDie "Cfg.EcAddEntryComplete(7,0x2,0x0b033052,1,2,0x1600,0x7000,0x1,1,binaryOutput01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(7,0x2,0x0b033052,1,2,0x1600,0x7010,0x1,1,binaryOutput02)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(7,0x2,0x0b033052,1,2,0x1600,0x7020,0x1,1,binaryOutput03)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(7,0x2,0x0b033052,1,2,0x1600,0x7030,0x1,1,binaryOutput04)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(7,0x2,0x0b033052,1,2,0x1600,0x7040,0x1,1,binaryOutput05)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(7,0x2,0x0b033052,1,2,0x1600,0x7050,0x1,1,binaryOutput06)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(7,0x2,0x0b033052,1,2,0x1600,0x7060,0x1,1,binaryOutput07)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(7,0x2,0x0b033052,1,2,0x1600,0x7070,0x1,1,binaryOutput08)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(7,0x2,0x0b033052,1,2,0x1600,0x7080,0x1,1,binaryOutput09)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(7,0x2,0x0b033052,1,2,0x1600,0x7090,0x1,1,binaryOutput10)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(7,0x2,0x0b033052,1,2,0x1600,0x70A0,0x1,1,binaryOutput11)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(7,0x2,0x0b033052,1,2,0x1600,0x70B0,0x1,1,binaryOutput12)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(7,0x2,0x0b033052,1,2,0x1600,0x70C0,0x1,1,binaryOutput13)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(7,0x2,0x0b033052,1,2,0x1600,0x70D0,0x1,1,binaryOutput14)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(7,0x2,0x0b033052,1,2,0x1600,0x70E0,0x1,1,binaryOutput15)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(7,0x2,0x0b033052,1,2,0x1600,0x70F0,0x1,1,binaryOutput16)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(7,0x2,0x0b033052,2,3,0x1A00,0x6001,0x1,4,binaryOutputStatus01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(7,0x2,0x0b033052,2,3,0x1A00,0x6011,0x1,4,binaryOutputStatus02)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(7,0x2,0x0b033052,2,3,0x1A00,0x6021,0x1,4,binaryOutputStatus03)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(7,0x2,0x0b033052,2,3,0x1A00,0x6031,0x1,4,binaryOutputStatus04)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(7,0x2,0x0b033052,2,3,0x1A00,0x6041,0x1,4,binaryOutputStatus05)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(7,0x2,0x0b033052,2,3,0x1A00,0x6051,0x1,4,binaryOutputStatus06)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(7,0x2,0x0b033052,2,3,0x1A00,0x6061,0x1,4,binaryOutputStatus07)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(7,0x2,0x0b033052,2,3,0x1A00,0x6071,0x1,4,binaryOutputStatus08)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(7,0x2,0x0b033052,2,3,0x1A00,0x6081,0x1,4,binaryOutputStatus09)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(7,0x2,0x0b033052,2,3,0x1A00,0x6091,0x1,4,binaryOutputStatus10)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(7,0x2,0x0b033052,2,3,0x1A00,0x60A1,0x1,4,binaryOutputStatus11)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(7,0x2,0x0b033052,2,3,0x1A00,0x60B1,0x1,4,binaryOutputStatus12)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(7,0x2,0x0b033052,2,3,0x1A00,0x60C1,0x1,4,binaryOutputStatus13)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(7,0x2,0x0b033052,2,3,0x1A00,0x60D1,0x1,4,binaryOutputStatus14)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(7,0x2,0x0b033052,2,3,0x1A00,0x60E1,0x1,4,binaryOutputStatus15)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(7,0x2,0x0b033052,2,3,0x1A00,0x60F1,0x1,4,binaryOutputStatus16)"
# deduce what the prefix should be
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd" "MASTER_ID=0,SL2022/05/13 08:36:34.914 OK
2022/05/13 08:36:34.915 OK
2022/05/13 08:36:34.915 OK
2022/05/13 08:36:34.915 OK
2022/05/13 08:36:34.915 OK
2022/05/13 08:36:34.915 OK
2022/05/13 08:36:34.915 OK
2022/05/13 08:36:34.915 OK
2022/05/13 08:36:34.916 OK
2022/05/13 08:36:34.916 OK
2022/05/13 08:36:34.916 OK
2022/05/13 08:36:34.916 OK
2022/05/13 08:36:34.916 OK
2022/05/13 08:36:34.916 OK
2022/05/13 08:36:34.916 OK
AVE_POS=7,HWTYPE=EL2819"
#==============================================================================
# ecmcmXsXXX.cmd
ecmcEpicsEnvSetCalc("sid", "7","%03d")
ecmcEpicsEnvSetCalc("mid", "0","%01d")
epicsEnvSet("ECMC_G",            "IOC_TEST:m0s007")
epicsEnvSet("ECMC_P",            "IOC_TEST:m0s007-")
epicsEnvUnset(sid)
epicsEnvUnset(mid)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SUBS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applySubstitutions.cmd" "SUBST_FILE=ecmcEL2819.substitutions,ECMC_P=IOC_TEST:m0s007-"
#==============================================================================
# applySubstitutions.cmd
ecmcFileExist(ecmcEL2819.substitutions,1,1)
dbLoadTemplate(ecmcEL2819.substitutions,"ECMC_P=IOC_TEST:m0s007-,ECMC_G=IOC_TEST:m0s007,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=7,HWTYPE=EL2819,T_SMP_MS=10,TSE=-2,NELM=1")
epicsEnvUnset(DEFAULT_SUBS)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SLAVE_PVS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applyTemplate.cmd" "TEMPLATE_FILE=ecmcEcSlave.template,ECMC_P=IOC_TEST:m0s007-,ECMC_G=IOC_TEST:m0s007"
#==============================================================================
# applyTemplate.cmd
ecmcFileExist(ecmcEcSlave.template,1,1)
dbLoadRecords("ecmcEcSlave.template", "ECMC_P=IOC_TEST:m0s007-,ECMC_G=IOC_TEST:m0s007,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=7,HWTYPE=EL2819,T_SMP_MS=10,TSE=-2,")
epicsEnvUnset(DEFAULT_SLAVE_PVS)
# increment SLAVE_ID
ecmcEpicsEnvSetCalc("SLAVE_ID", "7+1","%d")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addSlave.cmd, "HW_DESC=EL2819"
#==============================================================================
# addSlave.cmd
epicsEnvSet("ECMC_EC_SLAVE_NUM",  "8")
epicsEnvSet("HW_DESC",            "EL2819")
epicsEnvSet("P_SCRIPT",           "mXsXXX")
# add ${HW_DESC} to the bus at position ${SLAVE_ID}
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL2819.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL2819.cmd" "NELM=1"
epicsEnvSet("ECMC_EC_HWTYPE"             "EL2819")
epicsEnvSet("ECMC_EC_VENDOR_ID"          "0x2")
epicsEnvSet("ECMC_EC_PRODUCT_ID"         "0x0b033052")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/slaveVerify.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_VERIFY, "0==0", "","#- ")
ecmcConfigOrDie "Cfg.EcSlaveVerify(0,8,0x2,0x0b033052)"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_RESET, "0>0", "","#- ")
epicsEnvSet(ECMC_EC_SLAVE_FW, "0x0000")
epicsEnvUnset(ECMC_SLAVE_VERIFY)
epicsEnvUnset(ECMC_COMMENT)
ecmcConfigOrDie "Cfg.EcAddEntryComplete(8,0x2,0x0b033052,1,2,0x1600,0x7000,0x1,1,binaryOutput01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(8,0x2,0x0b033052,1,2,0x1600,0x7010,0x1,1,binaryOutput02)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(8,0x2,0x0b033052,1,2,0x1600,0x7020,0x1,1,binaryOutput03)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(8,0x2,0x0b033052,1,2,0x1600,0x7030,0x1,1,binaryOutput04)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(8,0x2,0x0b033052,1,2,0x1600,0x7040,0x1,1,binaryOutput05)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(8,0x2,0x0b033052,1,2,0x1600,0x7050,0x1,1,binaryOutput06)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(8,0x2,0x0b033052,1,2,0x1600,0x7060,0x1,1,binaryOutput07)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(8,0x2,0x0b033052,1,2,0x1600,0x7070,0x1,1,binaryOutput08)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(8,0x2,0x0b033052,1,2,0x1600,0x7080,0x1,1,binaryOutput09)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(8,0x2,0x0b033052,1,2,0x1600,0x7090,0x1,1,binaryOutput10)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(8,0x2,0x0b033052,1,2,0x1600,0x70A0,0x1,1,binaryOutput11)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(8,0x2,0x0b033052,1,2,0x1600,0x70B0,0x1,1,binaryOutput12)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(8,0x2,0x0b033052,1,2,0x1600,0x70C0,0x1,1,binaryOutput13)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(8,0x2,0x0b033052,1,2,0x1600,0x70D0,0x1,1,binaryOutput14)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(8,0x2,0x0b033052,1,2,0x1600,0x70E0,0x1,1,b2022/05/13 08:36:34.916 OK
2022/05/13 08:36:34.916 OK
2022/05/13 08:36:34.916 OK
2022/05/13 08:36:34.916 OK
2022/05/13 08:36:34.916 OK
2022/05/13 08:36:34.916 OK
2022/05/13 08:36:34.917 OK
2022/05/13 08:36:34.917 OK
2022/05/13 08:36:34.917 OK
2022/05/13 08:36:34.917 OK
2022/05/13 08:36:34.917 OK
2022/05/13 08:36:34.917 OK
2022/05/13 08:36:34.917 OK
2022/05/13 08:36:34.917 OK
2022/05/13 08:36:34.917 OK
2022/05/13 08:36:34.917 OK
2022/05/13 08:36:34.917 OK
2022/05/13 08:36:34.917 OK
inaryOutput15)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(8,0x2,0x0b033052,1,2,0x1600,0x70F0,0x1,1,binaryOutput16)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(8,0x2,0x0b033052,2,3,0x1A00,0x6001,0x1,4,binaryOutputStatus01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(8,0x2,0x0b033052,2,3,0x1A00,0x6011,0x1,4,binaryOutputStatus02)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(8,0x2,0x0b033052,2,3,0x1A00,0x6021,0x1,4,binaryOutputStatus03)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(8,0x2,0x0b033052,2,3,0x1A00,0x6031,0x1,4,binaryOutputStatus04)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(8,0x2,0x0b033052,2,3,0x1A00,0x6041,0x1,4,binaryOutputStatus05)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(8,0x2,0x0b033052,2,3,0x1A00,0x6051,0x1,4,binaryOutputStatus06)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(8,0x2,0x0b033052,2,3,0x1A00,0x6061,0x1,4,binaryOutputStatus07)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(8,0x2,0x0b033052,2,3,0x1A00,0x6071,0x1,4,binaryOutputStatus08)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(8,0x2,0x0b033052,2,3,0x1A00,0x6081,0x1,4,binaryOutputStatus09)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(8,0x2,0x0b033052,2,3,0x1A00,0x6091,0x1,4,binaryOutputStatus10)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(8,0x2,0x0b033052,2,3,0x1A00,0x60A1,0x1,4,binaryOutputStatus11)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(8,0x2,0x0b033052,2,3,0x1A00,0x60B1,0x1,4,binaryOutputStatus12)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(8,0x2,0x0b033052,2,3,0x1A00,0x60C1,0x1,4,binaryOutputStatus13)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(8,0x2,0x0b033052,2,3,0x1A00,0x60D1,0x1,4,binaryOutputStatus14)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(8,0x2,0x0b033052,2,3,0x1A00,0x60E1,0x1,4,binaryOutputStatus15)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(8,0x2,0x0b033052,2,3,0x1A00,0x60F1,0x1,4,binaryOutputStatus16)"
# deduce what the prefix should be
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd" "MASTER_ID=0,SLAVE_POS=8,HWTYPE=EL2819"
#==============================================================================
# ecmcmXsXXX.cmd
ecmcEpicsEnvSetCalc("sid", "8","%03d")
ecmcEpicsEnvSetCalc("mid", "0","%01d")
epicsEnvSet("ECMC_G",            "IOC_TEST:m0s008")
epicsEnvSet("ECMC_P",            "IOC_TEST:m0s008-")
epicsEnvUnset(sid)
epicsEnvUnset(mid)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SUBS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applySubstitutions.cmd" "SUBST_FILE=ecmcEL2819.substitutions,ECMC_P=IOC_TEST:m0s008-"
#==============================================================================
# applySubstitutions.cmd
ecmcFileExist(ecmcEL2819.substitutions,1,1)
dbLoadTemplate(ecmcEL2819.substitutions,"ECMC_P=IOC_TEST:m0s008-,ECMC_G=IOC_TEST:m0s008,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=8,HWTYPE=EL2819,T_SMP_MS=10,TSE=-2,NELM=1")
epicsEnvUnset(DEFAULT_SUBS)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SLAVE_PVS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applyTemplate.cmd" "TEMPLATE_FILE=ecmcEcSlave.template,ECMC_P=IOC_TEST:m0s008-,ECMC_G=IOC_TEST:m0s008"
#==============================================================================
# applyTemplate.cmd
ecmcFileExist(ecmcEcSlave.template,1,1)
dbLoadRecords("ecmcEcSlave.template", "ECMC_P=IOC_TEST:m0s008-,ECMC_G=IOC_TEST:m0s008,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=8,HWTYPE=EL2819,T_SMP_MS=10,TSE=-2,")
epicsEnvUnset(DEFAULT_SLAVE_PVS)
# increment SLAVE_ID
ecmcEpicsEnvSetCalc("SLAVE_ID", "8+1","%d")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addSlave.cmd, "HW_DESC=EL2819"
#==============================================================================
# addSlave.cmd
epicsEnvSet("ECMC_EC_SLAVE_NUM",  "9")
epicsEnvSet("HW_DESC",            "EL2819")
epicsEnvSet("P_SCRIPT",           "mXsXXX")
# add ${HW_DESC} to the bus at position ${SLAVE_ID}
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL2819.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.2022/05/13 08:36:34.927 OK
2022/05/13 08:36:34.928 OK
2022/05/13 08:36:34.928 OK
2022/05/13 08:36:34.928 OK
2022/05/13 08:36:34.928 OK
2022/05/13 08:36:34.929 OK
2022/05/13 08:36:34.929 OK
2022/05/13 08:36:34.929 OK
2022/05/13 08:36:34.929 OK
2022/05/13 08:36:34.929 OK
2022/05/13 08:36:34.929 OK
2022/05/13 08:36:34.929 OK
2022/05/13 08:36:34.929 OK
2022/05/13 08:36:34.929 OK
2022/05/13 08:36:34.929 OK
2022/05/13 08:36:34.929 OK
2022/05/13 08:36:34.929 OK
2022/05/13 08:36:34.930 OK
2022/05/13 08:36:34.930 OK
2022/05/13 08:36:34.930 OK
2022/05/13 08:36:34.930 OK
2022/05/13 08:36:34.930 OK
2022/05/13 08:36:34.930 OK
2022/05/13 08:36:34.930 OK
2022/05/13 08:36:34.930 OK
2022/05/13 08:36:34.930 OK
2022/05/13 08:36:34.930 OK
2022/05/13 08:36:34.930 OK
2022/05/13 08:36:34.930 OK
2022/05/13 08:36:34.930 OK
2022/05/13 08:36:34.930 OK
2022/05/13 08:36:34.930 OK
2022/05/13 08:36:34.930 OK
1+0/ecmcEL2819.cmd" "NELM=1"
epicsEnvSet("ECMC_EC_HWTYPE"             "EL2819")
epicsEnvSet("ECMC_EC_VENDOR_ID"          "0x2")
epicsEnvSet("ECMC_EC_PRODUCT_ID"         "0x0b033052")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/slaveVerify.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_VERIFY, "0==0", "","#- ")
ecmcConfigOrDie "Cfg.EcSlaveVerify(0,9,0x2,0x0b033052)"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_RESET, "0>0", "","#- ")
epicsEnvSet(ECMC_EC_SLAVE_FW, "0x0000")
epicsEnvUnset(ECMC_SLAVE_VERIFY)
epicsEnvUnset(ECMC_COMMENT)
ecmcConfigOrDie "Cfg.EcAddEntryComplete(9,0x2,0x0b033052,1,2,0x1600,0x7000,0x1,1,binaryOutput01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(9,0x2,0x0b033052,1,2,0x1600,0x7010,0x1,1,binaryOutput02)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(9,0x2,0x0b033052,1,2,0x1600,0x7020,0x1,1,binaryOutput03)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(9,0x2,0x0b033052,1,2,0x1600,0x7030,0x1,1,binaryOutput04)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(9,0x2,0x0b033052,1,2,0x1600,0x7040,0x1,1,binaryOutput05)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(9,0x2,0x0b033052,1,2,0x1600,0x7050,0x1,1,binaryOutput06)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(9,0x2,0x0b033052,1,2,0x1600,0x7060,0x1,1,binaryOutput07)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(9,0x2,0x0b033052,1,2,0x1600,0x7070,0x1,1,binaryOutput08)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(9,0x2,0x0b033052,1,2,0x1600,0x7080,0x1,1,binaryOutput09)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(9,0x2,0x0b033052,1,2,0x1600,0x7090,0x1,1,binaryOutput10)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(9,0x2,0x0b033052,1,2,0x1600,0x70A0,0x1,1,binaryOutput11)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(9,0x2,0x0b033052,1,2,0x1600,0x70B0,0x1,1,binaryOutput12)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(9,0x2,0x0b033052,1,2,0x1600,0x70C0,0x1,1,binaryOutput13)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(9,0x2,0x0b033052,1,2,0x1600,0x70D0,0x1,1,binaryOutput14)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(9,0x2,0x0b033052,1,2,0x1600,0x70E0,0x1,1,binaryOutput15)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(9,0x2,0x0b033052,1,2,0x1600,0x70F0,0x1,1,binaryOutput16)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(9,0x2,0x0b033052,2,3,0x1A00,0x6001,0x1,4,binaryOutputStatus01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(9,0x2,0x0b033052,2,3,0x1A00,0x6011,0x1,4,binaryOutputStatus02)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(9,0x2,0x0b033052,2,3,0x1A00,0x6021,0x1,4,binaryOutputStatus03)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(9,0x2,0x0b033052,2,3,0x1A00,0x6031,0x1,4,binaryOutputStatus04)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(9,0x2,0x0b033052,2,3,0x1A00,0x6041,0x1,4,binaryOutputStatus05)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(9,0x2,0x0b033052,2,3,0x1A00,0x6051,0x1,4,binaryOutputStatus06)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(9,0x2,0x0b033052,2,3,0x1A00,0x6061,0x1,4,binaryOutputStatus07)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(9,0x2,0x0b033052,2,3,0x1A00,0x6071,0x1,4,binaryOutputStatus08)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(9,0x2,0x0b033052,2,3,0x1A00,0x6081,0x1,4,binaryOutputStatus09)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(9,0x2,0x0b033052,2,3,0x1A00,0x6091,0x1,4,binaryOutputStatus10)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(9,0x2,0x0b033052,2,3,0x1A00,0x60A1,0x1,4,binaryOutputStatus11)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(9,0x2,0x0b033052,2,3,0x1A00,0x60B1,0x1,4,binaryOutputStatus12)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(9,0x2,0x0b033052,2,3,0x1A00,0x60C1,0x1,4,binaryOutputStatus13)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(9,0x2,0x0b033052,2,3,0x1A00,0x60D1,0x1,4,binaryOutputStatus14)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(9,0x2,0x0b033052,2,3,0x1A00,0x60E1,0x1,4,binaryOutputStatus15)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(9,0x2,0x0b033052,2,3,0x1A00,0x60F1,0x1,4,binaryOutputStatus16)"
# deduce what the prefix should be
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd" "MASTER_ID=0,SLAVE_POS=9,HWTYPE=EL2819"
#================================================================2022/05/13 08:36:34.940 OK
2022/05/13 08:36:34.941 OK
2022/05/13 08:36:34.941 OK
2022/05/13 08:36:34.941 OK
2022/05/13 08:36:34.941 OK
2022/05/13 08:36:34.941 OK
2022/05/13 08:36:34.941 OK
2022/05/13 08:36:34.941 OK
2022/05/13 08:36:34.941 OK
2022/05/13 08:36:34.941 OK
2022/05/13 08:36:34.941 OK
2022/05/13 08:36:34.941 OK
2022/05/13 08:36:34.941 OK
2022/05/13 08:36:34.941 OK
2022/05/13 08:36:34.941 OK
2022/05/13 08:36:34.942 OK
==============
# ecmcmXsXXX.cmd
ecmcEpicsEnvSetCalc("sid", "9","%03d")
ecmcEpicsEnvSetCalc("mid", "0","%01d")
epicsEnvSet("ECMC_G",            "IOC_TEST:m0s009")
epicsEnvSet("ECMC_P",            "IOC_TEST:m0s009-")
epicsEnvUnset(sid)
epicsEnvUnset(mid)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SUBS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applySubstitutions.cmd" "SUBST_FILE=ecmcEL2819.substitutions,ECMC_P=IOC_TEST:m0s009-"
#==============================================================================
# applySubstitutions.cmd
ecmcFileExist(ecmcEL2819.substitutions,1,1)
dbLoadTemplate(ecmcEL2819.substitutions,"ECMC_P=IOC_TEST:m0s009-,ECMC_G=IOC_TEST:m0s009,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=9,HWTYPE=EL2819,T_SMP_MS=10,TSE=-2,NELM=1")
epicsEnvUnset(DEFAULT_SUBS)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SLAVE_PVS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applyTemplate.cmd" "TEMPLATE_FILE=ecmcEcSlave.template,ECMC_P=IOC_TEST:m0s009-,ECMC_G=IOC_TEST:m0s009"
#==============================================================================
# applyTemplate.cmd
ecmcFileExist(ecmcEcSlave.template,1,1)
dbLoadRecords("ecmcEcSlave.template", "ECMC_P=IOC_TEST:m0s009-,ECMC_G=IOC_TEST:m0s009,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=9,HWTYPE=EL2819,T_SMP_MS=10,TSE=-2,")
epicsEnvUnset(DEFAULT_SLAVE_PVS)
# increment SLAVE_ID
ecmcEpicsEnvSetCalc("SLAVE_ID", "9+1","%d")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addSlave.cmd, "HW_DESC=EL2819"
#==============================================================================
# addSlave.cmd
epicsEnvSet("ECMC_EC_SLAVE_NUM",  "10")
epicsEnvSet("HW_DESC",            "EL2819")
epicsEnvSet("P_SCRIPT",           "mXsXXX")
# add ${HW_DESC} to the bus at position ${SLAVE_ID}
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL2819.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL2819.cmd" "NELM=1"
epicsEnvSet("ECMC_EC_HWTYPE"             "EL2819")
epicsEnvSet("ECMC_EC_VENDOR_ID"          "0x2")
epicsEnvSet("ECMC_EC_PRODUCT_ID"         "0x0b033052")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/slaveVerify.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_VERIFY, "0==0", "","#- ")
ecmcConfigOrDie "Cfg.EcSlaveVerify(0,10,0x2,0x0b033052)"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_RESET, "0>0", "","#- ")
epicsEnvSet(ECMC_EC_SLAVE_FW, "0x0000")
epicsEnvUnset(ECMC_SLAVE_VERIFY)
epicsEnvUnset(ECMC_COMMENT)
ecmcConfigOrDie "Cfg.EcAddEntryComplete(10,0x2,0x0b033052,1,2,0x1600,0x7000,0x1,1,binaryOutput01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(10,0x2,0x0b033052,1,2,0x1600,0x7010,0x1,1,binaryOutput02)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(10,0x2,0x0b033052,1,2,0x1600,0x7020,0x1,1,binaryOutput03)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(10,0x2,0x0b033052,1,2,0x1600,0x7030,0x1,1,binaryOutput04)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(10,0x2,0x0b033052,1,2,0x1600,0x7040,0x1,1,binaryOutput05)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(10,0x2,0x0b033052,1,2,0x1600,0x7050,0x1,1,binaryOutput06)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(10,0x2,0x0b033052,1,2,0x1600,0x7060,0x1,1,binaryOutput07)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(10,0x2,0x0b033052,1,2,0x1600,0x7070,0x1,1,binaryOutput08)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(10,0x2,0x0b033052,1,2,0x1600,0x7080,0x1,1,binaryOutput09)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(10,0x2,0x0b033052,1,2,0x1600,0x7090,0x1,1,binaryOutput10)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(10,0x2,0x0b033052,1,2,0x1600,0x70A0,0x1,1,binaryOutput11)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(10,0x2,0x0b033052,1,2,0x1600,0x70B0,0x1,1,binaryOutput12)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(10,0x2,0x0b033052,1,2,0x1600,0x70C0,0x1,1,binaryOutput13)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(10,0x2,0x0b033052,1,2,0x1600,0x70D0,0x1,1,binaryOutput14)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(10,0x2,0x0b033052,1,2,0x1600,0x70E0,0x1,1,binaryOutput15)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(10,0x2,0x0b0330522022/05/13 08:36:34.942 OK
2022/05/13 08:36:34.942 OK
2022/05/13 08:36:34.942 OK
2022/05/13 08:36:34.942 OK
2022/05/13 08:36:34.942 OK
2022/05/13 08:36:34.942 OK
2022/05/13 08:36:34.942 OK
2022/05/13 08:36:34.942 OK
2022/05/13 08:36:34.942 OK
2022/05/13 08:36:34.942 OK
2022/05/13 08:36:34.942 OK
2022/05/13 08:36:34.942 OK
2022/05/13 08:36:34.942 OK
2022/05/13 08:36:34.942 OK
2022/05/13 08:36:34.942 OK
2022/05/13 08:36:34.942 OK
2022/05/13 08:36:34.942 OK
,1,2,0x1600,0x70F0,0x1,1,binaryOutput16)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(10,0x2,0x0b033052,2,3,0x1A00,0x6001,0x1,4,binaryOutputStatus01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(10,0x2,0x0b033052,2,3,0x1A00,0x6011,0x1,4,binaryOutputStatus02)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(10,0x2,0x0b033052,2,3,0x1A00,0x6021,0x1,4,binaryOutputStatus03)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(10,0x2,0x0b033052,2,3,0x1A00,0x6031,0x1,4,binaryOutputStatus04)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(10,0x2,0x0b033052,2,3,0x1A00,0x6041,0x1,4,binaryOutputStatus05)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(10,0x2,0x0b033052,2,3,0x1A00,0x6051,0x1,4,binaryOutputStatus06)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(10,0x2,0x0b033052,2,3,0x1A00,0x6061,0x1,4,binaryOutputStatus07)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(10,0x2,0x0b033052,2,3,0x1A00,0x6071,0x1,4,binaryOutputStatus08)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(10,0x2,0x0b033052,2,3,0x1A00,0x6081,0x1,4,binaryOutputStatus09)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(10,0x2,0x0b033052,2,3,0x1A00,0x6091,0x1,4,binaryOutputStatus10)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(10,0x2,0x0b033052,2,3,0x1A00,0x60A1,0x1,4,binaryOutputStatus11)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(10,0x2,0x0b033052,2,3,0x1A00,0x60B1,0x1,4,binaryOutputStatus12)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(10,0x2,0x0b033052,2,3,0x1A00,0x60C1,0x1,4,binaryOutputStatus13)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(10,0x2,0x0b033052,2,3,0x1A00,0x60D1,0x1,4,binaryOutputStatus14)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(10,0x2,0x0b033052,2,3,0x1A00,0x60E1,0x1,4,binaryOutputStatus15)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(10,0x2,0x0b033052,2,3,0x1A00,0x60F1,0x1,4,binaryOutputStatus16)"
# deduce what the prefix should be
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd" "MASTER_ID=0,SLAVE_POS=10,HWTYPE=EL2819"
#==============================================================================
# ecmcmXsXXX.cmd
ecmcEpicsEnvSetCalc("sid", "10","%03d")
ecmcEpicsEnvSetCalc("mid", "0","%01d")
epicsEnvSet("ECMC_G",            "IOC_TEST:m0s010")
epicsEnvSet("ECMC_P",            "IOC_TEST:m0s010-")
epicsEnvUnset(sid)
epicsEnvUnset(mid)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SUBS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applySubstitutions.cmd" "SUBST_FILE=ecmcEL2819.substitutions,ECMC_P=IOC_TEST:m0s010-"
#==============================================================================
# applySubstitutions.cmd
ecmcFileExist(ecmcEL2819.substitutions,1,1)
dbLoadTemplate(ecmcEL2819.substitutions,"ECMC_P=IOC_TEST:m0s010-,ECMC_G=IOC_TEST:m0s010,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=10,HWTYPE=EL2819,T_SMP_MS=10,TSE=-2,NELM=1")
epicsEnvUnset(DEFAULT_SUBS)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SLAVE_PVS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applyTemplate.cmd" "TEMPLATE_FILE=ecmcEcSlave.template,ECMC_P=IOC_TEST:m0s010-,ECMC_G=IOC_TEST:m0s010"
#==============================================================================
# applyTemplate.cmd
ecmcFileExist(ecmcEcSlave.template,1,1)
dbLoadRecords("ecmcEcSlave.template", "ECMC_P=IOC_TEST:m0s010-,ECMC_G=IOC_TEST:m0s010,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=10,HWTYPE=EL2819,T_SMP_MS=10,TSE=-2,")
epicsEnvUnset(DEFAULT_SLAVE_PVS)
# increment SLAVE_ID
ecmcEpicsEnvSetCalc("SLAVE_ID", "10+1","%d")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addSlave.cmd, "HW_DESC=EL2819"
#==============================================================================
# addSlave.cmd
epicsEnvSet("ECMC_EC_SLAVE_NUM",  "11")
epicsEnvSet("HW_DESC",            "EL2819")
epicsEnvSet("P_SCRIPT",           "mXsXXX")
# add ${HW_DESC} to the bus at position ${SLAVE_ID}
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL2819.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL2819.cmd" "NELM=1"
epicsEnvSet("ECMC_EC_2022/05/13 08:36:34.952 OK
2022/05/13 08:36:34.953 OK
2022/05/13 08:36:34.953 OK
2022/05/13 08:36:34.953 OK
2022/05/13 08:36:34.953 OK
2022/05/13 08:36:34.953 OK
2022/05/13 08:36:34.953 OK
2022/05/13 08:36:34.953 OK
2022/05/13 08:36:34.953 OK
2022/05/13 08:36:34.953 OK
2022/05/13 08:36:34.953 OK
2022/05/13 08:36:34.953 OK
2022/05/13 08:36:34.953 OK
2022/05/13 08:36:34.953 OK
2022/05/13 08:36:34.953 OK
2022/05/13 08:36:34.954 OK
2022/05/13 08:36:34.954 OK
2022/05/13 08:36:34.954 OK
2022/05/13 08:36:34.954 OK
2022/05/13 08:36:34.954 OK
2022/05/13 08:36:34.954 OK
2022/05/13 08:36:34.954 OK
2022/05/13 08:36:34.954 OK
2022/05/13 08:36:34.954 OK
2022/05/13 08:36:34.954 OK
2022/05/13 08:36:34.954 OK
2022/05/13 08:36:34.954 OK
2022/05/13 08:36:34.954 OK
2022/05/13 08:36:34.954 OK
2022/05/13 08:36:34.954 OK
2022/05/13 08:36:34.954 OK
2022/05/13 08:36:34.954 OK
2022/05/13 08:36:34.954 OK
HWTYPE"             "EL2819")
epicsEnvSet("ECMC_EC_VENDOR_ID"          "0x2")
epicsEnvSet("ECMC_EC_PRODUCT_ID"         "0x0b033052")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/slaveVerify.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_VERIFY, "0==0", "","#- ")
ecmcConfigOrDie "Cfg.EcSlaveVerify(0,11,0x2,0x0b033052)"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_RESET, "0>0", "","#- ")
epicsEnvSet(ECMC_EC_SLAVE_FW, "0x0000")
epicsEnvUnset(ECMC_SLAVE_VERIFY)
epicsEnvUnset(ECMC_COMMENT)
ecmcConfigOrDie "Cfg.EcAddEntryComplete(11,0x2,0x0b033052,1,2,0x1600,0x7000,0x1,1,binaryOutput01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(11,0x2,0x0b033052,1,2,0x1600,0x7010,0x1,1,binaryOutput02)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(11,0x2,0x0b033052,1,2,0x1600,0x7020,0x1,1,binaryOutput03)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(11,0x2,0x0b033052,1,2,0x1600,0x7030,0x1,1,binaryOutput04)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(11,0x2,0x0b033052,1,2,0x1600,0x7040,0x1,1,binaryOutput05)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(11,0x2,0x0b033052,1,2,0x1600,0x7050,0x1,1,binaryOutput06)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(11,0x2,0x0b033052,1,2,0x1600,0x7060,0x1,1,binaryOutput07)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(11,0x2,0x0b033052,1,2,0x1600,0x7070,0x1,1,binaryOutput08)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(11,0x2,0x0b033052,1,2,0x1600,0x7080,0x1,1,binaryOutput09)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(11,0x2,0x0b033052,1,2,0x1600,0x7090,0x1,1,binaryOutput10)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(11,0x2,0x0b033052,1,2,0x1600,0x70A0,0x1,1,binaryOutput11)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(11,0x2,0x0b033052,1,2,0x1600,0x70B0,0x1,1,binaryOutput12)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(11,0x2,0x0b033052,1,2,0x1600,0x70C0,0x1,1,binaryOutput13)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(11,0x2,0x0b033052,1,2,0x1600,0x70D0,0x1,1,binaryOutput14)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(11,0x2,0x0b033052,1,2,0x1600,0x70E0,0x1,1,binaryOutput15)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(11,0x2,0x0b033052,1,2,0x1600,0x70F0,0x1,1,binaryOutput16)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(11,0x2,0x0b033052,2,3,0x1A00,0x6001,0x1,4,binaryOutputStatus01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(11,0x2,0x0b033052,2,3,0x1A00,0x6011,0x1,4,binaryOutputStatus02)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(11,0x2,0x0b033052,2,3,0x1A00,0x6021,0x1,4,binaryOutputStatus03)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(11,0x2,0x0b033052,2,3,0x1A00,0x6031,0x1,4,binaryOutputStatus04)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(11,0x2,0x0b033052,2,3,0x1A00,0x6041,0x1,4,binaryOutputStatus05)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(11,0x2,0x0b033052,2,3,0x1A00,0x6051,0x1,4,binaryOutputStatus06)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(11,0x2,0x0b033052,2,3,0x1A00,0x6061,0x1,4,binaryOutputStatus07)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(11,0x2,0x0b033052,2,3,0x1A00,0x6071,0x1,4,binaryOutputStatus08)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(11,0x2,0x0b033052,2,3,0x1A00,0x6081,0x1,4,binaryOutputStatus09)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(11,0x2,0x0b033052,2,3,0x1A00,0x6091,0x1,4,binaryOutputStatus10)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(11,0x2,0x0b033052,2,3,0x1A00,0x60A1,0x1,4,binaryOutputStatus11)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(11,0x2,0x0b033052,2,3,0x1A00,0x60B1,0x1,4,binaryOutputStatus12)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(11,0x2,0x0b033052,2,3,0x1A00,0x60C1,0x1,4,binaryOutputStatus13)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(11,0x2,0x0b033052,2,3,0x1A00,0x60D1,0x1,4,binaryOutputStatus14)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(11,0x2,0x0b033052,2,3,0x1A00,0x60E1,0x1,4,binaryOutputStatus15)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(11,0x2,0x0b033052,2,3,0x1A00,0x60F1,0x1,4,binaryOutputStatus16)"
# deduce what the prefix should be
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd" "MASTER_ID=0,SLAVE_POS=11,HWTYPE=EL2819"
#==============================================================================
#2022/05/13 08:36:34.964 OK
2022/05/13 08:36:34.965 OK
2022/05/13 08:36:34.965 OK
2022/05/13 08:36:34.965 OK
2022/05/13 08:36:34.965 OK
2022/05/13 08:36:34.965 OK
2022/05/13 08:36:34.965 OK
2022/05/13 08:36:34.965 OK
2022/05/13 08:36:34.965 OK
2022/05/13 08:36:34.965 OK
2022/05/13 08:36:34.965 OK
2022/05/13 08:36:34.965 OK
2022/05/13 08:36:34.965 OK
2022/05/13 08:36:34.965 OK
2022/05/13 08:36:34.965 OK
2022/05/13 08:36:34.965 OK
 ecmcmXsXXX.cmd
ecmcEpicsEnvSetCalc("sid", "11","%03d")
ecmcEpicsEnvSetCalc("mid", "0","%01d")
epicsEnvSet("ECMC_G",            "IOC_TEST:m0s011")
epicsEnvSet("ECMC_P",            "IOC_TEST:m0s011-")
epicsEnvUnset(sid)
epicsEnvUnset(mid)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SUBS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applySubstitutions.cmd" "SUBST_FILE=ecmcEL2819.substitutions,ECMC_P=IOC_TEST:m0s011-"
#==============================================================================
# applySubstitutions.cmd
ecmcFileExist(ecmcEL2819.substitutions,1,1)
dbLoadTemplate(ecmcEL2819.substitutions,"ECMC_P=IOC_TEST:m0s011-,ECMC_G=IOC_TEST:m0s011,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=11,HWTYPE=EL2819,T_SMP_MS=10,TSE=-2,NELM=1")
epicsEnvUnset(DEFAULT_SUBS)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SLAVE_PVS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applyTemplate.cmd" "TEMPLATE_FILE=ecmcEcSlave.template,ECMC_P=IOC_TEST:m0s011-,ECMC_G=IOC_TEST:m0s011"
#==============================================================================
# applyTemplate.cmd
ecmcFileExist(ecmcEcSlave.template,1,1)
dbLoadRecords("ecmcEcSlave.template", "ECMC_P=IOC_TEST:m0s011-,ECMC_G=IOC_TEST:m0s011,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=11,HWTYPE=EL2819,T_SMP_MS=10,TSE=-2,")
epicsEnvUnset(DEFAULT_SLAVE_PVS)
# increment SLAVE_ID
ecmcEpicsEnvSetCalc("SLAVE_ID", "11+1","%d")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addSlave.cmd, "HW_DESC=EL2819"
#==============================================================================
# addSlave.cmd
epicsEnvSet("ECMC_EC_SLAVE_NUM",  "12")
epicsEnvSet("HW_DESC",            "EL2819")
epicsEnvSet("P_SCRIPT",           "mXsXXX")
# add ${HW_DESC} to the bus at position ${SLAVE_ID}
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL2819.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL2819.cmd" "NELM=1"
epicsEnvSet("ECMC_EC_HWTYPE"             "EL2819")
epicsEnvSet("ECMC_EC_VENDOR_ID"          "0x2")
epicsEnvSet("ECMC_EC_PRODUCT_ID"         "0x0b033052")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/slaveVerify.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_VERIFY, "0==0", "","#- ")
ecmcConfigOrDie "Cfg.EcSlaveVerify(0,12,0x2,0x0b033052)"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_RESET, "0>0", "","#- ")
epicsEnvSet(ECMC_EC_SLAVE_FW, "0x0000")
epicsEnvUnset(ECMC_SLAVE_VERIFY)
epicsEnvUnset(ECMC_COMMENT)
ecmcConfigOrDie "Cfg.EcAddEntryComplete(12,0x2,0x0b033052,1,2,0x1600,0x7000,0x1,1,binaryOutput01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(12,0x2,0x0b033052,1,2,0x1600,0x7010,0x1,1,binaryOutput02)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(12,0x2,0x0b033052,1,2,0x1600,0x7020,0x1,1,binaryOutput03)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(12,0x2,0x0b033052,1,2,0x1600,0x7030,0x1,1,binaryOutput04)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(12,0x2,0x0b033052,1,2,0x1600,0x7040,0x1,1,binaryOutput05)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(12,0x2,0x0b033052,1,2,0x1600,0x7050,0x1,1,binaryOutput06)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(12,0x2,0x0b033052,1,2,0x1600,0x7060,0x1,1,binaryOutput07)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(12,0x2,0x0b033052,1,2,0x1600,0x7070,0x1,1,binaryOutput08)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(12,0x2,0x0b033052,1,2,0x1600,0x7080,0x1,1,binaryOutput09)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(12,0x2,0x0b033052,1,2,0x1600,0x7090,0x1,1,binaryOutput10)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(12,0x2,0x0b033052,1,2,0x1600,0x70A0,0x1,1,binaryOutput11)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(12,0x2,0x0b033052,1,2,0x1600,0x70B0,0x1,1,binaryOutput12)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(12,0x2,0x0b033052,1,2,0x1600,0x70C0,0x1,1,binaryOutput13)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(12,0x2,0x0b033052,1,2,0x1600,0x70D0,0x1,1,binaryOutput14)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(12,0x2,0x0b033052,1,2,0x1600,0x70E0,0x1,1,binaryOutput15)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(12,0x2,0x0b033052,1,2,0x1600,2022/05/13 08:36:34.965 OK
2022/05/13 08:36:34.966 OK
2022/05/13 08:36:34.966 OK
2022/05/13 08:36:34.966 OK
2022/05/13 08:36:34.966 OK
2022/05/13 08:36:34.966 OK
2022/05/13 08:36:34.966 OK
2022/05/13 08:36:34.966 OK
2022/05/13 08:36:34.966 OK
2022/05/13 08:36:34.966 OK
2022/05/13 08:36:34.966 OK
2022/05/13 08:36:34.966 OK
2022/05/13 08:36:34.966 OK
2022/05/13 08:36:34.966 OK
2022/05/13 08:36:34.966 OK
2022/05/13 08:36:34.966 OK
2022/05/13 08:36:34.966 OK
0x70F0,0x1,1,binaryOutput16)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(12,0x2,0x0b033052,2,3,0x1A00,0x6001,0x1,4,binaryOutputStatus01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(12,0x2,0x0b033052,2,3,0x1A00,0x6011,0x1,4,binaryOutputStatus02)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(12,0x2,0x0b033052,2,3,0x1A00,0x6021,0x1,4,binaryOutputStatus03)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(12,0x2,0x0b033052,2,3,0x1A00,0x6031,0x1,4,binaryOutputStatus04)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(12,0x2,0x0b033052,2,3,0x1A00,0x6041,0x1,4,binaryOutputStatus05)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(12,0x2,0x0b033052,2,3,0x1A00,0x6051,0x1,4,binaryOutputStatus06)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(12,0x2,0x0b033052,2,3,0x1A00,0x6061,0x1,4,binaryOutputStatus07)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(12,0x2,0x0b033052,2,3,0x1A00,0x6071,0x1,4,binaryOutputStatus08)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(12,0x2,0x0b033052,2,3,0x1A00,0x6081,0x1,4,binaryOutputStatus09)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(12,0x2,0x0b033052,2,3,0x1A00,0x6091,0x1,4,binaryOutputStatus10)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(12,0x2,0x0b033052,2,3,0x1A00,0x60A1,0x1,4,binaryOutputStatus11)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(12,0x2,0x0b033052,2,3,0x1A00,0x60B1,0x1,4,binaryOutputStatus12)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(12,0x2,0x0b033052,2,3,0x1A00,0x60C1,0x1,4,binaryOutputStatus13)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(12,0x2,0x0b033052,2,3,0x1A00,0x60D1,0x1,4,binaryOutputStatus14)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(12,0x2,0x0b033052,2,3,0x1A00,0x60E1,0x1,4,binaryOutputStatus15)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(12,0x2,0x0b033052,2,3,0x1A00,0x60F1,0x1,4,binaryOutputStatus16)"
# deduce what the prefix should be
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd" "MASTER_ID=0,SLAVE_POS=12,HWTYPE=EL2819"
#==============================================================================
# ecmcmXsXXX.cmd
ecmcEpicsEnvSetCalc("sid", "12","%03d")
ecmcEpicsEnvSetCalc("mid", "0","%01d")
epicsEnvSet("ECMC_G",            "IOC_TEST:m0s012")
epicsEnvSet("ECMC_P",            "IOC_TEST:m0s012-")
epicsEnvUnset(sid)
epicsEnvUnset(mid)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SUBS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applySubstitutions.cmd" "SUBST_FILE=ecmcEL2819.substitutions,ECMC_P=IOC_TEST:m0s012-"
#==============================================================================
# applySubstitutions.cmd
ecmcFileExist(ecmcEL2819.substitutions,1,1)
dbLoadTemplate(ecmcEL2819.substitutions,"ECMC_P=IOC_TEST:m0s012-,ECMC_G=IOC_TEST:m0s012,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=12,HWTYPE=EL2819,T_SMP_MS=10,TSE=-2,NELM=1")
epicsEnvUnset(DEFAULT_SUBS)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SLAVE_PVS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applyTemplate.cmd" "TEMPLATE_FILE=ecmcEcSlave.template,ECMC_P=IOC_TEST:m0s012-,ECMC_G=IOC_TEST:m0s012"
#==============================================================================
# applyTemplate.cmd
ecmcFileExist(ecmcEcSlave.template,1,1)
dbLoadRecords("ecmcEcSlave.template", "ECMC_P=IOC_TEST:m0s012-,ECMC_G=IOC_TEST:m0s012,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=12,HWTYPE=EL2819,T_SMP_MS=10,TSE=-2,")
epicsEnvUnset(DEFAULT_SLAVE_PVS)
# increment SLAVE_ID
ecmcEpicsEnvSetCalc("SLAVE_ID", "12+1","%d")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addSlave.cmd, "HW_DESC=EL1808"
#==============================================================================
# addSlave.cmd
epicsEnvSet("ECMC_EC_SLAVE_NUM",  "13")
epicsEnvSet("HW_DESC",            "EL1808")
epicsEnvSet("P_SCRIPT",           "mXsXXX")
# add ${HW_DESC} to the bus at position ${SLAVE_ID}
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL1808.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL1808.cmd" "NELM=1"
epicsEnvSet("ECMC_EC_HWTYPE"     2022/05/13 08:36:34.976 OK
2022/05/13 08:36:34.977 OK
2022/05/13 08:36:34.977 OK
2022/05/13 08:36:34.977 OK
2022/05/13 08:36:34.977 OK
2022/05/13 08:36:34.977 OK
2022/05/13 08:36:34.977 OK
2022/05/13 08:36:34.977 OK
2022/05/13 08:36:34.978 OK
2022/05/13 08:36:34.983 OK
        "EL1808")
epicsEnvSet("ECMC_EC_VENDOR_ID"          "0x2")
epicsEnvSet("ECMC_EC_PRODUCT_ID"         "0x07103052")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/slaveVerify.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_VERIFY, "0==0", "","#- ")
ecmcConfigOrDie "Cfg.EcSlaveVerify(0,13,0x2,0x07103052)"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_RESET, "0>0", "","#- ")
epicsEnvSet(ECMC_EC_SLAVE_FW, "0x0000")
epicsEnvUnset(ECMC_SLAVE_VERIFY)
epicsEnvUnset(ECMC_COMMENT)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEX1008.cmd
ecmcConfigOrDie "Cfg.EcAddEntryDT(13,0x2,0x07103052,2,0,0x1a00,0x6000,0x1,B1,binaryInput01)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(13,0x2,0x07103052,2,0,0x1a01,0x6010,0x1,B1,binaryInput02)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(13,0x2,0x07103052,2,0,0x1a02,0x6020,0x1,B1,binaryInput03)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(13,0x2,0x07103052,2,0,0x1a03,0x6030,0x1,B1,binaryInput04)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(13,0x2,0x07103052,2,0,0x1a04,0x6040,0x1,B1,binaryInput05)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(13,0x2,0x07103052,2,0,0x1a05,0x6050,0x1,B1,binaryInput06)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(13,0x2,0x07103052,2,0,0x1a06,0x6060,0x1,B1,binaryInput07)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(13,0x2,0x07103052,2,0,0x1a07,0x6070,0x1,B1,binaryInput08)"
# deduce what the prefix should be
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd" "MASTER_ID=0,SLAVE_POS=13,HWTYPE=EL1808"
#==============================================================================
# ecmcmXsXXX.cmd
ecmcEpicsEnvSetCalc("sid", "13","%03d")
ecmcEpicsEnvSetCalc("mid", "0","%01d")
epicsEnvSet("ECMC_G",            "IOC_TEST:m0s013")
epicsEnvSet("ECMC_P",            "IOC_TEST:m0s013-")
epicsEnvUnset(sid)
epicsEnvUnset(mid)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SUBS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applySubstitutions.cmd" "SUBST_FILE=ecmcEL1808.substitutions,ECMC_P=IOC_TEST:m0s013-"
#==============================================================================
# applySubstitutions.cmd
ecmcFileExist(ecmcEL1808.substitutions,1,1)
dbLoadTemplate(ecmcEL1808.substitutions,"ECMC_P=IOC_TEST:m0s013-,ECMC_G=IOC_TEST:m0s013,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=13,HWTYPE=EL1808,T_SMP_MS=10,TSE=-2,NELM=1")
epicsEnvUnset(DEFAULT_SUBS)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SLAVE_PVS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applyTemplate.cmd" "TEMPLATE_FILE=ecmcEcSlave.template,ECMC_P=IOC_TEST:m0s013-,ECMC_G=IOC_TEST:m0s013"
#==============================================================================
# applyTemplate.cmd
ecmcFileExist(ecmcEcSlave.template,1,1)
dbLoadRecords("ecmcEcSlave.template", "ECMC_P=IOC_TEST:m0s013-,ECMC_G=IOC_TEST:m0s013,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=13,HWTYPE=EL1808,T_SMP_MS=10,TSE=-2,")
epicsEnvUnset(DEFAULT_SLAVE_PVS)
# increment SLAVE_ID
ecmcEpicsEnvSetCalc("SLAVE_ID", "13+1","%d")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addSlave.cmd, "HW_DESC=EL1808"
#==============================================================================
# addSlave.cmd
epicsEnvSet("ECMC_EC_SLAVE_NUM",  "14")
epicsEnvSet("HW_DESC",            "EL1808")
epicsEnvSet("P_SCRIPT",           "mXsXXX")
# add ${HW_DESC} to the bus at position ${SLAVE_ID}
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL1808.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL1808.cmd" "NELM=1"
epicsEnvSet("ECMC_EC_HWTYPE"             "EL1808")
epicsEnvSet("ECMC_EC_VENDOR_ID"          "0x2")
epicsEnvSet("ECMC_EC_PRODUCT_ID"         "0x07103052")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/slaveVerify.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_VERIFY, "0==0", "","#- ")
ecmcConfigOrDie "Cfg.EcSlaveVerify(0,14,0x2,0x07103052)"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_RESET, "0>0", "","#- ")
epicsEnvS2022/05/13 08:36:34.983 OK
2022/05/13 08:36:34.983 OK
2022/05/13 08:36:34.984 OK
2022/05/13 08:36:34.984 OK
2022/05/13 08:36:34.984 OK
2022/05/13 08:36:34.984 OK
2022/05/13 08:36:34.984 OK
2022/05/13 08:36:34.984 OK
2022/05/13 08:36:34.989 OK
2022/05/13 08:36:34.990 OK
2022/05/13 08:36:34.990 OK
et(ECMC_EC_SLAVE_FW, "0x0000")
epicsEnvUnset(ECMC_SLAVE_VERIFY)
epicsEnvUnset(ECMC_COMMENT)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEX1008.cmd
ecmcConfigOrDie "Cfg.EcAddEntryDT(14,0x2,0x07103052,2,0,0x1a00,0x6000,0x1,B1,binaryInput01)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(14,0x2,0x07103052,2,0,0x1a01,0x6010,0x1,B1,binaryInput02)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(14,0x2,0x07103052,2,0,0x1a02,0x6020,0x1,B1,binaryInput03)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(14,0x2,0x07103052,2,0,0x1a03,0x6030,0x1,B1,binaryInput04)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(14,0x2,0x07103052,2,0,0x1a04,0x6040,0x1,B1,binaryInput05)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(14,0x2,0x07103052,2,0,0x1a05,0x6050,0x1,B1,binaryInput06)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(14,0x2,0x07103052,2,0,0x1a06,0x6060,0x1,B1,binaryInput07)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(14,0x2,0x07103052,2,0,0x1a07,0x6070,0x1,B1,binaryInput08)"
# deduce what the prefix should be
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd" "MASTER_ID=0,SLAVE_POS=14,HWTYPE=EL1808"
#==============================================================================
# ecmcmXsXXX.cmd
ecmcEpicsEnvSetCalc("sid", "14","%03d")
ecmcEpicsEnvSetCalc("mid", "0","%01d")
epicsEnvSet("ECMC_G",            "IOC_TEST:m0s014")
epicsEnvSet("ECMC_P",            "IOC_TEST:m0s014-")
epicsEnvUnset(sid)
epicsEnvUnset(mid)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SUBS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applySubstitutions.cmd" "SUBST_FILE=ecmcEL1808.substitutions,ECMC_P=IOC_TEST:m0s014-"
#==============================================================================
# applySubstitutions.cmd
ecmcFileExist(ecmcEL1808.substitutions,1,1)
dbLoadTemplate(ecmcEL1808.substitutions,"ECMC_P=IOC_TEST:m0s014-,ECMC_G=IOC_TEST:m0s014,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=14,HWTYPE=EL1808,T_SMP_MS=10,TSE=-2,NELM=1")
epicsEnvUnset(DEFAULT_SUBS)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SLAVE_PVS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applyTemplate.cmd" "TEMPLATE_FILE=ecmcEcSlave.template,ECMC_P=IOC_TEST:m0s014-,ECMC_G=IOC_TEST:m0s014"
#==============================================================================
# applyTemplate.cmd
ecmcFileExist(ecmcEcSlave.template,1,1)
dbLoadRecords("ecmcEcSlave.template", "ECMC_P=IOC_TEST:m0s014-,ECMC_G=IOC_TEST:m0s014,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=14,HWTYPE=EL1808,T_SMP_MS=10,TSE=-2,")
epicsEnvUnset(DEFAULT_SLAVE_PVS)
# increment SLAVE_ID
ecmcEpicsEnvSetCalc("SLAVE_ID", "14+1","%d")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addSlave.cmd, "HW_DESC=EL1808"
#==============================================================================
# addSlave.cmd
epicsEnvSet("ECMC_EC_SLAVE_NUM",  "15")
epicsEnvSet("HW_DESC",            "EL1808")
epicsEnvSet("P_SCRIPT",           "mXsXXX")
# add ${HW_DESC} to the bus at position ${SLAVE_ID}
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL1808.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL1808.cmd" "NELM=1"
epicsEnvSet("ECMC_EC_HWTYPE"             "EL1808")
epicsEnvSet("ECMC_EC_VENDOR_ID"          "0x2")
epicsEnvSet("ECMC_EC_PRODUCT_ID"         "0x07103052")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/slaveVerify.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_VERIFY, "0==0", "","#- ")
ecmcConfigOrDie "Cfg.EcSlaveVerify(0,15,0x2,0x07103052)"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_RESET, "0>0", "","#- ")
epicsEnvSet(ECMC_EC_SLAVE_FW, "0x0000")
epicsEnvUnset(ECMC_SLAVE_VERIFY)
epicsEnvUnset(ECMC_COMMENT)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEX1008.cmd
ecmcConfigOrDie "Cfg.EcAddEntryDT(15,0x2,0x07103052,2,0,0x1a00,0x6000,0x1,B1,binaryInput01)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(15,0x2,0x07103052,2,0,0x1a01,0x6010,0x1,B1,binaryInput02)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(152022/05/13 08:36:34.990 OK
2022/05/13 08:36:34.990 OK
2022/05/13 08:36:34.990 OK
2022/05/13 08:36:34.990 OK
2022/05/13 08:36:34.990 OK
2022/05/13 08:36:34.990 OK
2022/05/13 08:36:34.995 OK
2022/05/13 08:36:34.996 OK
2022/05/13 08:36:34.996 OK
2022/05/13 08:36:34.996 OK
2022/05/13 08:36:34.996 OK
2022/05/13 08:36:34.996 OK
2022/05/13 08:36:34.997 OK
,0x2,0x07103052,2,0,0x1a02,0x6020,0x1,B1,binaryInput03)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(15,0x2,0x07103052,2,0,0x1a03,0x6030,0x1,B1,binaryInput04)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(15,0x2,0x07103052,2,0,0x1a04,0x6040,0x1,B1,binaryInput05)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(15,0x2,0x07103052,2,0,0x1a05,0x6050,0x1,B1,binaryInput06)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(15,0x2,0x07103052,2,0,0x1a06,0x6060,0x1,B1,binaryInput07)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(15,0x2,0x07103052,2,0,0x1a07,0x6070,0x1,B1,binaryInput08)"
# deduce what the prefix should be
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd" "MASTER_ID=0,SLAVE_POS=15,HWTYPE=EL1808"
#==============================================================================
# ecmcmXsXXX.cmd
ecmcEpicsEnvSetCalc("sid", "15","%03d")
ecmcEpicsEnvSetCalc("mid", "0","%01d")
epicsEnvSet("ECMC_G",            "IOC_TEST:m0s015")
epicsEnvSet("ECMC_P",            "IOC_TEST:m0s015-")
epicsEnvUnset(sid)
epicsEnvUnset(mid)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SUBS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applySubstitutions.cmd" "SUBST_FILE=ecmcEL1808.substitutions,ECMC_P=IOC_TEST:m0s015-"
#==============================================================================
# applySubstitutions.cmd
ecmcFileExist(ecmcEL1808.substitutions,1,1)
dbLoadTemplate(ecmcEL1808.substitutions,"ECMC_P=IOC_TEST:m0s015-,ECMC_G=IOC_TEST:m0s015,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=15,HWTYPE=EL1808,T_SMP_MS=10,TSE=-2,NELM=1")
epicsEnvUnset(DEFAULT_SUBS)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SLAVE_PVS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applyTemplate.cmd" "TEMPLATE_FILE=ecmcEcSlave.template,ECMC_P=IOC_TEST:m0s015-,ECMC_G=IOC_TEST:m0s015"
#==============================================================================
# applyTemplate.cmd
ecmcFileExist(ecmcEcSlave.template,1,1)
dbLoadRecords("ecmcEcSlave.template", "ECMC_P=IOC_TEST:m0s015-,ECMC_G=IOC_TEST:m0s015,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=15,HWTYPE=EL1808,T_SMP_MS=10,TSE=-2,")
epicsEnvUnset(DEFAULT_SLAVE_PVS)
# increment SLAVE_ID
ecmcEpicsEnvSetCalc("SLAVE_ID", "15+1","%d")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addSlave.cmd, "HW_DESC=EL1808"
#==============================================================================
# addSlave.cmd
epicsEnvSet("ECMC_EC_SLAVE_NUM",  "16")
epicsEnvSet("HW_DESC",            "EL1808")
epicsEnvSet("P_SCRIPT",           "mXsXXX")
# add ${HW_DESC} to the bus at position ${SLAVE_ID}
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL1808.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL1808.cmd" "NELM=1"
epicsEnvSet("ECMC_EC_HWTYPE"             "EL1808")
epicsEnvSet("ECMC_EC_VENDOR_ID"          "0x2")
epicsEnvSet("ECMC_EC_PRODUCT_ID"         "0x07103052")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/slaveVerify.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_VERIFY, "0==0", "","#- ")
ecmcConfigOrDie "Cfg.EcSlaveVerify(0,16,0x2,0x07103052)"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_RESET, "0>0", "","#- ")
epicsEnvSet(ECMC_EC_SLAVE_FW, "0x0000")
epicsEnvUnset(ECMC_SLAVE_VERIFY)
epicsEnvUnset(ECMC_COMMENT)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEX1008.cmd
ecmcConfigOrDie "Cfg.EcAddEntryDT(16,0x2,0x07103052,2,0,0x1a00,0x6000,0x1,B1,binaryInput01)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(16,0x2,0x07103052,2,0,0x1a01,0x6010,0x1,B1,binaryInput02)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(16,0x2,0x07103052,2,0,0x1a02,0x6020,0x1,B1,binaryInput03)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(16,0x2,0x07103052,2,0,0x1a03,0x6030,0x1,B1,binaryInput04)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(16,0x2,0x07103052,2,0,0x1a04,0x6040,0x1,B1,binaryInput05)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(16,0x2,0x07103052,2,0,0x1a05,0x6050,0x1,B1,binaryInput06)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(16,0x2,0x07103052,2,0,0x1a2022/05/13 08:36:34.997 OK
2022/05/13 08:36:34.997 OK
2022/05/13 08:36:35.002 OK
2022/05/13 08:36:35.003 OK
2022/05/13 08:36:35.003 OK
2022/05/13 08:36:35.003 OK
2022/05/13 08:36:35.003 OK
2022/05/13 08:36:35.003 OK
2022/05/13 08:36:35.003 OK
2022/05/13 08:36:35.003 OK
2022/05/13 08:36:35.003 OK
06,0x6060,0x1,B1,binaryInput07)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(16,0x2,0x07103052,2,0,0x1a07,0x6070,0x1,B1,binaryInput08)"
# deduce what the prefix should be
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd" "MASTER_ID=0,SLAVE_POS=16,HWTYPE=EL1808"
#==============================================================================
# ecmcmXsXXX.cmd
ecmcEpicsEnvSetCalc("sid", "16","%03d")
ecmcEpicsEnvSetCalc("mid", "0","%01d")
epicsEnvSet("ECMC_G",            "IOC_TEST:m0s016")
epicsEnvSet("ECMC_P",            "IOC_TEST:m0s016-")
epicsEnvUnset(sid)
epicsEnvUnset(mid)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SUBS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applySubstitutions.cmd" "SUBST_FILE=ecmcEL1808.substitutions,ECMC_P=IOC_TEST:m0s016-"
#==============================================================================
# applySubstitutions.cmd
ecmcFileExist(ecmcEL1808.substitutions,1,1)
dbLoadTemplate(ecmcEL1808.substitutions,"ECMC_P=IOC_TEST:m0s016-,ECMC_G=IOC_TEST:m0s016,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=16,HWTYPE=EL1808,T_SMP_MS=10,TSE=-2,NELM=1")
epicsEnvUnset(DEFAULT_SUBS)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SLAVE_PVS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applyTemplate.cmd" "TEMPLATE_FILE=ecmcEcSlave.template,ECMC_P=IOC_TEST:m0s016-,ECMC_G=IOC_TEST:m0s016"
#==============================================================================
# applyTemplate.cmd
ecmcFileExist(ecmcEcSlave.template,1,1)
dbLoadRecords("ecmcEcSlave.template", "ECMC_P=IOC_TEST:m0s016-,ECMC_G=IOC_TEST:m0s016,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=16,HWTYPE=EL1808,T_SMP_MS=10,TSE=-2,")
epicsEnvUnset(DEFAULT_SLAVE_PVS)
# increment SLAVE_ID
ecmcEpicsEnvSetCalc("SLAVE_ID", "16+1","%d")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addSlave.cmd, "HW_DESC=EL1808"
#==============================================================================
# addSlave.cmd
epicsEnvSet("ECMC_EC_SLAVE_NUM",  "17")
epicsEnvSet("HW_DESC",            "EL1808")
epicsEnvSet("P_SCRIPT",           "mXsXXX")
# add ${HW_DESC} to the bus at position ${SLAVE_ID}
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL1808.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL1808.cmd" "NELM=1"
epicsEnvSet("ECMC_EC_HWTYPE"             "EL1808")
epicsEnvSet("ECMC_EC_VENDOR_ID"          "0x2")
epicsEnvSet("ECMC_EC_PRODUCT_ID"         "0x07103052")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/slaveVerify.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_VERIFY, "0==0", "","#- ")
ecmcConfigOrDie "Cfg.EcSlaveVerify(0,17,0x2,0x07103052)"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_RESET, "0>0", "","#- ")
epicsEnvSet(ECMC_EC_SLAVE_FW, "0x0000")
epicsEnvUnset(ECMC_SLAVE_VERIFY)
epicsEnvUnset(ECMC_COMMENT)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEX1008.cmd
ecmcConfigOrDie "Cfg.EcAddEntryDT(17,0x2,0x07103052,2,0,0x1a00,0x6000,0x1,B1,binaryInput01)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(17,0x2,0x07103052,2,0,0x1a01,0x6010,0x1,B1,binaryInput02)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(17,0x2,0x07103052,2,0,0x1a02,0x6020,0x1,B1,binaryInput03)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(17,0x2,0x07103052,2,0,0x1a03,0x6030,0x1,B1,binaryInput04)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(17,0x2,0x07103052,2,0,0x1a04,0x6040,0x1,B1,binaryInput05)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(17,0x2,0x07103052,2,0,0x1a05,0x6050,0x1,B1,binaryInput06)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(17,0x2,0x07103052,2,0,0x1a06,0x6060,0x1,B1,binaryInput07)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(17,0x2,0x07103052,2,0,0x1a07,0x6070,0x1,B1,binaryInput08)"
# deduce what the prefix should be
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd" "MASTER_ID=0,SLAVE_POS=17,HWTYPE=EL1808"
#==================2022/05/13 08:36:35.008 OK
2022/05/13 08:36:35.009 OK
2022/05/13 08:36:35.009 OK
2022/05/13 08:36:35.009 OK
2022/05/13 08:36:35.009 OK
2022/05/13 08:36:35.009 OK
2022/05/13 08:36:35.009 OK
2022/05/13 08:36:35.009 OK
2022/05/13 08:36:35.010 OK
============================================================
# ecmcmXsXXX.cmd
ecmcEpicsEnvSetCalc("sid", "17","%03d")
ecmcEpicsEnvSetCalc("mid", "0","%01d")
epicsEnvSet("ECMC_G",            "IOC_TEST:m0s017")
epicsEnvSet("ECMC_P",            "IOC_TEST:m0s017-")
epicsEnvUnset(sid)
epicsEnvUnset(mid)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SUBS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applySubstitutions.cmd" "SUBST_FILE=ecmcEL1808.substitutions,ECMC_P=IOC_TEST:m0s017-"
#==============================================================================
# applySubstitutions.cmd
ecmcFileExist(ecmcEL1808.substitutions,1,1)
dbLoadTemplate(ecmcEL1808.substitutions,"ECMC_P=IOC_TEST:m0s017-,ECMC_G=IOC_TEST:m0s017,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=17,HWTYPE=EL1808,T_SMP_MS=10,TSE=-2,NELM=1")
epicsEnvUnset(DEFAULT_SUBS)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SLAVE_PVS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applyTemplate.cmd" "TEMPLATE_FILE=ecmcEcSlave.template,ECMC_P=IOC_TEST:m0s017-,ECMC_G=IOC_TEST:m0s017"
#==============================================================================
# applyTemplate.cmd
ecmcFileExist(ecmcEcSlave.template,1,1)
dbLoadRecords("ecmcEcSlave.template", "ECMC_P=IOC_TEST:m0s017-,ECMC_G=IOC_TEST:m0s017,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=17,HWTYPE=EL1808,T_SMP_MS=10,TSE=-2,")
epicsEnvUnset(DEFAULT_SLAVE_PVS)
# increment SLAVE_ID
ecmcEpicsEnvSetCalc("SLAVE_ID", "17+1","%d")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addSlave.cmd, "HW_DESC=EL1018"
#==============================================================================
# addSlave.cmd
epicsEnvSet("ECMC_EC_SLAVE_NUM",  "18")
epicsEnvSet("HW_DESC",            "EL1018")
epicsEnvSet("P_SCRIPT",           "mXsXXX")
# add ${HW_DESC} to the bus at position ${SLAVE_ID}
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL1018.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL1018.cmd" "NELM=1"
epicsEnvSet("ECMC_EC_HWTYPE"             "EL1018")
epicsEnvSet("ECMC_EC_VENDOR_ID"          "0x2")
epicsEnvSet("ECMC_EC_PRODUCT_ID"         "0x03fa3052")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/slaveVerify.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_VERIFY, "0==0", "","#- ")
ecmcConfigOrDie "Cfg.EcSlaveVerify(0,18,0x2,0x03fa3052)"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_RESET, "0>0", "","#- ")
epicsEnvSet(ECMC_EC_SLAVE_FW, "0x0000")
epicsEnvUnset(ECMC_SLAVE_VERIFY)
epicsEnvUnset(ECMC_COMMENT)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEX1008.cmd
ecmcConfigOrDie "Cfg.EcAddEntryDT(18,0x2,0x03fa3052,2,0,0x1a00,0x6000,0x1,B1,binaryInput01)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(18,0x2,0x03fa3052,2,0,0x1a01,0x6010,0x1,B1,binaryInput02)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(18,0x2,0x03fa3052,2,0,0x1a02,0x6020,0x1,B1,binaryInput03)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(18,0x2,0x03fa3052,2,0,0x1a03,0x6030,0x1,B1,binaryInput04)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(18,0x2,0x03fa3052,2,0,0x1a04,0x6040,0x1,B1,binaryInput05)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(18,0x2,0x03fa3052,2,0,0x1a05,0x6050,0x1,B1,binaryInput06)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(18,0x2,0x03fa3052,2,0,0x1a06,0x6060,0x1,B1,binaryInput07)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(18,0x2,0x03fa3052,2,0,0x1a07,0x6070,0x1,B1,binaryInput08)"
# deduce what the prefix should be
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd" "MASTER_ID=0,SLAVE_POS=18,HWTYPE=EL1018"
#==============================================================================
# ecmcmXsXXX.cmd
ecmcEpicsEnvSetCalc("sid", "18","%03d")
ecmcEpicsEnvSetCalc("mid", "0","%01d")
epicsEnvSet("ECMC_G",            "IOC_TEST:m0s018")
epicsEnvSet("ECMC_P",            "IOC_TEST:m0s018-")
epicsEnvUnset(sid)
epicsEnvUnset(mid)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SUBS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/2022/05/13 08:36:35.015 OK
2022/05/13 08:36:35.015 OK
2022/05/13 08:36:35.015 OK
2022/05/13 08:36:35.016 OK
2022/05/13 08:36:35.016 OK
3.4.1/siteMods/ecmccfg/7.0.1+0/applySubstitutions.cmd" "SUBST_FILE=ecmcEL1018.substitutions,ECMC_P=IOC_TEST:m0s018-"
#==============================================================================
# applySubstitutions.cmd
ecmcFileExist(ecmcEL1018.substitutions,1,1)
dbLoadTemplate(ecmcEL1018.substitutions,"ECMC_P=IOC_TEST:m0s018-,ECMC_G=IOC_TEST:m0s018,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=18,HWTYPE=EL1018,T_SMP_MS=10,TSE=-2,NELM=1")
epicsEnvUnset(DEFAULT_SUBS)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SLAVE_PVS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applyTemplate.cmd" "TEMPLATE_FILE=ecmcEcSlave.template,ECMC_P=IOC_TEST:m0s018-,ECMC_G=IOC_TEST:m0s018"
#==============================================================================
# applyTemplate.cmd
ecmcFileExist(ecmcEcSlave.template,1,1)
dbLoadRecords("ecmcEcSlave.template", "ECMC_P=IOC_TEST:m0s018-,ECMC_G=IOC_TEST:m0s018,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=18,HWTYPE=EL1018,T_SMP_MS=10,TSE=-2,")
epicsEnvUnset(DEFAULT_SLAVE_PVS)
# increment SLAVE_ID
ecmcEpicsEnvSetCalc("SLAVE_ID", "18+1","%d")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addSlave.cmd, "HW_DESC=EL2004"
#==============================================================================
# addSlave.cmd
epicsEnvSet("ECMC_EC_SLAVE_NUM",  "19")
epicsEnvSet("HW_DESC",            "EL2004")
epicsEnvSet("P_SCRIPT",           "mXsXXX")
# add ${HW_DESC} to the bus at position ${SLAVE_ID}
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL2004.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL2004.cmd" "NELM=1"
epicsEnvSet("ECMC_EC_HWTYPE"             "EL2004")
epicsEnvSet("ECMC_EC_VENDOR_ID"          "0x2")
epicsEnvSet("ECMC_EC_PRODUCT_ID"         "0x07d43052")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/slaveVerify.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_VERIFY, "0==0", "","#- ")
ecmcConfigOrDie "Cfg.EcSlaveVerify(0,19,0x2,0x07d43052)"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_RESET, "0>0", "","#- ")
epicsEnvSet(ECMC_EC_SLAVE_FW, "0x0000")
epicsEnvUnset(ECMC_SLAVE_VERIFY)
epicsEnvUnset(ECMC_COMMENT)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEX2004.cmd
ecmcConfigOrDie "Cfg.EcAddEntryDT(19,0x2,0x07d43052,1,0,0x1600,0x7000,0x1,B1,binaryOutput01)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(19,0x2,0x07d43052,1,0,0x1601,0x7010,0x1,B1,binaryOutput02)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(19,0x2,0x07d43052,1,0,0x1602,0x7020,0x1,B1,binaryOutput03)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(19,0x2,0x07d43052,1,0,0x1603,0x7030,0x1,B1,binaryOutput04)"
# deduce what the prefix should be
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd" "MASTER_ID=0,SLAVE_POS=19,HWTYPE=EL2004"
#==============================================================================
# ecmcmXsXXX.cmd
ecmcEpicsEnvSetCalc("sid", "19","%03d")
ecmcEpicsEnvSetCalc("mid", "0","%01d")
epicsEnvSet("ECMC_G",            "IOC_TEST:m0s019")
epicsEnvSet("ECMC_P",            "IOC_TEST:m0s019-")
epicsEnvUnset(sid)
epicsEnvUnset(mid)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SUBS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applySubstitutions.cmd" "SUBST_FILE=ecmcEL2004.substitutions,ECMC_P=IOC_TEST:m0s019-"
#==============================================================================
# applySubstitutions.cmd
ecmcFileExist(ecmcEL2004.substitutions,1,1)
dbLoadTemplate(ecmcEL2004.substitutions,"ECMC_P=IOC_TEST:m0s019-,ECMC_G=IOC_TEST:m0s019,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=19,HWTYPE=EL2004,T_SMP_MS=10,TSE=-2,NELM=1")
epicsEnvUnset(DEFAULT_SUBS)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SLAVE_PVS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applyTemplate.cmd" "TEMPLATE_FILE=ecmcEcSlave.template,ECMC_P=IOC_TEST:m0s019-,ECMC_G=IOC_TEST:m0s019"
#=================================================2022/05/13 08:36:35.020 OK
2022/05/13 08:36:35.021 OK
2022/05/13 08:36:35.021 OK
2022/05/13 08:36:35.021 OK
2022/05/13 08:36:35.021 OK
2022/05/13 08:36:35.021 OK
2022/05/13 08:36:35.021 OK
2022/05/13 08:36:35.022 OK
2022/05/13 08:36:35.022 OK
=============================
# applyTemplate.cmd
ecmcFileExist(ecmcEcSlave.template,1,1)
dbLoadRecords("ecmcEcSlave.template", "ECMC_P=IOC_TEST:m0s019-,ECMC_G=IOC_TEST:m0s019,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=19,HWTYPE=EL2004,T_SMP_MS=10,TSE=-2,")
epicsEnvUnset(DEFAULT_SLAVE_PVS)
# increment SLAVE_ID
ecmcEpicsEnvSetCalc("SLAVE_ID", "19+1","%d")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addSlave.cmd, "HW_DESC=EL1808"
#==============================================================================
# addSlave.cmd
epicsEnvSet("ECMC_EC_SLAVE_NUM",  "20")
epicsEnvSet("HW_DESC",            "EL1808")
epicsEnvSet("P_SCRIPT",           "mXsXXX")
# add ${HW_DESC} to the bus at position ${SLAVE_ID}
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL1808.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL1808.cmd" "NELM=1"
epicsEnvSet("ECMC_EC_HWTYPE"             "EL1808")
epicsEnvSet("ECMC_EC_VENDOR_ID"          "0x2")
epicsEnvSet("ECMC_EC_PRODUCT_ID"         "0x07103052")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/slaveVerify.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_VERIFY, "0==0", "","#- ")
ecmcConfigOrDie "Cfg.EcSlaveVerify(0,20,0x2,0x07103052)"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_RESET, "0>0", "","#- ")
epicsEnvSet(ECMC_EC_SLAVE_FW, "0x0000")
epicsEnvUnset(ECMC_SLAVE_VERIFY)
epicsEnvUnset(ECMC_COMMENT)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEX1008.cmd
ecmcConfigOrDie "Cfg.EcAddEntryDT(20,0x2,0x07103052,2,0,0x1a00,0x6000,0x1,B1,binaryInput01)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(20,0x2,0x07103052,2,0,0x1a01,0x6010,0x1,B1,binaryInput02)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(20,0x2,0x07103052,2,0,0x1a02,0x6020,0x1,B1,binaryInput03)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(20,0x2,0x07103052,2,0,0x1a03,0x6030,0x1,B1,binaryInput04)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(20,0x2,0x07103052,2,0,0x1a04,0x6040,0x1,B1,binaryInput05)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(20,0x2,0x07103052,2,0,0x1a05,0x6050,0x1,B1,binaryInput06)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(20,0x2,0x07103052,2,0,0x1a06,0x6060,0x1,B1,binaryInput07)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(20,0x2,0x07103052,2,0,0x1a07,0x6070,0x1,B1,binaryInput08)"
# deduce what the prefix should be
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd" "MASTER_ID=0,SLAVE_POS=20,HWTYPE=EL1808"
#==============================================================================
# ecmcmXsXXX.cmd
ecmcEpicsEnvSetCalc("sid", "20","%03d")
ecmcEpicsEnvSetCalc("mid", "0","%01d")
epicsEnvSet("ECMC_G",            "IOC_TEST:m0s020")
epicsEnvSet("ECMC_P",            "IOC_TEST:m0s020-")
epicsEnvUnset(sid)
epicsEnvUnset(mid)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SUBS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applySubstitutions.cmd" "SUBST_FILE=ecmcEL1808.substitutions,ECMC_P=IOC_TEST:m0s020-"
#==============================================================================
# applySubstitutions.cmd
ecmcFileExist(ecmcEL1808.substitutions,1,1)
dbLoadTemplate(ecmcEL1808.substitutions,"ECMC_P=IOC_TEST:m0s020-,ECMC_G=IOC_TEST:m0s020,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=20,HWTYPE=EL1808,T_SMP_MS=10,TSE=-2,NELM=1")
epicsEnvUnset(DEFAULT_SUBS)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SLAVE_PVS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applyTemplate.cmd" "TEMPLATE_FILE=ecmcEcSlave.template,ECMC_P=IOC_TEST:m0s020-,ECMC_G=IOC_TEST:m0s020"
#==============================================================================
# applyTemplate.cmd
ecmcFileExist(ecmcEcSlave.template,1,1)
dbLoadRecords("ecmcEcSlave.template", "ECMC_P=IOC_TEST:m0s020-,ECMC_G=IOC_TEST:m0s020,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=20,HWTYPE=EL1808,T_SMP_MS=10,TSE=-2,")
epicsEnvUnset(DEFAULT_SLAVE_PVS)
# increment SLAVE_ID
ecmcEpicsEnvSetCalc("SLAVE_ID", "20+1","%d")
iocshLoad /epics/base-7.0.5/re2022/05/13 08:36:35.027 OK
2022/05/13 08:36:35.027 OK
2022/05/13 08:36:35.028 OK
2022/05/13 08:36:35.028 OK
2022/05/13 08:36:35.028 OK
2022/05/13 08:36:35.028 OK
2022/05/13 08:36:35.028 OK
2022/05/13 08:36:35.028 OK
2022/05/13 08:36:35.028 OK
quire/3.4.1/siteMods/ecmccfg/7.0.1+0/addSlave.cmd, "HW_DESC=EL1808"
#==============================================================================
# addSlave.cmd
epicsEnvSet("ECMC_EC_SLAVE_NUM",  "21")
epicsEnvSet("HW_DESC",            "EL1808")
epicsEnvSet("P_SCRIPT",           "mXsXXX")
# add ${HW_DESC} to the bus at position ${SLAVE_ID}
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL1808.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL1808.cmd" "NELM=1"
epicsEnvSet("ECMC_EC_HWTYPE"             "EL1808")
epicsEnvSet("ECMC_EC_VENDOR_ID"          "0x2")
epicsEnvSet("ECMC_EC_PRODUCT_ID"         "0x07103052")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/slaveVerify.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_VERIFY, "0==0", "","#- ")
ecmcConfigOrDie "Cfg.EcSlaveVerify(0,21,0x2,0x07103052)"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_RESET, "0>0", "","#- ")
epicsEnvSet(ECMC_EC_SLAVE_FW, "0x0000")
epicsEnvUnset(ECMC_SLAVE_VERIFY)
epicsEnvUnset(ECMC_COMMENT)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEX1008.cmd
ecmcConfigOrDie "Cfg.EcAddEntryDT(21,0x2,0x07103052,2,0,0x1a00,0x6000,0x1,B1,binaryInput01)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(21,0x2,0x07103052,2,0,0x1a01,0x6010,0x1,B1,binaryInput02)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(21,0x2,0x07103052,2,0,0x1a02,0x6020,0x1,B1,binaryInput03)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(21,0x2,0x07103052,2,0,0x1a03,0x6030,0x1,B1,binaryInput04)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(21,0x2,0x07103052,2,0,0x1a04,0x6040,0x1,B1,binaryInput05)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(21,0x2,0x07103052,2,0,0x1a05,0x6050,0x1,B1,binaryInput06)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(21,0x2,0x07103052,2,0,0x1a06,0x6060,0x1,B1,binaryInput07)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(21,0x2,0x07103052,2,0,0x1a07,0x6070,0x1,B1,binaryInput08)"
# deduce what the prefix should be
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd" "MASTER_ID=0,SLAVE_POS=21,HWTYPE=EL1808"
#==============================================================================
# ecmcmXsXXX.cmd
ecmcEpicsEnvSetCalc("sid", "21","%03d")
ecmcEpicsEnvSetCalc("mid", "0","%01d")
epicsEnvSet("ECMC_G",            "IOC_TEST:m0s021")
epicsEnvSet("ECMC_P",            "IOC_TEST:m0s021-")
epicsEnvUnset(sid)
epicsEnvUnset(mid)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SUBS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applySubstitutions.cmd" "SUBST_FILE=ecmcEL1808.substitutions,ECMC_P=IOC_TEST:m0s021-"
#==============================================================================
# applySubstitutions.cmd
ecmcFileExist(ecmcEL1808.substitutions,1,1)
dbLoadTemplate(ecmcEL1808.substitutions,"ECMC_P=IOC_TEST:m0s021-,ECMC_G=IOC_TEST:m0s021,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=21,HWTYPE=EL1808,T_SMP_MS=10,TSE=-2,NELM=1")
epicsEnvUnset(DEFAULT_SUBS)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SLAVE_PVS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applyTemplate.cmd" "TEMPLATE_FILE=ecmcEcSlave.template,ECMC_P=IOC_TEST:m0s021-,ECMC_G=IOC_TEST:m0s021"
#==============================================================================
# applyTemplate.cmd
ecmcFileExist(ecmcEcSlave.template,1,1)
dbLoadRecords("ecmcEcSlave.template", "ECMC_P=IOC_TEST:m0s021-,ECMC_G=IOC_TEST:m0s021,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=21,HWTYPE=EL1808,T_SMP_MS=10,TSE=-2,")
epicsEnvUnset(DEFAULT_SLAVE_PVS)
# increment SLAVE_ID
ecmcEpicsEnvSetCalc("SLAVE_ID", "21+1","%d")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addSlave.cmd, "HW_DESC=EL1808"
#==============================================================================
# addSlave.cmd
epicsEnvSet("ECMC_EC_SLAVE_NUM",  "22")
epicsEnvSet("HW_DESC",            "EL1808")
epicsEnvSet("P_SCRIPT",           "mXsXXX")
# add ${HW_DESC} to the bus at position ${SLAVE_ID}
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMo2022/05/13 08:36:35.033 OK
2022/05/13 08:36:35.034 OK
2022/05/13 08:36:35.034 OK
2022/05/13 08:36:35.034 OK
2022/05/13 08:36:35.034 OK
2022/05/13 08:36:35.034 OK
2022/05/13 08:36:35.034 OK
2022/05/13 08:36:35.034 OK
2022/05/13 08:36:35.034 OK
ds/ecmccfg/7.0.1+0/ecmcEL1808.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL1808.cmd" "NELM=1"
epicsEnvSet("ECMC_EC_HWTYPE"             "EL1808")
epicsEnvSet("ECMC_EC_VENDOR_ID"          "0x2")
epicsEnvSet("ECMC_EC_PRODUCT_ID"         "0x07103052")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/slaveVerify.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_VERIFY, "0==0", "","#- ")
ecmcConfigOrDie "Cfg.EcSlaveVerify(0,22,0x2,0x07103052)"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_RESET, "0>0", "","#- ")
epicsEnvSet(ECMC_EC_SLAVE_FW, "0x0000")
epicsEnvUnset(ECMC_SLAVE_VERIFY)
epicsEnvUnset(ECMC_COMMENT)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEX1008.cmd
ecmcConfigOrDie "Cfg.EcAddEntryDT(22,0x2,0x07103052,2,0,0x1a00,0x6000,0x1,B1,binaryInput01)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(22,0x2,0x07103052,2,0,0x1a01,0x6010,0x1,B1,binaryInput02)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(22,0x2,0x07103052,2,0,0x1a02,0x6020,0x1,B1,binaryInput03)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(22,0x2,0x07103052,2,0,0x1a03,0x6030,0x1,B1,binaryInput04)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(22,0x2,0x07103052,2,0,0x1a04,0x6040,0x1,B1,binaryInput05)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(22,0x2,0x07103052,2,0,0x1a05,0x6050,0x1,B1,binaryInput06)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(22,0x2,0x07103052,2,0,0x1a06,0x6060,0x1,B1,binaryInput07)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(22,0x2,0x07103052,2,0,0x1a07,0x6070,0x1,B1,binaryInput08)"
# deduce what the prefix should be
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd" "MASTER_ID=0,SLAVE_POS=22,HWTYPE=EL1808"
#==============================================================================
# ecmcmXsXXX.cmd
ecmcEpicsEnvSetCalc("sid", "22","%03d")
ecmcEpicsEnvSetCalc("mid", "0","%01d")
epicsEnvSet("ECMC_G",            "IOC_TEST:m0s022")
epicsEnvSet("ECMC_P",            "IOC_TEST:m0s022-")
epicsEnvUnset(sid)
epicsEnvUnset(mid)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SUBS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applySubstitutions.cmd" "SUBST_FILE=ecmcEL1808.substitutions,ECMC_P=IOC_TEST:m0s022-"
#==============================================================================
# applySubstitutions.cmd
ecmcFileExist(ecmcEL1808.substitutions,1,1)
dbLoadTemplate(ecmcEL1808.substitutions,"ECMC_P=IOC_TEST:m0s022-,ECMC_G=IOC_TEST:m0s022,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=22,HWTYPE=EL1808,T_SMP_MS=10,TSE=-2,NELM=1")
epicsEnvUnset(DEFAULT_SUBS)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SLAVE_PVS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applyTemplate.cmd" "TEMPLATE_FILE=ecmcEcSlave.template,ECMC_P=IOC_TEST:m0s022-,ECMC_G=IOC_TEST:m0s022"
#==============================================================================
# applyTemplate.cmd
ecmcFileExist(ecmcEcSlave.template,1,1)
dbLoadRecords("ecmcEcSlave.template", "ECMC_P=IOC_TEST:m0s022-,ECMC_G=IOC_TEST:m0s022,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=22,HWTYPE=EL1808,T_SMP_MS=10,TSE=-2,")
epicsEnvUnset(DEFAULT_SLAVE_PVS)
# increment SLAVE_ID
ecmcEpicsEnvSetCalc("SLAVE_ID", "22+1","%d")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addSlave.cmd, "HW_DESC=EL1808"
#==============================================================================
# addSlave.cmd
epicsEnvSet("ECMC_EC_SLAVE_NUM",  "23")
epicsEnvSet("HW_DESC",            "EL1808")
epicsEnvSet("P_SCRIPT",           "mXsXXX")
# add ${HW_DESC} to the bus at position ${SLAVE_ID}
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL1808.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL1808.cmd" "NELM=1"
epicsEnvSet("ECMC_EC_HWTYPE"             "EL1808")
epicsEnvSet("ECMC_EC_VENDOR_ID"          "0x2")
epicsEnvSet("ECMC_EC_PRODUCT_ID"         "0x07103052")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/slaveVerify.cmd
ecmcEpicsEnvSetCalcTernary(E2022/05/13 08:36:35.039 OK
2022/05/13 08:36:35.040 OK
2022/05/13 08:36:35.040 OK
2022/05/13 08:36:35.040 OK
2022/05/13 08:36:35.041 OK
2022/05/13 08:36:35.041 OK
2022/05/13 08:36:35.041 OK
2022/05/13 08:36:35.041 OK
2022/05/13 08:36:35.041 OK
2022/05/13 08:36:35.046 OK
CMC_SLAVE_VERIFY, "0==0", "","#- ")
ecmcConfigOrDie "Cfg.EcSlaveVerify(0,23,0x2,0x07103052)"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_RESET, "0>0", "","#- ")
epicsEnvSet(ECMC_EC_SLAVE_FW, "0x0000")
epicsEnvUnset(ECMC_SLAVE_VERIFY)
epicsEnvUnset(ECMC_COMMENT)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEX1008.cmd
ecmcConfigOrDie "Cfg.EcAddEntryDT(23,0x2,0x07103052,2,0,0x1a00,0x6000,0x1,B1,binaryInput01)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(23,0x2,0x07103052,2,0,0x1a01,0x6010,0x1,B1,binaryInput02)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(23,0x2,0x07103052,2,0,0x1a02,0x6020,0x1,B1,binaryInput03)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(23,0x2,0x07103052,2,0,0x1a03,0x6030,0x1,B1,binaryInput04)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(23,0x2,0x07103052,2,0,0x1a04,0x6040,0x1,B1,binaryInput05)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(23,0x2,0x07103052,2,0,0x1a05,0x6050,0x1,B1,binaryInput06)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(23,0x2,0x07103052,2,0,0x1a06,0x6060,0x1,B1,binaryInput07)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(23,0x2,0x07103052,2,0,0x1a07,0x6070,0x1,B1,binaryInput08)"
# deduce what the prefix should be
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd" "MASTER_ID=0,SLAVE_POS=23,HWTYPE=EL1808"
#==============================================================================
# ecmcmXsXXX.cmd
ecmcEpicsEnvSetCalc("sid", "23","%03d")
ecmcEpicsEnvSetCalc("mid", "0","%01d")
epicsEnvSet("ECMC_G",            "IOC_TEST:m0s023")
epicsEnvSet("ECMC_P",            "IOC_TEST:m0s023-")
epicsEnvUnset(sid)
epicsEnvUnset(mid)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SUBS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applySubstitutions.cmd" "SUBST_FILE=ecmcEL1808.substitutions,ECMC_P=IOC_TEST:m0s023-"
#==============================================================================
# applySubstitutions.cmd
ecmcFileExist(ecmcEL1808.substitutions,1,1)
dbLoadTemplate(ecmcEL1808.substitutions,"ECMC_P=IOC_TEST:m0s023-,ECMC_G=IOC_TEST:m0s023,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=23,HWTYPE=EL1808,T_SMP_MS=10,TSE=-2,NELM=1")
epicsEnvUnset(DEFAULT_SUBS)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SLAVE_PVS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applyTemplate.cmd" "TEMPLATE_FILE=ecmcEcSlave.template,ECMC_P=IOC_TEST:m0s023-,ECMC_G=IOC_TEST:m0s023"
#==============================================================================
# applyTemplate.cmd
ecmcFileExist(ecmcEcSlave.template,1,1)
dbLoadRecords("ecmcEcSlave.template", "ECMC_P=IOC_TEST:m0s023-,ECMC_G=IOC_TEST:m0s023,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=23,HWTYPE=EL1808,T_SMP_MS=10,TSE=-2,")
epicsEnvUnset(DEFAULT_SLAVE_PVS)
# increment SLAVE_ID
ecmcEpicsEnvSetCalc("SLAVE_ID", "23+1","%d")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addSlave.cmd, "HW_DESC=EL1808"
#==============================================================================
# addSlave.cmd
epicsEnvSet("ECMC_EC_SLAVE_NUM",  "24")
epicsEnvSet("HW_DESC",            "EL1808")
epicsEnvSet("P_SCRIPT",           "mXsXXX")
# add ${HW_DESC} to the bus at position ${SLAVE_ID}
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL1808.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL1808.cmd" "NELM=1"
epicsEnvSet("ECMC_EC_HWTYPE"             "EL1808")
epicsEnvSet("ECMC_EC_VENDOR_ID"          "0x2")
epicsEnvSet("ECMC_EC_PRODUCT_ID"         "0x07103052")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/slaveVerify.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_VERIFY, "0==0", "","#- ")
ecmcConfigOrDie "Cfg.EcSlaveVerify(0,24,0x2,0x07103052)"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_RESET, "0>0", "","#- ")
epicsEnvSet(ECMC_EC_SLAVE_FW, "0x0000")
epicsEnvUnset(ECMC_SLAVE_VERIFY)
epicsEnvUnset(ECMC_COMMENT)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEX1008.cmd
ecmcConfigOrDie "Cfg.EcAddEntryDT(24,0x2,0x07103052,2,0,0x2022/05/13 08:36:35.047 OK
2022/05/13 08:36:35.047 OK
2022/05/13 08:36:35.047 OK
2022/05/13 08:36:35.047 OK
2022/05/13 08:36:35.047 OK
2022/05/13 08:36:35.047 OK
2022/05/13 08:36:35.047 OK
2022/05/13 08:36:35.047 OK
2022/05/13 08:36:35.052 OK
2022/05/13 08:36:35.059 OK
2022/05/13 08:36:35.067 12848
2022/05/13 08:36:35.068 OK
2022/05/13 08:36:35.068 OK
1a00,0x6000,0x1,B1,binaryInput01)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(24,0x2,0x07103052,2,0,0x1a01,0x6010,0x1,B1,binaryInput02)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(24,0x2,0x07103052,2,0,0x1a02,0x6020,0x1,B1,binaryInput03)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(24,0x2,0x07103052,2,0,0x1a03,0x6030,0x1,B1,binaryInput04)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(24,0x2,0x07103052,2,0,0x1a04,0x6040,0x1,B1,binaryInput05)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(24,0x2,0x07103052,2,0,0x1a05,0x6050,0x1,B1,binaryInput06)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(24,0x2,0x07103052,2,0,0x1a06,0x6060,0x1,B1,binaryInput07)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(24,0x2,0x07103052,2,0,0x1a07,0x6070,0x1,B1,binaryInput08)"
# deduce what the prefix should be
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd" "MASTER_ID=0,SLAVE_POS=24,HWTYPE=EL1808"
#==============================================================================
# ecmcmXsXXX.cmd
ecmcEpicsEnvSetCalc("sid", "24","%03d")
ecmcEpicsEnvSetCalc("mid", "0","%01d")
epicsEnvSet("ECMC_G",            "IOC_TEST:m0s024")
epicsEnvSet("ECMC_P",            "IOC_TEST:m0s024-")
epicsEnvUnset(sid)
epicsEnvUnset(mid)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SUBS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applySubstitutions.cmd" "SUBST_FILE=ecmcEL1808.substitutions,ECMC_P=IOC_TEST:m0s024-"
#==============================================================================
# applySubstitutions.cmd
ecmcFileExist(ecmcEL1808.substitutions,1,1)
dbLoadTemplate(ecmcEL1808.substitutions,"ECMC_P=IOC_TEST:m0s024-,ECMC_G=IOC_TEST:m0s024,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=24,HWTYPE=EL1808,T_SMP_MS=10,TSE=-2,NELM=1")
epicsEnvUnset(DEFAULT_SUBS)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SLAVE_PVS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applyTemplate.cmd" "TEMPLATE_FILE=ecmcEcSlave.template,ECMC_P=IOC_TEST:m0s024-,ECMC_G=IOC_TEST:m0s024"
#==============================================================================
# applyTemplate.cmd
ecmcFileExist(ecmcEcSlave.template,1,1)
dbLoadRecords("ecmcEcSlave.template", "ECMC_P=IOC_TEST:m0s024-,ECMC_G=IOC_TEST:m0s024,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=24,HWTYPE=EL1808,T_SMP_MS=10,TSE=-2,")
epicsEnvUnset(DEFAULT_SLAVE_PVS)
# increment SLAVE_ID
ecmcEpicsEnvSetCalc("SLAVE_ID", "24+1","%d")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addSlave.cmd, "HW_DESC=EL5002"
#==============================================================================
# addSlave.cmd
epicsEnvSet("ECMC_EC_SLAVE_NUM",  "25")
epicsEnvSet("HW_DESC",            "EL5002")
epicsEnvSet("P_SCRIPT",           "mXsXXX")
# add ${HW_DESC} to the bus at position ${SLAVE_ID}
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL5002.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL5002.cmd" "NELM=1"
epicsEnvSet("ECMC_EC_HWTYPE"             "EL5002")
epicsEnvSet("ECMC_EC_VENDOR_ID"          "0x2")
epicsEnvSet("ECMC_EC_PRODUCT_ID"         "0x138a3052")
ecmcFileExist(/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/slaveVerify.cmd,1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/slaveVerify.cmd "RESET=true"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_VERIFY, "0==0", "","#- ")
ecmcConfigOrDie "Cfg.EcSlaveVerify(0,25,0x2,0x138a3052)"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_RESET, "true>0", "","#- ")
ecmcConfigOrDie "Cfg.EcWriteSdo(25,0x1011,0x1,1684107116,4)"
epicsEnvSet(ECMC_EC_SLAVE_FW, "0x0000")
ecmcConfig "EcReadSdo(25,0x100a,0x0,2)"
ecmcEpicsEnvSetCalc("ECMC_EC_SLAVE_FW", "12848", "0x%04x")
# Firmware version: 0x3230
epicsEnvUnset(ECMC_SLAVE_VERIFY)
epicsEnvUnset(ECMC_COMMENT)
ecmcConfigOrDie "Cfg.EcAddEntryComplete(25,0x2,0x138a3052,2,3,0x1a00,0x6000,0x1,16,encoderStatus01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(25,0x2,0x138a3052,2,3,0x1a00,0x6000,0x11,32,positionActual01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete2022/05/13 08:36:35.068 OK
2022/05/13 08:36:35.068 OK
2022/05/13 08:36:35.073 OK
2022/05/13 08:36:35.073 OK
2022/05/13 08:36:35.073 OK
2022/05/13 08:36:35.073 OK
2022/05/13 08:36:35.074 OK
2022/05/13 08:36:35.074 OK
2022/05/13 08:36:35.074 OK
2022/05/13 08:36:35.074 OK
2022/05/13 08:36:35.074 OK
(25,0x2,0x138a3052,2,3,0x1a01,0x6010,0x1,16,encoderStatus02)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(25,0x2,0x138a3052,2,3,0x1a01,0x6010,0x11,32,positionActual02)"
# deduce what the prefix should be
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd" "MASTER_ID=0,SLAVE_POS=25,HWTYPE=EL5002"
#==============================================================================
# ecmcmXsXXX.cmd
ecmcEpicsEnvSetCalc("sid", "25","%03d")
ecmcEpicsEnvSetCalc("mid", "0","%01d")
epicsEnvSet("ECMC_G",            "IOC_TEST:m0s025")
epicsEnvSet("ECMC_P",            "IOC_TEST:m0s025-")
epicsEnvUnset(sid)
epicsEnvUnset(mid)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SUBS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applySubstitutions.cmd" "SUBST_FILE=ecmcEL5002.substitutions,ECMC_P=IOC_TEST:m0s025-"
#==============================================================================
# applySubstitutions.cmd
ecmcFileExist(ecmcEL5002.substitutions,1,1)
dbLoadTemplate(ecmcEL5002.substitutions,"ECMC_P=IOC_TEST:m0s025-,ECMC_G=IOC_TEST:m0s025,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=25,HWTYPE=EL5002,T_SMP_MS=10,TSE=-2,NELM=1")
epicsEnvUnset(DEFAULT_SUBS)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SLAVE_PVS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applyTemplate.cmd" "TEMPLATE_FILE=ecmcEcSlave.template,ECMC_P=IOC_TEST:m0s025-,ECMC_G=IOC_TEST:m0s025"
#==============================================================================
# applyTemplate.cmd
ecmcFileExist(ecmcEcSlave.template,1,1)
dbLoadRecords("ecmcEcSlave.template", "ECMC_P=IOC_TEST:m0s025-,ECMC_G=IOC_TEST:m0s025,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=25,HWTYPE=EL5002,T_SMP_MS=10,TSE=-2,")
epicsEnvUnset(DEFAULT_SLAVE_PVS)
# increment SLAVE_ID
ecmcEpicsEnvSetCalc("SLAVE_ID", "25+1","%d")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addSlave.cmd, "HW_DESC=EL1808"
#==============================================================================
# addSlave.cmd
epicsEnvSet("ECMC_EC_SLAVE_NUM",  "26")
epicsEnvSet("HW_DESC",            "EL1808")
epicsEnvSet("P_SCRIPT",           "mXsXXX")
# add ${HW_DESC} to the bus at position ${SLAVE_ID}
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL1808.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL1808.cmd" "NELM=1"
epicsEnvSet("ECMC_EC_HWTYPE"             "EL1808")
epicsEnvSet("ECMC_EC_VENDOR_ID"          "0x2")
epicsEnvSet("ECMC_EC_PRODUCT_ID"         "0x07103052")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/slaveVerify.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_VERIFY, "0==0", "","#- ")
ecmcConfigOrDie "Cfg.EcSlaveVerify(0,26,0x2,0x07103052)"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_RESET, "0>0", "","#- ")
epicsEnvSet(ECMC_EC_SLAVE_FW, "0x0000")
epicsEnvUnset(ECMC_SLAVE_VERIFY)
epicsEnvUnset(ECMC_COMMENT)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEX1008.cmd
ecmcConfigOrDie "Cfg.EcAddEntryDT(26,0x2,0x07103052,2,0,0x1a00,0x6000,0x1,B1,binaryInput01)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(26,0x2,0x07103052,2,0,0x1a01,0x6010,0x1,B1,binaryInput02)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(26,0x2,0x07103052,2,0,0x1a02,0x6020,0x1,B1,binaryInput03)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(26,0x2,0x07103052,2,0,0x1a03,0x6030,0x1,B1,binaryInput04)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(26,0x2,0x07103052,2,0,0x1a04,0x6040,0x1,B1,binaryInput05)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(26,0x2,0x07103052,2,0,0x1a05,0x6050,0x1,B1,binaryInput06)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(26,0x2,0x07103052,2,0,0x1a06,0x6060,0x1,B1,binaryInput07)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(26,0x2,0x07103052,2,0,0x1a07,0x6070,0x1,B1,binaryInput08)"
# deduce what the prefix should be
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd" "MASTER_ID=0,SLAVE_PO2022/05/13 08:36:35.079 OK
2022/05/13 08:36:35.080 OK
2022/05/13 08:36:35.080 OK
2022/05/13 08:36:35.080 OK
2022/05/13 08:36:35.080 OK
2022/05/13 08:36:35.080 OK
2022/05/13 08:36:35.080 OK
2022/05/13 08:36:35.080 OK
2022/05/13 08:36:35.080 OK
S=26,HWTYPE=EL1808"
#==============================================================================
# ecmcmXsXXX.cmd
ecmcEpicsEnvSetCalc("sid", "26","%03d")
ecmcEpicsEnvSetCalc("mid", "0","%01d")
epicsEnvSet("ECMC_G",            "IOC_TEST:m0s026")
epicsEnvSet("ECMC_P",            "IOC_TEST:m0s026-")
epicsEnvUnset(sid)
epicsEnvUnset(mid)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SUBS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applySubstitutions.cmd" "SUBST_FILE=ecmcEL1808.substitutions,ECMC_P=IOC_TEST:m0s026-"
#==============================================================================
# applySubstitutions.cmd
ecmcFileExist(ecmcEL1808.substitutions,1,1)
dbLoadTemplate(ecmcEL1808.substitutions,"ECMC_P=IOC_TEST:m0s026-,ECMC_G=IOC_TEST:m0s026,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=26,HWTYPE=EL1808,T_SMP_MS=10,TSE=-2,NELM=1")
epicsEnvUnset(DEFAULT_SUBS)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SLAVE_PVS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applyTemplate.cmd" "TEMPLATE_FILE=ecmcEcSlave.template,ECMC_P=IOC_TEST:m0s026-,ECMC_G=IOC_TEST:m0s026"
#==============================================================================
# applyTemplate.cmd
ecmcFileExist(ecmcEcSlave.template,1,1)
dbLoadRecords("ecmcEcSlave.template", "ECMC_P=IOC_TEST:m0s026-,ECMC_G=IOC_TEST:m0s026,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=26,HWTYPE=EL1808,T_SMP_MS=10,TSE=-2,")
epicsEnvUnset(DEFAULT_SLAVE_PVS)
# increment SLAVE_ID
ecmcEpicsEnvSetCalc("SLAVE_ID", "26+1","%d")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addSlave.cmd, "HW_DESC=EL1808"
#==============================================================================
# addSlave.cmd
epicsEnvSet("ECMC_EC_SLAVE_NUM",  "27")
epicsEnvSet("HW_DESC",            "EL1808")
epicsEnvSet("P_SCRIPT",           "mXsXXX")
# add ${HW_DESC} to the bus at position ${SLAVE_ID}
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL1808.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL1808.cmd" "NELM=1"
epicsEnvSet("ECMC_EC_HWTYPE"             "EL1808")
epicsEnvSet("ECMC_EC_VENDOR_ID"          "0x2")
epicsEnvSet("ECMC_EC_PRODUCT_ID"         "0x07103052")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/slaveVerify.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_VERIFY, "0==0", "","#- ")
ecmcConfigOrDie "Cfg.EcSlaveVerify(0,27,0x2,0x07103052)"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_RESET, "0>0", "","#- ")
epicsEnvSet(ECMC_EC_SLAVE_FW, "0x0000")
epicsEnvUnset(ECMC_SLAVE_VERIFY)
epicsEnvUnset(ECMC_COMMENT)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEX1008.cmd
ecmcConfigOrDie "Cfg.EcAddEntryDT(27,0x2,0x07103052,2,0,0x1a00,0x6000,0x1,B1,binaryInput01)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(27,0x2,0x07103052,2,0,0x1a01,0x6010,0x1,B1,binaryInput02)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(27,0x2,0x07103052,2,0,0x1a02,0x6020,0x1,B1,binaryInput03)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(27,0x2,0x07103052,2,0,0x1a03,0x6030,0x1,B1,binaryInput04)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(27,0x2,0x07103052,2,0,0x1a04,0x6040,0x1,B1,binaryInput05)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(27,0x2,0x07103052,2,0,0x1a05,0x6050,0x1,B1,binaryInput06)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(27,0x2,0x07103052,2,0,0x1a06,0x6060,0x1,B1,binaryInput07)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(27,0x2,0x07103052,2,0,0x1a07,0x6070,0x1,B1,binaryInput08)"
# deduce what the prefix should be
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd" "MASTER_ID=0,SLAVE_POS=27,HWTYPE=EL1808"
#==============================================================================
# ecmcmXsXXX.cmd
ecmcEpicsEnvSetCalc("sid", "27","%03d")
ecmcEpicsEnvSetCalc("mid", "0","%01d")
epicsEnvSet("ECMC_G",            "IOC_TEST:m0s027")
epicsEnvSet("ECMC_P",            "IOC_TEST:m0s027-")
epicsEnvUnset(sid)
epicsEnvUnset(mid)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SUBS, "True", "","#- "2022/05/13 08:36:35.085 OK
2022/05/13 08:36:35.086 OK
2022/05/13 08:36:35.086 OK
)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applySubstitutions.cmd" "SUBST_FILE=ecmcEL1808.substitutions,ECMC_P=IOC_TEST:m0s027-"
#==============================================================================
# applySubstitutions.cmd
ecmcFileExist(ecmcEL1808.substitutions,1,1)
dbLoadTemplate(ecmcEL1808.substitutions,"ECMC_P=IOC_TEST:m0s027-,ECMC_G=IOC_TEST:m0s027,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=27,HWTYPE=EL1808,T_SMP_MS=10,TSE=-2,NELM=1")
epicsEnvUnset(DEFAULT_SUBS)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SLAVE_PVS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applyTemplate.cmd" "TEMPLATE_FILE=ecmcEcSlave.template,ECMC_P=IOC_TEST:m0s027-,ECMC_G=IOC_TEST:m0s027"
#==============================================================================
# applyTemplate.cmd
ecmcFileExist(ecmcEcSlave.template,1,1)
dbLoadRecords("ecmcEcSlave.template", "ECMC_P=IOC_TEST:m0s027-,ECMC_G=IOC_TEST:m0s027,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=27,HWTYPE=EL1808,T_SMP_MS=10,TSE=-2,")
epicsEnvUnset(DEFAULT_SLAVE_PVS)
# increment SLAVE_ID
ecmcEpicsEnvSetCalc("SLAVE_ID", "27+1","%d")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addSlave.cmd, "HW_DESC=EK1101"
#==============================================================================
# addSlave.cmd
epicsEnvSet("ECMC_EC_SLAVE_NUM",  "28")
epicsEnvSet("HW_DESC",            "EK1101")
epicsEnvSet("P_SCRIPT",           "mXsXXX")
# add ${HW_DESC} to the bus at position ${SLAVE_ID}
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEK1101.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEK1101.cmd" "NELM=1"
epicsEnvSet("ECMC_EC_HWTYPE"             "EK1101")
epicsEnvSet("ECMC_EC_VENDOR_ID"          "0x2")
epicsEnvSet("ECMC_EC_PRODUCT_ID"         "0x044d2c52")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/slaveVerify.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_VERIFY, "0==0", "","#- ")
ecmcConfigOrDie "Cfg.EcSlaveVerify(0,28,0x2,0x044d2c52)"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_RESET, "0>0", "","#- ")
epicsEnvSet(ECMC_EC_SLAVE_FW, "0x0000")
epicsEnvUnset(ECMC_SLAVE_VERIFY)
epicsEnvUnset(ECMC_COMMENT)
ecmcConfigOrDie "Cfg.EcAddSlave(0,28,0x2,0x044d2c52)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(28,0x2,0x044d2c52,2,0,0x1a00,0x6000,0x1,16,id)"
# deduce what the prefix should be
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd" "MASTER_ID=0,SLAVE_POS=28,HWTYPE=EK1101"
#==============================================================================
# ecmcmXsXXX.cmd
ecmcEpicsEnvSetCalc("sid", "28","%03d")
ecmcEpicsEnvSetCalc("mid", "0","%01d")
epicsEnvSet("ECMC_G",            "IOC_TEST:m0s028")
epicsEnvSet("ECMC_P",            "IOC_TEST:m0s028-")
epicsEnvUnset(sid)
epicsEnvUnset(mid)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SUBS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applySubstitutions.cmd" "SUBST_FILE=ecmcEK1101.substitutions,ECMC_P=IOC_TEST:m0s028-"
#==============================================================================
# applySubstitutions.cmd
ecmcFileExist(ecmcEK1101.substitutions,1,1)
dbLoadTemplate(ecmcEK1101.substitutions,"ECMC_P=IOC_TEST:m0s028-,ECMC_G=IOC_TEST:m0s028,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=28,HWTYPE=EK1101,T_SMP_MS=10,TSE=-2,NELM=1")
epicsEnvUnset(DEFAULT_SUBS)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SLAVE_PVS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applyTemplate.cmd" "TEMPLATE_FILE=ecmcEcSlave.template,ECMC_P=IOC_TEST:m0s028-,ECMC_G=IOC_TEST:m0s028"
#==============================================================================
# applyTemplate.cmd
ecmcFileExist(ecmcEcSlave.template,1,1)
dbLoadRecords("ecmcEcSlave.template", "ECMC_P=IOC_TEST:m0s028-,ECMC_G=IOC_TEST:m0s028,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=28,HWTYPE=EK1101,T_SMP_MS=10,TSE=-2,")
epicsEnvUn2022/05/13 08:36:35.090 OK
2022/05/13 08:36:35.091 OK
2022/05/13 08:36:35.091 OK
2022/05/13 08:36:35.091 OK
2022/05/13 08:36:35.091 OK
2022/05/13 08:36:35.091 OK
2022/05/13 08:36:35.091 OK
2022/05/13 08:36:35.091 OK
2022/05/13 08:36:35.091 OK
2022/05/13 08:36:35.091 OK
2022/05/13 08:36:35.091 OK
2022/05/13 08:36:35.091 OK
2022/05/13 08:36:35.091 OK
2022/05/13 08:36:35.091 OK
2022/05/13 08:36:35.091 OK
2022/05/13 08:36:35.091 OK
2022/05/13 08:36:35.091 OK
2022/05/13 08:36:35.092 OK
2022/05/13 08:36:35.092 OK
2022/05/13 08:36:35.092 OK
2022/05/13 08:36:35.092 OK
2022/05/13 08:36:35.092 OK
2022/05/13 08:36:35.092 OK
2022/05/13 08:36:35.092 OK
2022/05/13 08:36:35.092 OK
2022/05/13 08:36:35.092 OK
2022/05/13 08:36:35.092 OK
2022/05/13 08:36:35.092 OK
2022/05/13 08:36:35.092 OK
set(DEFAULT_SLAVE_PVS)
# increment SLAVE_ID
ecmcEpicsEnvSetCalc("SLAVE_ID", "28+1","%d")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addSlave.cmd, "HW_DESC=EL2819"
#==============================================================================
# addSlave.cmd
epicsEnvSet("ECMC_EC_SLAVE_NUM",  "29")
epicsEnvSet("HW_DESC",            "EL2819")
epicsEnvSet("P_SCRIPT",           "mXsXXX")
# add ${HW_DESC} to the bus at position ${SLAVE_ID}
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL2819.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL2819.cmd" "NELM=1"
epicsEnvSet("ECMC_EC_HWTYPE"             "EL2819")
epicsEnvSet("ECMC_EC_VENDOR_ID"          "0x2")
epicsEnvSet("ECMC_EC_PRODUCT_ID"         "0x0b033052")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/slaveVerify.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_VERIFY, "0==0", "","#- ")
ecmcConfigOrDie "Cfg.EcSlaveVerify(0,29,0x2,0x0b033052)"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_RESET, "0>0", "","#- ")
epicsEnvSet(ECMC_EC_SLAVE_FW, "0x0000")
epicsEnvUnset(ECMC_SLAVE_VERIFY)
epicsEnvUnset(ECMC_COMMENT)
ecmcConfigOrDie "Cfg.EcAddEntryComplete(29,0x2,0x0b033052,1,2,0x1600,0x7000,0x1,1,binaryOutput01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(29,0x2,0x0b033052,1,2,0x1600,0x7010,0x1,1,binaryOutput02)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(29,0x2,0x0b033052,1,2,0x1600,0x7020,0x1,1,binaryOutput03)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(29,0x2,0x0b033052,1,2,0x1600,0x7030,0x1,1,binaryOutput04)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(29,0x2,0x0b033052,1,2,0x1600,0x7040,0x1,1,binaryOutput05)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(29,0x2,0x0b033052,1,2,0x1600,0x7050,0x1,1,binaryOutput06)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(29,0x2,0x0b033052,1,2,0x1600,0x7060,0x1,1,binaryOutput07)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(29,0x2,0x0b033052,1,2,0x1600,0x7070,0x1,1,binaryOutput08)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(29,0x2,0x0b033052,1,2,0x1600,0x7080,0x1,1,binaryOutput09)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(29,0x2,0x0b033052,1,2,0x1600,0x7090,0x1,1,binaryOutput10)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(29,0x2,0x0b033052,1,2,0x1600,0x70A0,0x1,1,binaryOutput11)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(29,0x2,0x0b033052,1,2,0x1600,0x70B0,0x1,1,binaryOutput12)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(29,0x2,0x0b033052,1,2,0x1600,0x70C0,0x1,1,binaryOutput13)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(29,0x2,0x0b033052,1,2,0x1600,0x70D0,0x1,1,binaryOutput14)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(29,0x2,0x0b033052,1,2,0x1600,0x70E0,0x1,1,binaryOutput15)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(29,0x2,0x0b033052,1,2,0x1600,0x70F0,0x1,1,binaryOutput16)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(29,0x2,0x0b033052,2,3,0x1A00,0x6001,0x1,4,binaryOutputStatus01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(29,0x2,0x0b033052,2,3,0x1A00,0x6011,0x1,4,binaryOutputStatus02)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(29,0x2,0x0b033052,2,3,0x1A00,0x6021,0x1,4,binaryOutputStatus03)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(29,0x2,0x0b033052,2,3,0x1A00,0x6031,0x1,4,binaryOutputStatus04)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(29,0x2,0x0b033052,2,3,0x1A00,0x6041,0x1,4,binaryOutputStatus05)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(29,0x2,0x0b033052,2,3,0x1A00,0x6051,0x1,4,binaryOutputStatus06)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(29,0x2,0x0b033052,2,3,0x1A00,0x6061,0x1,4,binaryOutputStatus07)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(29,0x2,0x0b033052,2,3,0x1A00,0x6071,0x1,4,binaryOutputStatus08)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(29,0x2,0x0b033052,2,3,0x1A00,0x6081,0x1,4,binaryOutputStatus09)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(29,0x2,0x0b033052,2,3,0x1A00,0x6091,0x1,4,binaryOutputStatus10)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(29,0x2,0x0b033052,2,3,0x1A00,0x60A1,0x1,4,binaryOutputStatus11)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(29,0x2,0x0b033052,2,3,0x1A00,0x60B1,0x1,4,binaryOutputStatus12)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(29,0x2,0x0b033052,2,3,0x1A00,0x60C1,0x1,4,bin2022/05/13 08:36:35.092 OK
2022/05/13 08:36:35.092 OK
2022/05/13 08:36:35.092 OK
2022/05/13 08:36:35.092 OK
2022/05/13 08:36:35.102 OK
2022/05/13 08:36:35.103 OK
2022/05/13 08:36:35.103 OK
2022/05/13 08:36:35.103 OK
2022/05/13 08:36:35.103 OK
2022/05/13 08:36:35.103 OK
2022/05/13 08:36:35.103 OK
2022/05/13 08:36:35.103 OK
2022/05/13 08:36:35.103 OK
aryOutputStatus13)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(29,0x2,0x0b033052,2,3,0x1A00,0x60D1,0x1,4,binaryOutputStatus14)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(29,0x2,0x0b033052,2,3,0x1A00,0x60E1,0x1,4,binaryOutputStatus15)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(29,0x2,0x0b033052,2,3,0x1A00,0x60F1,0x1,4,binaryOutputStatus16)"
# deduce what the prefix should be
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd" "MASTER_ID=0,SLAVE_POS=29,HWTYPE=EL2819"
#==============================================================================
# ecmcmXsXXX.cmd
ecmcEpicsEnvSetCalc("sid", "29","%03d")
ecmcEpicsEnvSetCalc("mid", "0","%01d")
epicsEnvSet("ECMC_G",            "IOC_TEST:m0s029")
epicsEnvSet("ECMC_P",            "IOC_TEST:m0s029-")
epicsEnvUnset(sid)
epicsEnvUnset(mid)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SUBS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applySubstitutions.cmd" "SUBST_FILE=ecmcEL2819.substitutions,ECMC_P=IOC_TEST:m0s029-"
#==============================================================================
# applySubstitutions.cmd
ecmcFileExist(ecmcEL2819.substitutions,1,1)
dbLoadTemplate(ecmcEL2819.substitutions,"ECMC_P=IOC_TEST:m0s029-,ECMC_G=IOC_TEST:m0s029,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=29,HWTYPE=EL2819,T_SMP_MS=10,TSE=-2,NELM=1")
epicsEnvUnset(DEFAULT_SUBS)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SLAVE_PVS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applyTemplate.cmd" "TEMPLATE_FILE=ecmcEcSlave.template,ECMC_P=IOC_TEST:m0s029-,ECMC_G=IOC_TEST:m0s029"
#==============================================================================
# applyTemplate.cmd
ecmcFileExist(ecmcEcSlave.template,1,1)
dbLoadRecords("ecmcEcSlave.template", "ECMC_P=IOC_TEST:m0s029-,ECMC_G=IOC_TEST:m0s029,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=29,HWTYPE=EL2819,T_SMP_MS=10,TSE=-2,")
epicsEnvUnset(DEFAULT_SLAVE_PVS)
# increment SLAVE_ID
ecmcEpicsEnvSetCalc("SLAVE_ID", "29+1","%d")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addSlave.cmd, "HW_DESC=EL2819"
#==============================================================================
# addSlave.cmd
epicsEnvSet("ECMC_EC_SLAVE_NUM",  "30")
epicsEnvSet("HW_DESC",            "EL2819")
epicsEnvSet("P_SCRIPT",           "mXsXXX")
# add ${HW_DESC} to the bus at position ${SLAVE_ID}
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL2819.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL2819.cmd" "NELM=1"
epicsEnvSet("ECMC_EC_HWTYPE"             "EL2819")
epicsEnvSet("ECMC_EC_VENDOR_ID"          "0x2")
epicsEnvSet("ECMC_EC_PRODUCT_ID"         "0x0b033052")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/slaveVerify.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_VERIFY, "0==0", "","#- ")
ecmcConfigOrDie "Cfg.EcSlaveVerify(0,30,0x2,0x0b033052)"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_RESET, "0>0", "","#- ")
epicsEnvSet(ECMC_EC_SLAVE_FW, "0x0000")
epicsEnvUnset(ECMC_SLAVE_VERIFY)
epicsEnvUnset(ECMC_COMMENT)
ecmcConfigOrDie "Cfg.EcAddEntryComplete(30,0x2,0x0b033052,1,2,0x1600,0x7000,0x1,1,binaryOutput01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(30,0x2,0x0b033052,1,2,0x1600,0x7010,0x1,1,binaryOutput02)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(30,0x2,0x0b033052,1,2,0x1600,0x7020,0x1,1,binaryOutput03)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(30,0x2,0x0b033052,1,2,0x1600,0x7030,0x1,1,binaryOutput04)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(30,0x2,0x0b033052,1,2,0x1600,0x7040,0x1,1,binaryOutput05)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(30,0x2,0x0b033052,1,2,0x1600,0x7050,0x1,1,binaryOutput06)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(30,0x2,0x0b033052,1,2,0x1600,0x7060,0x1,1,binaryOutput07)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(30,0x2,0x0b033052,1,2,0x1600,0x7070,0x1,1,binaryOutput08)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(30,0x2,0x0b033052,1,2,0x1600,0x7080,0x1,1,binaryOutput02022/05/13 08:36:35.103 OK
2022/05/13 08:36:35.103 OK
2022/05/13 08:36:35.103 OK
2022/05/13 08:36:35.103 OK
2022/05/13 08:36:35.103 OK
2022/05/13 08:36:35.103 OK
2022/05/13 08:36:35.103 OK
2022/05/13 08:36:35.103 OK
2022/05/13 08:36:35.104 OK
2022/05/13 08:36:35.104 OK
2022/05/13 08:36:35.104 OK
2022/05/13 08:36:35.104 OK
2022/05/13 08:36:35.104 OK
2022/05/13 08:36:35.104 OK
2022/05/13 08:36:35.104 OK
2022/05/13 08:36:35.104 OK
2022/05/13 08:36:35.104 OK
2022/05/13 08:36:35.104 OK
2022/05/13 08:36:35.104 OK
2022/05/13 08:36:35.104 OK
2022/05/13 08:36:35.104 OK
2022/05/13 08:36:35.104 OK
2022/05/13 08:36:35.104 OK
2022/05/13 08:36:35.104 OK
9)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(30,0x2,0x0b033052,1,2,0x1600,0x7090,0x1,1,binaryOutput10)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(30,0x2,0x0b033052,1,2,0x1600,0x70A0,0x1,1,binaryOutput11)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(30,0x2,0x0b033052,1,2,0x1600,0x70B0,0x1,1,binaryOutput12)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(30,0x2,0x0b033052,1,2,0x1600,0x70C0,0x1,1,binaryOutput13)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(30,0x2,0x0b033052,1,2,0x1600,0x70D0,0x1,1,binaryOutput14)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(30,0x2,0x0b033052,1,2,0x1600,0x70E0,0x1,1,binaryOutput15)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(30,0x2,0x0b033052,1,2,0x1600,0x70F0,0x1,1,binaryOutput16)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(30,0x2,0x0b033052,2,3,0x1A00,0x6001,0x1,4,binaryOutputStatus01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(30,0x2,0x0b033052,2,3,0x1A00,0x6011,0x1,4,binaryOutputStatus02)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(30,0x2,0x0b033052,2,3,0x1A00,0x6021,0x1,4,binaryOutputStatus03)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(30,0x2,0x0b033052,2,3,0x1A00,0x6031,0x1,4,binaryOutputStatus04)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(30,0x2,0x0b033052,2,3,0x1A00,0x6041,0x1,4,binaryOutputStatus05)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(30,0x2,0x0b033052,2,3,0x1A00,0x6051,0x1,4,binaryOutputStatus06)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(30,0x2,0x0b033052,2,3,0x1A00,0x6061,0x1,4,binaryOutputStatus07)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(30,0x2,0x0b033052,2,3,0x1A00,0x6071,0x1,4,binaryOutputStatus08)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(30,0x2,0x0b033052,2,3,0x1A00,0x6081,0x1,4,binaryOutputStatus09)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(30,0x2,0x0b033052,2,3,0x1A00,0x6091,0x1,4,binaryOutputStatus10)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(30,0x2,0x0b033052,2,3,0x1A00,0x60A1,0x1,4,binaryOutputStatus11)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(30,0x2,0x0b033052,2,3,0x1A00,0x60B1,0x1,4,binaryOutputStatus12)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(30,0x2,0x0b033052,2,3,0x1A00,0x60C1,0x1,4,binaryOutputStatus13)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(30,0x2,0x0b033052,2,3,0x1A00,0x60D1,0x1,4,binaryOutputStatus14)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(30,0x2,0x0b033052,2,3,0x1A00,0x60E1,0x1,4,binaryOutputStatus15)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(30,0x2,0x0b033052,2,3,0x1A00,0x60F1,0x1,4,binaryOutputStatus16)"
# deduce what the prefix should be
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd" "MASTER_ID=0,SLAVE_POS=30,HWTYPE=EL2819"
#==============================================================================
# ecmcmXsXXX.cmd
ecmcEpicsEnvSetCalc("sid", "30","%03d")
ecmcEpicsEnvSetCalc("mid", "0","%01d")
epicsEnvSet("ECMC_G",            "IOC_TEST:m0s030")
epicsEnvSet("ECMC_P",            "IOC_TEST:m0s030-")
epicsEnvUnset(sid)
epicsEnvUnset(mid)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SUBS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applySubstitutions.cmd" "SUBST_FILE=ecmcEL2819.substitutions,ECMC_P=IOC_TEST:m0s030-"
#==============================================================================
# applySubstitutions.cmd
ecmcFileExist(ecmcEL2819.substitutions,1,1)
dbLoadTemplate(ecmcEL2819.substitutions,"ECMC_P=IOC_TEST:m0s030-,ECMC_G=IOC_TEST:m0s030,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=30,HWTYPE=EL2819,T_SMP_MS=10,TSE=-2,NELM=1")
epicsEnvUnset(DEFAULT_SUBS)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SLAVE_PVS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applyTemplate.cmd" "TEMPLATE_FILE=ecmcEcSlave.template,ECMC_P=IOC_TEST:m0s030-,ECMC_G=IOC_TEST:m0s030"
#==============================================================================
# applyTemplate.cmd
ecmcFileExist(ecmcEcSlave.template,1,1)
dbLoadRecords("ecmcEcSlave.template", "ECMC_P=IOC_TEST:m0s030-,ECMC_G=IOC_TEST:m0s030,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=30,HWTYPE=EL2819,T_SMP_MS=10,TSE=-2,")
epicsEnvUnset(DEFAULT_2022/05/13 08:36:35.114 OK
2022/05/13 08:36:35.121 OK
2022/05/13 08:36:35.129 14385
2022/05/13 08:36:35.130 OK
2022/05/13 08:36:35.130 OK
2022/05/13 08:36:35.130 OK
2022/05/13 08:36:35.130 OK
2022/05/13 08:36:35.130 OK
SLAVE_PVS)
# increment SLAVE_ID
ecmcEpicsEnvSetCalc("SLAVE_ID", "30+1","%d")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addSlave.cmd, "HW_DESC=EL5101"
#==============================================================================
# addSlave.cmd
epicsEnvSet("ECMC_EC_SLAVE_NUM",  "31")
epicsEnvSet("HW_DESC",            "EL5101")
epicsEnvSet("P_SCRIPT",           "mXsXXX")
# add ${HW_DESC} to the bus at position ${SLAVE_ID}
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL5101.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL5101.cmd" "NELM=1"
epicsEnvSet("ECMC_EC_HWTYPE"             "EL5101")
epicsEnvSet("ECMC_EC_VENDOR_ID"          "0x2")
epicsEnvSet("ECMC_EC_PRODUCT_ID"         "0x13ed3052")
ecmcFileExist(/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/slaveVerify.cmd,1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/slaveVerify.cmd "RESET=true"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_VERIFY, "0==0", "","#- ")
ecmcConfigOrDie "Cfg.EcSlaveVerify(0,31,0x2,0x13ed3052)"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_RESET, "true>0", "","#- ")
ecmcConfigOrDie "Cfg.EcWriteSdo(31,0x1011,0x1,1684107116,4)"
epicsEnvSet(ECMC_EC_SLAVE_FW, "0x0000")
ecmcConfig "EcReadSdo(31,0x100a,0x0,2)"
ecmcEpicsEnvSetCalc("ECMC_EC_SLAVE_FW", "14385", "0x%04x")
# Firmware version: 0x3831
epicsEnvUnset(ECMC_SLAVE_VERIFY)
epicsEnvUnset(ECMC_COMMENT)
ecmcConfigOrDie "Cfg.EcAddEntryComplete(31,0x2,0x13ed3052,1,2,0x1600,0x7000,0x01,8,encoderControl01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(31,0x2,0x13ed3052,1,2,0x1600,0x7000,0x02,16,encoderValue01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(31,0x2,0x13ed3052,2,3,0x1a03,0x6010,0x00,16,encoderStatus01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(31,0x2,0x13ed3052,2,3,0x1a03,0x6010,0x10,16,positionActual01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(31,0x2,0x13ed3052,2,3,0x1a03,0x6010,0x20,16,encoderLatchPostion01)"
# deduce what the prefix should be
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd" "MASTER_ID=0,SLAVE_POS=31,HWTYPE=EL5101"
#==============================================================================
# ecmcmXsXXX.cmd
ecmcEpicsEnvSetCalc("sid", "31","%03d")
ecmcEpicsEnvSetCalc("mid", "0","%01d")
epicsEnvSet("ECMC_G",            "IOC_TEST:m0s031")
epicsEnvSet("ECMC_P",            "IOC_TEST:m0s031-")
epicsEnvUnset(sid)
epicsEnvUnset(mid)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SUBS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applySubstitutions.cmd" "SUBST_FILE=ecmcEL5101.substitutions,ECMC_P=IOC_TEST:m0s031-"
#==============================================================================
# applySubstitutions.cmd
ecmcFileExist(ecmcEL5101.substitutions,1,1)
dbLoadTemplate(ecmcEL5101.substitutions,"ECMC_P=IOC_TEST:m0s031-,ECMC_G=IOC_TEST:m0s031,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=31,HWTYPE=EL5101,T_SMP_MS=10,TSE=-2,NELM=1")
epicsEnvUnset(DEFAULT_SUBS)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SLAVE_PVS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applyTemplate.cmd" "TEMPLATE_FILE=ecmcEcSlave.template,ECMC_P=IOC_TEST:m0s031-,ECMC_G=IOC_TEST:m0s031"
#==============================================================================
# applyTemplate.cmd
ecmcFileExist(ecmcEcSlave.template,1,1)
dbLoadRecords("ecmcEcSlave.template", "ECMC_P=IOC_TEST:m0s031-,ECMC_G=IOC_TEST:m0s031,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=31,HWTYPE=EL5101,T_SMP_MS=10,TSE=-2,")
epicsEnvUnset(DEFAULT_SLAVE_PVS)
# increment SLAVE_ID
ecmcEpicsEnvSetCalc("SLAVE_ID", "31+1","%d")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addSlave.cmd, "HW_DESC=EL2004"
#==============================================================================
# addSlave.cmd
epicsEnvSet("ECMC_EC_SLAVE_NUM",  "32")
epicsEnvSet("HW_DESC",            "EL2004")
epicsEnvSet("P_SCRIPT",           "mXsXXX")
# add ${HW_DESC2022/05/13 08:36:35.135 OK
2022/05/13 08:36:35.136 OK
2022/05/13 08:36:35.136 OK
2022/05/13 08:36:35.136 OK
2022/05/13 08:36:35.136 OK
2022/05/13 08:36:35.141 OK
2022/05/13 08:36:35.151 OK
} to the bus at position ${SLAVE_ID}
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL2004.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL2004.cmd" "NELM=1"
epicsEnvSet("ECMC_EC_HWTYPE"             "EL2004")
epicsEnvSet("ECMC_EC_VENDOR_ID"          "0x2")
epicsEnvSet("ECMC_EC_PRODUCT_ID"         "0x07d43052")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/slaveVerify.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_VERIFY, "0==0", "","#- ")
ecmcConfigOrDie "Cfg.EcSlaveVerify(0,32,0x2,0x07d43052)"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_RESET, "0>0", "","#- ")
epicsEnvSet(ECMC_EC_SLAVE_FW, "0x0000")
epicsEnvUnset(ECMC_SLAVE_VERIFY)
epicsEnvUnset(ECMC_COMMENT)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEX2004.cmd
ecmcConfigOrDie "Cfg.EcAddEntryDT(32,0x2,0x07d43052,1,0,0x1600,0x7000,0x1,B1,binaryOutput01)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(32,0x2,0x07d43052,1,0,0x1601,0x7010,0x1,B1,binaryOutput02)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(32,0x2,0x07d43052,1,0,0x1602,0x7020,0x1,B1,binaryOutput03)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(32,0x2,0x07d43052,1,0,0x1603,0x7030,0x1,B1,binaryOutput04)"
# deduce what the prefix should be
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd" "MASTER_ID=0,SLAVE_POS=32,HWTYPE=EL2004"
#==============================================================================
# ecmcmXsXXX.cmd
ecmcEpicsEnvSetCalc("sid", "32","%03d")
ecmcEpicsEnvSetCalc("mid", "0","%01d")
epicsEnvSet("ECMC_G",            "IOC_TEST:m0s032")
epicsEnvSet("ECMC_P",            "IOC_TEST:m0s032-")
epicsEnvUnset(sid)
epicsEnvUnset(mid)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SUBS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applySubstitutions.cmd" "SUBST_FILE=ecmcEL2004.substitutions,ECMC_P=IOC_TEST:m0s032-"
#==============================================================================
# applySubstitutions.cmd
ecmcFileExist(ecmcEL2004.substitutions,1,1)
dbLoadTemplate(ecmcEL2004.substitutions,"ECMC_P=IOC_TEST:m0s032-,ECMC_G=IOC_TEST:m0s032,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=32,HWTYPE=EL2004,T_SMP_MS=10,TSE=-2,NELM=1")
epicsEnvUnset(DEFAULT_SUBS)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SLAVE_PVS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applyTemplate.cmd" "TEMPLATE_FILE=ecmcEcSlave.template,ECMC_P=IOC_TEST:m0s032-,ECMC_G=IOC_TEST:m0s032"
#==============================================================================
# applyTemplate.cmd
ecmcFileExist(ecmcEcSlave.template,1,1)
dbLoadRecords("ecmcEcSlave.template", "ECMC_P=IOC_TEST:m0s032-,ECMC_G=IOC_TEST:m0s032,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=32,HWTYPE=EL2004,T_SMP_MS=10,TSE=-2,")
epicsEnvUnset(DEFAULT_SLAVE_PVS)
# increment SLAVE_ID
ecmcEpicsEnvSetCalc("SLAVE_ID", "32+1","%d")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addSlave.cmd, "HW_DESC=EL3255"
#==============================================================================
# addSlave.cmd
epicsEnvSet("ECMC_EC_SLAVE_NUM",  "33")
epicsEnvSet("HW_DESC",            "EL3255")
epicsEnvSet("P_SCRIPT",           "mXsXXX")
# add ${HW_DESC} to the bus at position ${SLAVE_ID}
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL3255.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL3255.cmd" "NELM=1"
epicsEnvSet("ECMC_EC_HWTYPE"             "EL3255")
epicsEnvSet("ECMC_EC_VENDOR_ID"          "0x2")
epicsEnvSet("ECMC_EC_PRODUCT_ID"         "0x0cb73052")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/slaveVerify.cmd "RESET=true"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_VERIFY, "0==0", "","#- ")
ecmcConfigOrDie "Cfg.EcSlaveVerify(0,33,0x2,0x0cb73052)"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_RESET, "true>0", "","#- ")
ecmcConfigOrDie "Cfg.EcWriteSdo(33,0x1011,0x1,1684107116,4)"
epicsEnvSet(ECMC_EC_SLAVE_FW, "0x0000")
ecmcCo2022/05/13 08:36:35.159 14640
2022/05/13 08:36:35.161 OK
2022/05/13 08:36:35.161 OK
2022/05/13 08:36:35.161 OK
2022/05/13 08:36:35.161 OK
2022/05/13 08:36:35.162 OK
2022/05/13 08:36:35.162 OK
2022/05/13 08:36:35.163 OK
2022/05/13 08:36:35.163 OK
2022/05/13 08:36:35.164 OK
2022/05/13 08:36:35.164 OK
nfig "EcReadSdo(33,0x100a,0x0,2)"
ecmcEpicsEnvSetCalc("ECMC_EC_SLAVE_FW", "14640", "0x%04x")
# Firmware version: 0x3930
epicsEnvUnset(ECMC_SLAVE_VERIFY)
epicsEnvUnset(ECMC_COMMENT)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcAnalogInput_16bit.cmd "CH_ID=01,ECMC_PDO=0x1a00,ECMC_ENTRY=0x6000"
ecmcEpicsEnvSetCalc("ECMC_CHANNEL",01,"%02x")
ecmcConfigOrDie "Cfg.EcAddEntryDT(33,0x2,0x0cb73052,2,3,0x1a00,0x6000,0x01,U16,status01)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(33,0x2,0x0cb73052,2,3,0x1a00,0x6000,0x11,S16,analogInput01)"
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcAnalogInput_16bit.cmd "CH_ID=02,ECMC_PDO=0x1a02,ECMC_ENTRY=0x6010"
ecmcEpicsEnvSetCalc("ECMC_CHANNEL",02,"%02x")
ecmcConfigOrDie "Cfg.EcAddEntryDT(33,0x2,0x0cb73052,2,3,0x1a02,0x6010,0x01,U16,status02)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(33,0x2,0x0cb73052,2,3,0x1a02,0x6010,0x11,S16,analogInput02)"
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcAnalogInput_16bit.cmd "CH_ID=03,ECMC_PDO=0x1a04,ECMC_ENTRY=0x6020"
ecmcEpicsEnvSetCalc("ECMC_CHANNEL",03,"%02x")
ecmcConfigOrDie "Cfg.EcAddEntryDT(33,0x2,0x0cb73052,2,3,0x1a04,0x6020,0x01,U16,status03)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(33,0x2,0x0cb73052,2,3,0x1a04,0x6020,0x11,S16,analogInput03)"
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcAnalogInput_16bit.cmd "CH_ID=04,ECMC_PDO=0x1a06,ECMC_ENTRY=0x6030"
ecmcEpicsEnvSetCalc("ECMC_CHANNEL",04,"%02x")
ecmcConfigOrDie "Cfg.EcAddEntryDT(33,0x2,0x0cb73052,2,3,0x1a06,0x6030,0x01,U16,status04)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(33,0x2,0x0cb73052,2,3,0x1a06,0x6030,0x11,S16,analogInput04)"
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcAnalogInput_16bit.cmd "CH_ID=05,ECMC_PDO=0x1a08,ECMC_ENTRY=0x6040"
ecmcEpicsEnvSetCalc("ECMC_CHANNEL",05,"%02x")
ecmcConfigOrDie "Cfg.EcAddEntryDT(33,0x2,0x0cb73052,2,3,0x1a08,0x6040,0x01,U16,status05)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(33,0x2,0x0cb73052,2,3,0x1a08,0x6040,0x11,S16,analogInput05)"
# deduce what the prefix should be
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd" "MASTER_ID=0,SLAVE_POS=33,HWTYPE=EL3255"
#==============================================================================
# ecmcmXsXXX.cmd
ecmcEpicsEnvSetCalc("sid", "33","%03d")
ecmcEpicsEnvSetCalc("mid", "0","%01d")
epicsEnvSet("ECMC_G",            "IOC_TEST:m0s033")
epicsEnvSet("ECMC_P",            "IOC_TEST:m0s033-")
epicsEnvUnset(sid)
epicsEnvUnset(mid)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SUBS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applySubstitutions.cmd" "SUBST_FILE=ecmcEL3255.substitutions,ECMC_P=IOC_TEST:m0s033-"
#==============================================================================
# applySubstitutions.cmd
ecmcFileExist(ecmcEL3255.substitutions,1,1)
dbLoadTemplate(ecmcEL3255.substitutions,"ECMC_P=IOC_TEST:m0s033-,ECMC_G=IOC_TEST:m0s033,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=33,HWTYPE=EL3255,T_SMP_MS=10,TSE=-2,NELM=1")
epicsEnvUnset(DEFAULT_SUBS)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SLAVE_PVS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applyTemplate.cmd" "TEMPLATE_FILE=ecmcEcSlave.template,ECMC_P=IOC_TEST:m0s033-,ECMC_G=IOC_TEST:m0s033"
#==============================================================================
# applyTemplate.cmd
ecmcFileExist(ecmcEcSlave.template,1,1)
dbLoadRecords("ecmcEcSlave.template", "ECMC_P=IOC_TEST:m0s033-,ECMC_G=IOC_TEST:m0s033,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=33,HWTYPE=EL3255,T_SMP_MS=10,TSE=-2,")
epicsEnvUnset(DEFAULT_SLAVE_PVS)
# increment SLAVE_ID
ecmcEpicsEnvSetCalc("SLAVE_ID", "33+1","%d")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addSlave.cmd, "HW_DESC=EL3702"
#==============================================================================
# addSlave.cmd
epicsEnvSet("ECMC_EC_SLAVE_NUM",  "34")
epicsEnvSet("HW_DESC",            "EL37022022/05/13 08:36:35.171 OK
2022/05/13 08:36:35.173 OK
2022/05/13 08:36:35.175 OK
2022/05/13 08:36:35.175 OK
2022/05/13 08:36:35.176 OK
2022/05/13 08:36:35.176 OK
2022/05/13 08:36:35.177 OK
2022/05/13 08:36:35.178 OK
2022/05/13 08:36:35.178 OK
")
epicsEnvSet("P_SCRIPT",           "mXsXXX")
# add ${HW_DESC} to the bus at position ${SLAVE_ID}
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL3702.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL3702.cmd" "NELM=1"
epicsEnvSet("ECMC_EC_HWTYPE"             "EL3702")
epicsEnvSet("ECMC_EC_VENDOR_ID"          "0x2")
epicsEnvSet("ECMC_EC_PRODUCT_ID"         "0x0e763052")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/slaveVerify.cmd "RESET=false"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_VERIFY, "0==0", "","#- ")
ecmcConfigOrDie "Cfg.EcSlaveVerify(0,34,0x2,0x0e763052)"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_RESET, "false>0", "","#- ")
epicsEnvSet(ECMC_EC_SLAVE_FW, "0x0000")
epicsEnvUnset(ECMC_SLAVE_VERIFY)
epicsEnvUnset(ECMC_COMMENT)
ecmcFileExist(/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/chkOverSampFactOrDie.cmd,1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/chkOverSampFactOrDie.cmd, "OVER_SAMP_MAX=100, OVER_SAMP_REQ=1, EC_SAMP=1000,HW_TYPE=EL3702, SLAVE_ID=34"
#==============================================================================
# chkOverSampFactOrDie.cmd
#
# Check EtherCAT sample rate is set and valid
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD, "1000=-1", "ecmcExit Error: EtherCAT sampling rate undefined (EL3702 at bus position 34)","# EtherCAT sampling rate is defined: 1000")
# Result: 
# EtherCAT sampling rate is defined: 1000
#
# Check requested oversampling factor is in range (1..OVER_SAMP_MAX)
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD, "1>100 or 1<1", "ecmcExit Error: Oversampling factor out of range (EL3702 at bus position 34).","# Oversampling factor in range: 1<=1<=100")
# Result: 
# Oversampling factor in range: 1<=1<=100
#
# Check that sampling period [ns] (for each sample in the terminal) is an integer
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD, "floor(1/1000*1E9/1)<>(1/1000*1E9/1)", "ecmcExit Error: Oversampling factor not valid (EL3702 at bus position 34).","# Oversampling factor valid: 1")
# Result: 
# Oversampling factor valid: 1
epicsEnvUnset(ECMC_EXE_CMD)
#
ecmcConfigOrDie "Cfg.EcAddEntryDT(34,0x2,0x0e763052,2,0,0x1b00,0x6800,0x1,S16,cycleCounter01)"
ecmcFileExist(/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL3702_loopStep.cmd,1)
ecmcForLoop(/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL3702_loopStep.cmd,"CH_ID=01, PDO_OFFSET=0, PDO_ENTRY_OFFSET=1, SYNC_MAN=0",ECMC_LOOP_IDX,1,1,1)
ecmcEpicsEnvSetCalc("ECMC_ENTRY_HEX_VALUE",1-1,"%02x")
ecmcEpicsEnvSetCalc("ECMC_PDO_HEX_VALUE",1-1+0,"%02x")
ecmcConfigOrDie "Cfg.EcAddEntryDT(34,0x2,0x0e763052,2,0,0x1a00,0x6000,0x1,S16,analogInputArray01_1,0)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(34,0x2,0x0e763052,2,1,0x1b01,0x6800,0x2,S16,cycleCounter02)"
ecmcFileExist(/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL3702_loopStep.cmd,1)
ecmcForLoop(/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL3702_loopStep.cmd,"CH_ID=02, PDO_OFFSET=128, PDO_ENTRY_OFFSET=2, SYNC_MAN=1",ECMC_LOOP_IDX,1,1,1)
ecmcEpicsEnvSetCalc("ECMC_ENTRY_HEX_VALUE",1-1,"%02x")
ecmcEpicsEnvSetCalc("ECMC_PDO_HEX_VALUE",1-1+128,"%02x")
ecmcConfigOrDie "Cfg.EcAddEntryDT(34,0x2,0x0e763052,2,1,0x1a80,0x6000,0x2,S16,analogInputArray02_1,0)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(34,0x2,0x0e763052,2,2,0x1b10,0x1d09,0x98,U32,nextSyncTime)"
ecmcEpicsEnvSetCalc("ECMC_EC_SLAVE_SYNC_0_CYCLE_NS",1/1000*1E9/1)
ecmcEpicsEnvSetCalc("ECMC_EC_SLAVE_SYNC_1_CYCLE_NS",1/1000*1E9-1000000)
ecmcConfigOrDie "Cfg.EcSlaveConfigDC(34,0x730,1000000,0,0,0)"
ecmcEpicsEnvSetCalc("ECMC_EC_ARRAY_BYTE_SIZE",1*2)
ecmcConfigOrDie "Cfg.EcAddMemMapDT(ec0.s34.analogInputArray01_1,2,2,S16,ec0.s34.mm.analogInputArray01)"
ecmcConfigOrDie "Cfg.EcAddMemMapDT(ec0.s34.analogInputArray02_1,2,2,S16,ec0.s34.mm.analogInputArray02)"
epicsEnvUnset(ECMC_EC_ARRAY_BYTE_SIZE)
epicsEnvUnset(ECMC_EC_SLAVE_SYNC_0_CYCLE_NS)
epicsEnvUnset(ECMC_EC_SLAVE_SYNC_1_CYCLE_NS)
epicsEnvUnset(ECMC_ENTRY_HEX_VALUE)
epicsEnvUnset(ECMC_PDO_HEX_VALUE)
epicsEnvUnset(ECMC_LOOP_IDX)
# deduce what the prefix sh2022/05/13 08:36:35.184 OK
2022/05/13 08:36:35.199 OK
2022/05/13 08:36:35.411 14128
2022/05/13 08:36:35.412 OK
2022/05/13 08:36:35.412 OK
2022/05/13 08:36:35.412 OK
2022/05/13 08:36:35.413 OK
2022/05/13 08:36:35.413 OK
ould be
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd" "MASTER_ID=0,SLAVE_POS=34,HWTYPE=EL3702"
#==============================================================================
# ecmcmXsXXX.cmd
ecmcEpicsEnvSetCalc("sid", "34","%03d")
ecmcEpicsEnvSetCalc("mid", "0","%01d")
epicsEnvSet("ECMC_G",            "IOC_TEST:m0s034")
epicsEnvSet("ECMC_P",            "IOC_TEST:m0s034-")
epicsEnvUnset(sid)
epicsEnvUnset(mid)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SUBS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applySubstitutions.cmd" "SUBST_FILE=ecmcEL3702.substitutions,ECMC_P=IOC_TEST:m0s034-"
#==============================================================================
# applySubstitutions.cmd
ecmcFileExist(ecmcEL3702.substitutions,1,1)
dbLoadTemplate(ecmcEL3702.substitutions,"ECMC_P=IOC_TEST:m0s034-,ECMC_G=IOC_TEST:m0s034,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=34,HWTYPE=EL3702,T_SMP_MS=10,TSE=-2,NELM=1")
epicsEnvUnset(DEFAULT_SUBS)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SLAVE_PVS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applyTemplate.cmd" "TEMPLATE_FILE=ecmcEcSlave.template,ECMC_P=IOC_TEST:m0s034-,ECMC_G=IOC_TEST:m0s034"
#==============================================================================
# applyTemplate.cmd
ecmcFileExist(ecmcEcSlave.template,1,1)
dbLoadRecords("ecmcEcSlave.template", "ECMC_P=IOC_TEST:m0s034-,ECMC_G=IOC_TEST:m0s034,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=34,HWTYPE=EL3702,T_SMP_MS=10,TSE=-2,")
epicsEnvUnset(DEFAULT_SLAVE_PVS)
# increment SLAVE_ID
ecmcEpicsEnvSetCalc("SLAVE_ID", "34+1","%d")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addSlave.cmd, "HW_DESC=EL5021"
#==============================================================================
# addSlave.cmd
epicsEnvSet("ECMC_EC_SLAVE_NUM",  "35")
epicsEnvSet("HW_DESC",            "EL5021")
epicsEnvSet("P_SCRIPT",           "mXsXXX")
# add ${HW_DESC} to the bus at position ${SLAVE_ID}
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL5021.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL5021.cmd" "NELM=1"
epicsEnvSet("ECMC_EC_HWTYPE"             "EL5021")
epicsEnvSet("ECMC_EC_VENDOR_ID"          "0x2")
epicsEnvSet("ECMC_EC_PRODUCT_ID"         "0x139d3052")
ecmcFileExist(/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/slaveVerify.cmd,1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/slaveVerify.cmd "RESET=true"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_VERIFY, "0==0", "","#- ")
ecmcConfigOrDie "Cfg.EcSlaveVerify(0,35,0x2,0x139d3052)"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_RESET, "true>0", "","#- ")
ecmcConfigOrDie "Cfg.EcWriteSdo(35,0x1011,0x1,1684107116,4)"
epicsEnvSet(ECMC_EC_SLAVE_FW, "0x0000")
ecmcConfig "EcReadSdo(35,0x100a,0x0,2)"
ecmcEpicsEnvSetCalc("ECMC_EC_SLAVE_FW", "14128", "0x%04x")
# Firmware version: 0x3730
epicsEnvUnset(ECMC_SLAVE_VERIFY)
epicsEnvUnset(ECMC_COMMENT)
ecmcConfigOrDie "Cfg.EcAddEntryComplete(35,0x2,0x139d3052,1,2,0x1600,0x7000,0x01,16,encoderControl01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(35,0x2,0x139d3052,1,2,0x1600,0x7000,0x11,32,encoderValue01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(35,0x2,0x139d3052,2,3,0x1a00,0x6000,0x01,16,encoderStatus01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(35,0x2,0x139d3052,2,3,0x1a00,0x6000,0x11,32,positionActual01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(35,0x2,0x139d3052,2,3,0x1a00,0x6000,0x12,32,encoderLatchPostion01)"
# deduce what the prefix should be
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd" "MASTER_ID=0,SLAVE_POS=35,HWTYPE=EL5021"
#==============================================================================
# ecmcmXsXXX.cmd
ecmcEpicsEnvSetCalc("sid", "35","%03d")
ecmcEpicsEnvSetCalc("mid", "0","%01d")
epicsEnvSet(2022/05/13 08:36:35.418 OK
2022/05/13 08:36:35.467 OK
2022/05/13 08:36:35.475 13360
2022/05/13 08:36:35.476 OK
2022/05/13 08:36:35.476 OK
2022/05/13 08:36:35.476 OK
2022/05/13 08:36:35.477 OK
2022/05/13 08:36:35.477 OK
2022/05/13 08:36:35.477 OK
2022/05/13 08:36:35.477 OK
2022/05/13 08:36:35.477 OK
2022/05/13 08:36:35.477 OK
2022/05/13 08:36:35.477 OK
2022/05/13 08:36:35.477 OK
2022/05/13 08:36:35.478 OK
"ECMC_G",            "IOC_TEST:m0s035")
epicsEnvSet("ECMC_P",            "IOC_TEST:m0s035-")
epicsEnvUnset(sid)
epicsEnvUnset(mid)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SUBS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applySubstitutions.cmd" "SUBST_FILE=ecmcEL5021.substitutions,ECMC_P=IOC_TEST:m0s035-"
#==============================================================================
# applySubstitutions.cmd
ecmcFileExist(ecmcEL5021.substitutions,1,1)
dbLoadTemplate(ecmcEL5021.substitutions,"ECMC_P=IOC_TEST:m0s035-,ECMC_G=IOC_TEST:m0s035,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=35,HWTYPE=EL5021,T_SMP_MS=10,TSE=-2,NELM=1")
epicsEnvUnset(DEFAULT_SUBS)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SLAVE_PVS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applyTemplate.cmd" "TEMPLATE_FILE=ecmcEcSlave.template,ECMC_P=IOC_TEST:m0s035-,ECMC_G=IOC_TEST:m0s035"
#==============================================================================
# applyTemplate.cmd
ecmcFileExist(ecmcEcSlave.template,1,1)
dbLoadRecords("ecmcEcSlave.template", "ECMC_P=IOC_TEST:m0s035-,ECMC_G=IOC_TEST:m0s035,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=35,HWTYPE=EL5021,T_SMP_MS=10,TSE=-2,")
epicsEnvUnset(DEFAULT_SLAVE_PVS)
# increment SLAVE_ID
ecmcEpicsEnvSetCalc("SLAVE_ID", "35+1","%d")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addSlave.cmd, "HW_DESC=EL7037"
#==============================================================================
# addSlave.cmd
epicsEnvSet("ECMC_EC_SLAVE_NUM",  "36")
epicsEnvSet("HW_DESC",            "EL7037")
epicsEnvSet("P_SCRIPT",           "mXsXXX")
# add ${HW_DESC} to the bus at position ${SLAVE_ID}
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL7037.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL7037.cmd" "NELM=1"
epicsEnvSet("ECMC_EC_HWTYPE"             "EL7037")
epicsEnvSet("ECMC_EC_VENDOR_ID"          "0x2")
epicsEnvSet("ECMC_EC_PRODUCT_ID"         "0x1b7d3052")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/slaveVerify.cmd "RESET=true"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_VERIFY, "0==0", "","#- ")
ecmcConfigOrDie "Cfg.EcSlaveVerify(0,36,0x2,0x1b7d3052)"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_RESET, "true>0", "","#- ")
ecmcConfigOrDie "Cfg.EcWriteSdo(36,0x1011,0x1,1684107116,4)"
epicsEnvSet(ECMC_EC_SLAVE_FW, "0x0000")
ecmcConfig "EcReadSdo(36,0x100a,0x0,2)"
ecmcEpicsEnvSetCalc("ECMC_EC_SLAVE_FW", "13360", "0x%04x")
# Firmware version: 0x3430
epicsEnvUnset(ECMC_SLAVE_VERIFY)
epicsEnvUnset(ECMC_COMMENT)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEX70XX.cmd
ecmcConfigOrDie "Cfg.EcAddEntryComplete(36,0x2,0x1b7d3052,1,2,0x1600,0x7000,0x01,16,encoderControl01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(36,0x2,0x1b7d3052,1,2,0x1600,0x7000,0x11,16,encoderValue01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(36,0x2,0x1b7d3052,1,2,0x1602,0x7010,0x1,16,driveControl01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(36,0x2,0x1b7d3052,1,2,0x1604,0x7010,0x21,16,1,velocitySetpoint01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(36,0x2,0x1b7d3052,2,3,0x1a00,0x6000,0x0,16,encoderStatus01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(36,0x2,0x1b7d3052,2,3,0x1a00,0x6000,0x11,16,positionActual01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(36,0x2,0x1b7d3052,2,3,0x1a00,0x6000,0x12,16,encoderLatchPostion01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(36,0x2,0x1b7d3052,2,3,0x1a03,0x6010,0x1,16,driveStatus01)"
ecmcConfigOrDie "Cfg.EcAddSdo(36,0x8012,0x5,1,1)"
ecmcConfigOrDie "Cfg.EcAddSdo(36,0x8012,0xA,1,1)"
ecmcConfigOrDie "Cfg.EcAddSdo(36,0x8012,0x8,1,1)"
ecmcConfigOrDie "Cfg.EcAddSdo(36,0x8012,0x9,0,1)"
# deduce what the prefix should be
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd" "MASTER_ID=0,SLAVE_POS=36,HWTYPE=EL7037"
#==============================================================================
# ecmcmXsXXX.cmd
ecmcEp2022/05/13 08:36:35.483 OK
2022/05/13 08:36:35.537 OK
2022/05/13 08:36:35.545 14640
2022/05/13 08:36:35.546 OK
2022/05/13 08:36:35.546 OK
2022/05/13 08:36:35.546 OK
2022/05/13 08:36:35.547 OK
2022/05/13 08:36:35.547 OK
2022/05/13 08:36:35.547 OK
2022/05/13 08:36:35.547 OK
2022/05/13 08:36:35.547 OK
2022/05/13 08:36:35.547 OK
2022/05/13 08:36:35.547 OK
icsEnvSetCalc("sid", "36","%03d")
ecmcEpicsEnvSetCalc("mid", "0","%01d")
epicsEnvSet("ECMC_G",            "IOC_TEST:m0s036")
epicsEnvSet("ECMC_P",            "IOC_TEST:m0s036-")
epicsEnvUnset(sid)
epicsEnvUnset(mid)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SUBS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applySubstitutions.cmd" "SUBST_FILE=ecmcEL7037.substitutions,ECMC_P=IOC_TEST:m0s036-"
#==============================================================================
# applySubstitutions.cmd
ecmcFileExist(ecmcEL7037.substitutions,1,1)
dbLoadTemplate(ecmcEL7037.substitutions,"ECMC_P=IOC_TEST:m0s036-,ECMC_G=IOC_TEST:m0s036,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=36,HWTYPE=EL7037,T_SMP_MS=10,TSE=-2,NELM=1")
epicsEnvUnset(DEFAULT_SUBS)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SLAVE_PVS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applyTemplate.cmd" "TEMPLATE_FILE=ecmcEcSlave.template,ECMC_P=IOC_TEST:m0s036-,ECMC_G=IOC_TEST:m0s036"
#==============================================================================
# applyTemplate.cmd
ecmcFileExist(ecmcEcSlave.template,1,1)
dbLoadRecords("ecmcEcSlave.template", "ECMC_P=IOC_TEST:m0s036-,ECMC_G=IOC_TEST:m0s036,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=36,HWTYPE=EL7037,T_SMP_MS=10,TSE=-2,")
epicsEnvUnset(DEFAULT_SLAVE_PVS)
# increment SLAVE_ID
ecmcEpicsEnvSetCalc("SLAVE_ID", "36+1","%d")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addSlave.cmd, "HW_DESC=EL7031"
#==============================================================================
# addSlave.cmd
epicsEnvSet("ECMC_EC_SLAVE_NUM",  "37")
epicsEnvSet("HW_DESC",            "EL7031")
epicsEnvSet("P_SCRIPT",           "mXsXXX")
# add ${HW_DESC} to the bus at position ${SLAVE_ID}
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL7031.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL7031.cmd" "NELM=1"
epicsEnvSet("ECMC_EC_HWTYPE"             "EL7031")
epicsEnvSet("ECMC_EC_VENDOR_ID"          "0x2")
epicsEnvSet("ECMC_EC_PRODUCT_ID"         "0x1b773052")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/slaveVerify.cmd "RESET=true"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_VERIFY, "0==0", "","#- ")
ecmcConfigOrDie "Cfg.EcSlaveVerify(0,37,0x2,0x1b773052)"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_RESET, "true>0", "","#- ")
ecmcConfigOrDie "Cfg.EcWriteSdo(37,0x1011,0x1,1684107116,4)"
epicsEnvSet(ECMC_EC_SLAVE_FW, "0x0000")
ecmcConfig "EcReadSdo(37,0x100a,0x0,2)"
ecmcEpicsEnvSetCalc("ECMC_EC_SLAVE_FW", "14640", "0x%04x")
# Firmware version: 0x3930
epicsEnvUnset(ECMC_SLAVE_VERIFY)
epicsEnvUnset(ECMC_COMMENT)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEX70XX.cmd
ecmcConfigOrDie "Cfg.EcAddEntryComplete(37,0x2,0x1b773052,1,2,0x1600,0x7000,0x01,16,encoderControl01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(37,0x2,0x1b773052,1,2,0x1600,0x7000,0x11,16,encoderValue01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(37,0x2,0x1b773052,1,2,0x1602,0x7010,0x1,16,driveControl01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(37,0x2,0x1b773052,1,2,0x1604,0x7010,0x21,16,1,velocitySetpoint01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(37,0x2,0x1b773052,2,3,0x1a00,0x6000,0x0,16,encoderStatus01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(37,0x2,0x1b773052,2,3,0x1a00,0x6000,0x11,16,positionActual01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(37,0x2,0x1b773052,2,3,0x1a00,0x6000,0x12,16,encoderLatchPostion01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(37,0x2,0x1b773052,2,3,0x1a03,0x6010,0x1,16,driveStatus01)"
ecmcConfigOrDie "Cfg.EcAddSdo(37,0x8012,0x5,1,1)"
ecmcConfigOrDie "Cfg.EcAddSdo(37,0x8012,0x9,0,1)"
# deduce what the prefix should be
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd" "MASTER_ID=0,SLAVE_POS=37,HWTYPE=EL7031"
#==============================================================================
# ecmcmXsXXX.cmd
ecmcEpicsEnvSetCalc("2022/05/13 08:36:35.553 OK
2022/05/13 08:36:35.554 OK
2022/05/13 08:36:35.554 OK
2022/05/13 08:36:35.554 OK
2022/05/13 08:36:35.554 OK
2022/05/13 08:36:35.554 OK
2022/05/13 08:36:35.554 OK
2022/05/13 08:36:35.554 OK
2022/05/13 08:36:35.554 OK
2022/05/13 08:36:35.554 OK
2022/05/13 08:36:35.554 OK
2022/05/13 08:36:35.554 OK
2022/05/13 08:36:35.554 OK
2022/05/13 08:36:35.554 OK
2022/05/13 08:36:35.554 OK
2022/05/13 08:36:35.554 OK
2022/05/13 08:36:35.555 OK
sid", "37","%03d")
ecmcEpicsEnvSetCalc("mid", "0","%01d")
epicsEnvSet("ECMC_G",            "IOC_TEST:m0s037")
epicsEnvSet("ECMC_P",            "IOC_TEST:m0s037-")
epicsEnvUnset(sid)
epicsEnvUnset(mid)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SUBS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applySubstitutions.cmd" "SUBST_FILE=ecmcEL7031.substitutions,ECMC_P=IOC_TEST:m0s037-"
#==============================================================================
# applySubstitutions.cmd
ecmcFileExist(ecmcEL7031.substitutions,1,1)
dbLoadTemplate(ecmcEL7031.substitutions,"ECMC_P=IOC_TEST:m0s037-,ECMC_G=IOC_TEST:m0s037,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=37,HWTYPE=EL7031,T_SMP_MS=10,TSE=-2,NELM=1")
epicsEnvUnset(DEFAULT_SUBS)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SLAVE_PVS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applyTemplate.cmd" "TEMPLATE_FILE=ecmcEcSlave.template,ECMC_P=IOC_TEST:m0s037-,ECMC_G=IOC_TEST:m0s037"
#==============================================================================
# applyTemplate.cmd
ecmcFileExist(ecmcEcSlave.template,1,1)
dbLoadRecords("ecmcEcSlave.template", "ECMC_P=IOC_TEST:m0s037-,ECMC_G=IOC_TEST:m0s037,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=37,HWTYPE=EL7031,T_SMP_MS=10,TSE=-2,")
epicsEnvUnset(DEFAULT_SLAVE_PVS)
# increment SLAVE_ID
ecmcEpicsEnvSetCalc("SLAVE_ID", "37+1","%d")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addSlave.cmd, "HW_DESC=EL2819"
#==============================================================================
# addSlave.cmd
epicsEnvSet("ECMC_EC_SLAVE_NUM",  "38")
epicsEnvSet("HW_DESC",            "EL2819")
epicsEnvSet("P_SCRIPT",           "mXsXXX")
# add ${HW_DESC} to the bus at position ${SLAVE_ID}
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL2819.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL2819.cmd" "NELM=1"
epicsEnvSet("ECMC_EC_HWTYPE"             "EL2819")
epicsEnvSet("ECMC_EC_VENDOR_ID"          "0x2")
epicsEnvSet("ECMC_EC_PRODUCT_ID"         "0x0b033052")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/slaveVerify.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_VERIFY, "0==0", "","#- ")
ecmcConfigOrDie "Cfg.EcSlaveVerify(0,38,0x2,0x0b033052)"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_RESET, "0>0", "","#- ")
epicsEnvSet(ECMC_EC_SLAVE_FW, "0x0000")
epicsEnvUnset(ECMC_SLAVE_VERIFY)
epicsEnvUnset(ECMC_COMMENT)
ecmcConfigOrDie "Cfg.EcAddEntryComplete(38,0x2,0x0b033052,1,2,0x1600,0x7000,0x1,1,binaryOutput01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(38,0x2,0x0b033052,1,2,0x1600,0x7010,0x1,1,binaryOutput02)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(38,0x2,0x0b033052,1,2,0x1600,0x7020,0x1,1,binaryOutput03)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(38,0x2,0x0b033052,1,2,0x1600,0x7030,0x1,1,binaryOutput04)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(38,0x2,0x0b033052,1,2,0x1600,0x7040,0x1,1,binaryOutput05)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(38,0x2,0x0b033052,1,2,0x1600,0x7050,0x1,1,binaryOutput06)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(38,0x2,0x0b033052,1,2,0x1600,0x7060,0x1,1,binaryOutput07)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(38,0x2,0x0b033052,1,2,0x1600,0x7070,0x1,1,binaryOutput08)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(38,0x2,0x0b033052,1,2,0x1600,0x7080,0x1,1,binaryOutput09)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(38,0x2,0x0b033052,1,2,0x1600,0x7090,0x1,1,binaryOutput10)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(38,0x2,0x0b033052,1,2,0x1600,0x70A0,0x1,1,binaryOutput11)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(38,0x2,0x0b033052,1,2,0x1600,0x70B0,0x1,1,binaryOutput12)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(38,0x2,0x0b033052,1,2,0x1600,0x70C0,0x1,1,binaryOutput13)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(38,0x2,0x0b033052,1,2,0x1600,0x70D0,0x1,1,binaryOutput14)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(38,0x2,0x0b033052,1,2,0x1600,0x70E0,0x1,1,binaryOutput15)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(38,0x2,0x0b033052,1,2,0x1600,0x70F0,0x1,1,binaryOutput16)"
ecmcCon2022/05/13 08:36:35.555 OK
2022/05/13 08:36:35.555 OK
2022/05/13 08:36:35.555 OK
2022/05/13 08:36:35.555 OK
2022/05/13 08:36:35.555 OK
2022/05/13 08:36:35.555 OK
2022/05/13 08:36:35.555 OK
2022/05/13 08:36:35.555 OK
2022/05/13 08:36:35.555 OK
2022/05/13 08:36:35.555 OK
2022/05/13 08:36:35.555 OK
2022/05/13 08:36:35.555 OK
2022/05/13 08:36:35.555 OK
2022/05/13 08:36:35.555 OK
2022/05/13 08:36:35.555 OK
2022/05/13 08:36:35.555 OK
figOrDie "Cfg.EcAddEntryComplete(38,0x2,0x0b033052,2,3,0x1A00,0x6001,0x1,4,binaryOutputStatus01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(38,0x2,0x0b033052,2,3,0x1A00,0x6011,0x1,4,binaryOutputStatus02)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(38,0x2,0x0b033052,2,3,0x1A00,0x6021,0x1,4,binaryOutputStatus03)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(38,0x2,0x0b033052,2,3,0x1A00,0x6031,0x1,4,binaryOutputStatus04)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(38,0x2,0x0b033052,2,3,0x1A00,0x6041,0x1,4,binaryOutputStatus05)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(38,0x2,0x0b033052,2,3,0x1A00,0x6051,0x1,4,binaryOutputStatus06)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(38,0x2,0x0b033052,2,3,0x1A00,0x6061,0x1,4,binaryOutputStatus07)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(38,0x2,0x0b033052,2,3,0x1A00,0x6071,0x1,4,binaryOutputStatus08)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(38,0x2,0x0b033052,2,3,0x1A00,0x6081,0x1,4,binaryOutputStatus09)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(38,0x2,0x0b033052,2,3,0x1A00,0x6091,0x1,4,binaryOutputStatus10)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(38,0x2,0x0b033052,2,3,0x1A00,0x60A1,0x1,4,binaryOutputStatus11)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(38,0x2,0x0b033052,2,3,0x1A00,0x60B1,0x1,4,binaryOutputStatus12)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(38,0x2,0x0b033052,2,3,0x1A00,0x60C1,0x1,4,binaryOutputStatus13)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(38,0x2,0x0b033052,2,3,0x1A00,0x60D1,0x1,4,binaryOutputStatus14)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(38,0x2,0x0b033052,2,3,0x1A00,0x60E1,0x1,4,binaryOutputStatus15)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(38,0x2,0x0b033052,2,3,0x1A00,0x60F1,0x1,4,binaryOutputStatus16)"
# deduce what the prefix should be
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd" "MASTER_ID=0,SLAVE_POS=38,HWTYPE=EL2819"
#==============================================================================
# ecmcmXsXXX.cmd
ecmcEpicsEnvSetCalc("sid", "38","%03d")
ecmcEpicsEnvSetCalc("mid", "0","%01d")
epicsEnvSet("ECMC_G",            "IOC_TEST:m0s038")
epicsEnvSet("ECMC_P",            "IOC_TEST:m0s038-")
epicsEnvUnset(sid)
epicsEnvUnset(mid)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SUBS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applySubstitutions.cmd" "SUBST_FILE=ecmcEL2819.substitutions,ECMC_P=IOC_TEST:m0s038-"
#==============================================================================
# applySubstitutions.cmd
ecmcFileExist(ecmcEL2819.substitutions,1,1)
dbLoadTemplate(ecmcEL2819.substitutions,"ECMC_P=IOC_TEST:m0s038-,ECMC_G=IOC_TEST:m0s038,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=38,HWTYPE=EL2819,T_SMP_MS=10,TSE=-2,NELM=1")
epicsEnvUnset(DEFAULT_SUBS)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SLAVE_PVS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applyTemplate.cmd" "TEMPLATE_FILE=ecmcEcSlave.template,ECMC_P=IOC_TEST:m0s038-,ECMC_G=IOC_TEST:m0s038"
#==============================================================================
# applyTemplate.cmd
ecmcFileExist(ecmcEcSlave.template,1,1)
dbLoadRecords("ecmcEcSlave.template", "ECMC_P=IOC_TEST:m0s038-,ECMC_G=IOC_TEST:m0s038,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=38,HWTYPE=EL2819,T_SMP_MS=10,TSE=-2,")
epicsEnvUnset(DEFAULT_SLAVE_PVS)
# increment SLAVE_ID
ecmcEpicsEnvSetCalc("SLAVE_ID", "38+1","%d")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addSlave.cmd, "HW_DESC=EL1808"
#==============================================================================
# addSlave.cmd
epicsEnvSet("ECMC_EC_SLAVE_NUM",  "39")
epicsEnvSet("HW_DESC",            "EL1808")
epicsEnvSet("P_SCRIPT",           "mXsXXX")
# add ${HW_DESC} to the bus at position ${SLAVE_ID}
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL1808.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL1808.cmd" "NELM=1"
epicsEnvSet("ECMC_EC_HWTYPE"             "EL1808")
epicsEnvSet("ECMC_E2022/05/13 08:36:35.566 OK
2022/05/13 08:36:35.567 OK
2022/05/13 08:36:35.567 OK
2022/05/13 08:36:35.567 OK
2022/05/13 08:36:35.568 OK
2022/05/13 08:36:35.568 OK
2022/05/13 08:36:35.568 OK
2022/05/13 08:36:35.568 OK
2022/05/13 08:36:35.568 OK
2022/05/13 08:36:35.573 OK
C_VENDOR_ID"          "0x2")
epicsEnvSet("ECMC_EC_PRODUCT_ID"         "0x07103052")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/slaveVerify.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_VERIFY, "0==0", "","#- ")
ecmcConfigOrDie "Cfg.EcSlaveVerify(0,39,0x2,0x07103052)"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_RESET, "0>0", "","#- ")
epicsEnvSet(ECMC_EC_SLAVE_FW, "0x0000")
epicsEnvUnset(ECMC_SLAVE_VERIFY)
epicsEnvUnset(ECMC_COMMENT)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEX1008.cmd
ecmcConfigOrDie "Cfg.EcAddEntryDT(39,0x2,0x07103052,2,0,0x1a00,0x6000,0x1,B1,binaryInput01)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(39,0x2,0x07103052,2,0,0x1a01,0x6010,0x1,B1,binaryInput02)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(39,0x2,0x07103052,2,0,0x1a02,0x6020,0x1,B1,binaryInput03)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(39,0x2,0x07103052,2,0,0x1a03,0x6030,0x1,B1,binaryInput04)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(39,0x2,0x07103052,2,0,0x1a04,0x6040,0x1,B1,binaryInput05)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(39,0x2,0x07103052,2,0,0x1a05,0x6050,0x1,B1,binaryInput06)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(39,0x2,0x07103052,2,0,0x1a06,0x6060,0x1,B1,binaryInput07)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(39,0x2,0x07103052,2,0,0x1a07,0x6070,0x1,B1,binaryInput08)"
# deduce what the prefix should be
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd" "MASTER_ID=0,SLAVE_POS=39,HWTYPE=EL1808"
#==============================================================================
# ecmcmXsXXX.cmd
ecmcEpicsEnvSetCalc("sid", "39","%03d")
ecmcEpicsEnvSetCalc("mid", "0","%01d")
epicsEnvSet("ECMC_G",            "IOC_TEST:m0s039")
epicsEnvSet("ECMC_P",            "IOC_TEST:m0s039-")
epicsEnvUnset(sid)
epicsEnvUnset(mid)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SUBS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applySubstitutions.cmd" "SUBST_FILE=ecmcEL1808.substitutions,ECMC_P=IOC_TEST:m0s039-"
#==============================================================================
# applySubstitutions.cmd
ecmcFileExist(ecmcEL1808.substitutions,1,1)
dbLoadTemplate(ecmcEL1808.substitutions,"ECMC_P=IOC_TEST:m0s039-,ECMC_G=IOC_TEST:m0s039,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=39,HWTYPE=EL1808,T_SMP_MS=10,TSE=-2,NELM=1")
epicsEnvUnset(DEFAULT_SUBS)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SLAVE_PVS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applyTemplate.cmd" "TEMPLATE_FILE=ecmcEcSlave.template,ECMC_P=IOC_TEST:m0s039-,ECMC_G=IOC_TEST:m0s039"
#==============================================================================
# applyTemplate.cmd
ecmcFileExist(ecmcEcSlave.template,1,1)
dbLoadRecords("ecmcEcSlave.template", "ECMC_P=IOC_TEST:m0s039-,ECMC_G=IOC_TEST:m0s039,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=39,HWTYPE=EL1808,T_SMP_MS=10,TSE=-2,")
epicsEnvUnset(DEFAULT_SLAVE_PVS)
# increment SLAVE_ID
ecmcEpicsEnvSetCalc("SLAVE_ID", "39+1","%d")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addSlave.cmd, "HW_DESC=EL1808"
#==============================================================================
# addSlave.cmd
epicsEnvSet("ECMC_EC_SLAVE_NUM",  "40")
epicsEnvSet("HW_DESC",            "EL1808")
epicsEnvSet("P_SCRIPT",           "mXsXXX")
# add ${HW_DESC} to the bus at position ${SLAVE_ID}
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL1808.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL1808.cmd" "NELM=1"
epicsEnvSet("ECMC_EC_HWTYPE"             "EL1808")
epicsEnvSet("ECMC_EC_VENDOR_ID"          "0x2")
epicsEnvSet("ECMC_EC_PRODUCT_ID"         "0x07103052")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/slaveVerify.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_VERIFY, "0==0", "","#- ")
ecmcConfigOrDie "Cfg.EcSlaveVerify(0,40,0x2,0x07103052)"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_RESET, "0>0", "","#- ")
epicsEnvSet(ECMC_EC_SLAVE_FW, "0x0000")
epicsE2022/05/13 08:36:35.575 OK
2022/05/13 08:36:35.575 OK
2022/05/13 08:36:35.575 OK
2022/05/13 08:36:35.575 OK
2022/05/13 08:36:35.575 OK
2022/05/13 08:36:35.576 OK
2022/05/13 08:36:35.576 OK
2022/05/13 08:36:35.576 OK
2022/05/13 08:36:35.581 OK
2022/05/13 08:36:35.582 OK
2022/05/13 08:36:35.582 OK
nvUnset(ECMC_SLAVE_VERIFY)
epicsEnvUnset(ECMC_COMMENT)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEX1008.cmd
ecmcConfigOrDie "Cfg.EcAddEntryDT(40,0x2,0x07103052,2,0,0x1a00,0x6000,0x1,B1,binaryInput01)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(40,0x2,0x07103052,2,0,0x1a01,0x6010,0x1,B1,binaryInput02)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(40,0x2,0x07103052,2,0,0x1a02,0x6020,0x1,B1,binaryInput03)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(40,0x2,0x07103052,2,0,0x1a03,0x6030,0x1,B1,binaryInput04)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(40,0x2,0x07103052,2,0,0x1a04,0x6040,0x1,B1,binaryInput05)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(40,0x2,0x07103052,2,0,0x1a05,0x6050,0x1,B1,binaryInput06)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(40,0x2,0x07103052,2,0,0x1a06,0x6060,0x1,B1,binaryInput07)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(40,0x2,0x07103052,2,0,0x1a07,0x6070,0x1,B1,binaryInput08)"
# deduce what the prefix should be
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd" "MASTER_ID=0,SLAVE_POS=40,HWTYPE=EL1808"
#==============================================================================
# ecmcmXsXXX.cmd
ecmcEpicsEnvSetCalc("sid", "40","%03d")
ecmcEpicsEnvSetCalc("mid", "0","%01d")
epicsEnvSet("ECMC_G",            "IOC_TEST:m0s040")
epicsEnvSet("ECMC_P",            "IOC_TEST:m0s040-")
epicsEnvUnset(sid)
epicsEnvUnset(mid)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SUBS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applySubstitutions.cmd" "SUBST_FILE=ecmcEL1808.substitutions,ECMC_P=IOC_TEST:m0s040-"
#==============================================================================
# applySubstitutions.cmd
ecmcFileExist(ecmcEL1808.substitutions,1,1)
dbLoadTemplate(ecmcEL1808.substitutions,"ECMC_P=IOC_TEST:m0s040-,ECMC_G=IOC_TEST:m0s040,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=40,HWTYPE=EL1808,T_SMP_MS=10,TSE=-2,NELM=1")
epicsEnvUnset(DEFAULT_SUBS)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SLAVE_PVS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applyTemplate.cmd" "TEMPLATE_FILE=ecmcEcSlave.template,ECMC_P=IOC_TEST:m0s040-,ECMC_G=IOC_TEST:m0s040"
#==============================================================================
# applyTemplate.cmd
ecmcFileExist(ecmcEcSlave.template,1,1)
dbLoadRecords("ecmcEcSlave.template", "ECMC_P=IOC_TEST:m0s040-,ECMC_G=IOC_TEST:m0s040,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=40,HWTYPE=EL1808,T_SMP_MS=10,TSE=-2,")
epicsEnvUnset(DEFAULT_SLAVE_PVS)
# increment SLAVE_ID
ecmcEpicsEnvSetCalc("SLAVE_ID", "40+1","%d")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addSlave.cmd, "HW_DESC=EL1808"
#==============================================================================
# addSlave.cmd
epicsEnvSet("ECMC_EC_SLAVE_NUM",  "41")
epicsEnvSet("HW_DESC",            "EL1808")
epicsEnvSet("P_SCRIPT",           "mXsXXX")
# add ${HW_DESC} to the bus at position ${SLAVE_ID}
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL1808.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL1808.cmd" "NELM=1"
epicsEnvSet("ECMC_EC_HWTYPE"             "EL1808")
epicsEnvSet("ECMC_EC_VENDOR_ID"          "0x2")
epicsEnvSet("ECMC_EC_PRODUCT_ID"         "0x07103052")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/slaveVerify.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_VERIFY, "0==0", "","#- ")
ecmcConfigOrDie "Cfg.EcSlaveVerify(0,41,0x2,0x07103052)"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_RESET, "0>0", "","#- ")
epicsEnvSet(ECMC_EC_SLAVE_FW, "0x0000")
epicsEnvUnset(ECMC_SLAVE_VERIFY)
epicsEnvUnset(ECMC_COMMENT)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEX1008.cmd
ecmcConfigOrDie "Cfg.EcAddEntryDT(41,0x2,0x07103052,2,0,0x1a00,0x6000,0x1,B1,binaryInput01)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(41,0x2,0x07103052,2,0,0x1a01,0x6010,0x1,B1,binaryInput02)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(41,0x2,0x07103052,2,0,0x1a02,0x6020,0x12022/05/13 08:36:35.583 OK
2022/05/13 08:36:35.583 OK
2022/05/13 08:36:35.583 OK
2022/05/13 08:36:35.583 OK
2022/05/13 08:36:35.583 OK
2022/05/13 08:36:35.583 OK
2022/05/13 08:36:35.588 OK
2022/05/13 08:36:35.589 OK
2022/05/13 08:36:35.589 OK
2022/05/13 08:36:35.589 OK
2022/05/13 08:36:35.590 OK
2022/05/13 08:36:35.590 OK
2022/05/13 08:36:35.590 OK
2022/05/13 08:36:35.590 OK
,B1,binaryInput03)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(41,0x2,0x07103052,2,0,0x1a03,0x6030,0x1,B1,binaryInput04)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(41,0x2,0x07103052,2,0,0x1a04,0x6040,0x1,B1,binaryInput05)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(41,0x2,0x07103052,2,0,0x1a05,0x6050,0x1,B1,binaryInput06)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(41,0x2,0x07103052,2,0,0x1a06,0x6060,0x1,B1,binaryInput07)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(41,0x2,0x07103052,2,0,0x1a07,0x6070,0x1,B1,binaryInput08)"
# deduce what the prefix should be
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd" "MASTER_ID=0,SLAVE_POS=41,HWTYPE=EL1808"
#==============================================================================
# ecmcmXsXXX.cmd
ecmcEpicsEnvSetCalc("sid", "41","%03d")
ecmcEpicsEnvSetCalc("mid", "0","%01d")
epicsEnvSet("ECMC_G",            "IOC_TEST:m0s041")
epicsEnvSet("ECMC_P",            "IOC_TEST:m0s041-")
epicsEnvUnset(sid)
epicsEnvUnset(mid)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SUBS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applySubstitutions.cmd" "SUBST_FILE=ecmcEL1808.substitutions,ECMC_P=IOC_TEST:m0s041-"
#==============================================================================
# applySubstitutions.cmd
ecmcFileExist(ecmcEL1808.substitutions,1,1)
dbLoadTemplate(ecmcEL1808.substitutions,"ECMC_P=IOC_TEST:m0s041-,ECMC_G=IOC_TEST:m0s041,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=41,HWTYPE=EL1808,T_SMP_MS=10,TSE=-2,NELM=1")
epicsEnvUnset(DEFAULT_SUBS)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SLAVE_PVS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applyTemplate.cmd" "TEMPLATE_FILE=ecmcEcSlave.template,ECMC_P=IOC_TEST:m0s041-,ECMC_G=IOC_TEST:m0s041"
#==============================================================================
# applyTemplate.cmd
ecmcFileExist(ecmcEcSlave.template,1,1)
dbLoadRecords("ecmcEcSlave.template", "ECMC_P=IOC_TEST:m0s041-,ECMC_G=IOC_TEST:m0s041,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=41,HWTYPE=EL1808,T_SMP_MS=10,TSE=-2,")
epicsEnvUnset(DEFAULT_SLAVE_PVS)
# increment SLAVE_ID
ecmcEpicsEnvSetCalc("SLAVE_ID", "41+1","%d")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addSlave.cmd, "HW_DESC=EL1808"
#==============================================================================
# addSlave.cmd
epicsEnvSet("ECMC_EC_SLAVE_NUM",  "42")
epicsEnvSet("HW_DESC",            "EL1808")
epicsEnvSet("P_SCRIPT",           "mXsXXX")
# add ${HW_DESC} to the bus at position ${SLAVE_ID}
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL1808.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL1808.cmd" "NELM=1"
epicsEnvSet("ECMC_EC_HWTYPE"             "EL1808")
epicsEnvSet("ECMC_EC_VENDOR_ID"          "0x2")
epicsEnvSet("ECMC_EC_PRODUCT_ID"         "0x07103052")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/slaveVerify.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_VERIFY, "0==0", "","#- ")
ecmcConfigOrDie "Cfg.EcSlaveVerify(0,42,0x2,0x07103052)"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_RESET, "0>0", "","#- ")
epicsEnvSet(ECMC_EC_SLAVE_FW, "0x0000")
epicsEnvUnset(ECMC_SLAVE_VERIFY)
epicsEnvUnset(ECMC_COMMENT)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEX1008.cmd
ecmcConfigOrDie "Cfg.EcAddEntryDT(42,0x2,0x07103052,2,0,0x1a00,0x6000,0x1,B1,binaryInput01)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(42,0x2,0x07103052,2,0,0x1a01,0x6010,0x1,B1,binaryInput02)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(42,0x2,0x07103052,2,0,0x1a02,0x6020,0x1,B1,binaryInput03)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(42,0x2,0x07103052,2,0,0x1a03,0x6030,0x1,B1,binaryInput04)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(42,0x2,0x07103052,2,0,0x1a04,0x6040,0x1,B1,binaryInput05)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(42,0x2,0x07103052,2,0,0x1a05,0x6050,0x1,B1,binaryInput06)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(42,0x2,0x07103052,2,0,0x1a06,0x6060,0x1,B1,binaryInput07)"
ecmc2022/05/13 08:36:35.590 OK
2022/05/13 08:36:35.595 OK
2022/05/13 08:36:35.596 OK
2022/05/13 08:36:35.596 OK
2022/05/13 08:36:35.596 OK
2022/05/13 08:36:35.596 OK
2022/05/13 08:36:35.596 OK
2022/05/13 08:36:35.596 OK
2022/05/13 08:36:35.596 OK
2022/05/13 08:36:35.596 OK
ConfigOrDie "Cfg.EcAddEntryDT(42,0x2,0x07103052,2,0,0x1a07,0x6070,0x1,B1,binaryInput08)"
# deduce what the prefix should be
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd" "MASTER_ID=0,SLAVE_POS=42,HWTYPE=EL1808"
#==============================================================================
# ecmcmXsXXX.cmd
ecmcEpicsEnvSetCalc("sid", "42","%03d")
ecmcEpicsEnvSetCalc("mid", "0","%01d")
epicsEnvSet("ECMC_G",            "IOC_TEST:m0s042")
epicsEnvSet("ECMC_P",            "IOC_TEST:m0s042-")
epicsEnvUnset(sid)
epicsEnvUnset(mid)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SUBS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applySubstitutions.cmd" "SUBST_FILE=ecmcEL1808.substitutions,ECMC_P=IOC_TEST:m0s042-"
#==============================================================================
# applySubstitutions.cmd
ecmcFileExist(ecmcEL1808.substitutions,1,1)
dbLoadTemplate(ecmcEL1808.substitutions,"ECMC_P=IOC_TEST:m0s042-,ECMC_G=IOC_TEST:m0s042,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=42,HWTYPE=EL1808,T_SMP_MS=10,TSE=-2,NELM=1")
epicsEnvUnset(DEFAULT_SUBS)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SLAVE_PVS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applyTemplate.cmd" "TEMPLATE_FILE=ecmcEcSlave.template,ECMC_P=IOC_TEST:m0s042-,ECMC_G=IOC_TEST:m0s042"
#==============================================================================
# applyTemplate.cmd
ecmcFileExist(ecmcEcSlave.template,1,1)
dbLoadRecords("ecmcEcSlave.template", "ECMC_P=IOC_TEST:m0s042-,ECMC_G=IOC_TEST:m0s042,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=42,HWTYPE=EL1808,T_SMP_MS=10,TSE=-2,")
epicsEnvUnset(DEFAULT_SLAVE_PVS)
# increment SLAVE_ID
ecmcEpicsEnvSetCalc("SLAVE_ID", "42+1","%d")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addSlave.cmd, "HW_DESC=EL1808"
#==============================================================================
# addSlave.cmd
epicsEnvSet("ECMC_EC_SLAVE_NUM",  "43")
epicsEnvSet("HW_DESC",            "EL1808")
epicsEnvSet("P_SCRIPT",           "mXsXXX")
# add ${HW_DESC} to the bus at position ${SLAVE_ID}
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL1808.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL1808.cmd" "NELM=1"
epicsEnvSet("ECMC_EC_HWTYPE"             "EL1808")
epicsEnvSet("ECMC_EC_VENDOR_ID"          "0x2")
epicsEnvSet("ECMC_EC_PRODUCT_ID"         "0x07103052")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/slaveVerify.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_VERIFY, "0==0", "","#- ")
ecmcConfigOrDie "Cfg.EcSlaveVerify(0,43,0x2,0x07103052)"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_RESET, "0>0", "","#- ")
epicsEnvSet(ECMC_EC_SLAVE_FW, "0x0000")
epicsEnvUnset(ECMC_SLAVE_VERIFY)
epicsEnvUnset(ECMC_COMMENT)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEX1008.cmd
ecmcConfigOrDie "Cfg.EcAddEntryDT(43,0x2,0x07103052,2,0,0x1a00,0x6000,0x1,B1,binaryInput01)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(43,0x2,0x07103052,2,0,0x1a01,0x6010,0x1,B1,binaryInput02)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(43,0x2,0x07103052,2,0,0x1a02,0x6020,0x1,B1,binaryInput03)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(43,0x2,0x07103052,2,0,0x1a03,0x6030,0x1,B1,binaryInput04)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(43,0x2,0x07103052,2,0,0x1a04,0x6040,0x1,B1,binaryInput05)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(43,0x2,0x07103052,2,0,0x1a05,0x6050,0x1,B1,binaryInput06)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(43,0x2,0x07103052,2,0,0x1a06,0x6060,0x1,B1,binaryInput07)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(43,0x2,0x07103052,2,0,0x1a07,0x6070,0x1,B1,binaryInput08)"
# deduce what the prefix should be
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd" "MASTER_ID=0,SLAVE_POS=43,HWTYPE=EL1808"
#=======================================================2022/05/13 08:36:35.602 OK
2022/05/13 08:36:35.603 OK
2022/05/13 08:36:35.603 OK
2022/05/13 08:36:35.603 OK
2022/05/13 08:36:35.603 OK
2022/05/13 08:36:35.603 OK
2022/05/13 08:36:35.603 OK
2022/05/13 08:36:35.604 OK
2022/05/13 08:36:35.604 OK
=======================
# ecmcmXsXXX.cmd
ecmcEpicsEnvSetCalc("sid", "43","%03d")
ecmcEpicsEnvSetCalc("mid", "0","%01d")
epicsEnvSet("ECMC_G",            "IOC_TEST:m0s043")
epicsEnvSet("ECMC_P",            "IOC_TEST:m0s043-")
epicsEnvUnset(sid)
epicsEnvUnset(mid)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SUBS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applySubstitutions.cmd" "SUBST_FILE=ecmcEL1808.substitutions,ECMC_P=IOC_TEST:m0s043-"
#==============================================================================
# applySubstitutions.cmd
ecmcFileExist(ecmcEL1808.substitutions,1,1)
dbLoadTemplate(ecmcEL1808.substitutions,"ECMC_P=IOC_TEST:m0s043-,ECMC_G=IOC_TEST:m0s043,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=43,HWTYPE=EL1808,T_SMP_MS=10,TSE=-2,NELM=1")
epicsEnvUnset(DEFAULT_SUBS)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SLAVE_PVS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applyTemplate.cmd" "TEMPLATE_FILE=ecmcEcSlave.template,ECMC_P=IOC_TEST:m0s043-,ECMC_G=IOC_TEST:m0s043"
#==============================================================================
# applyTemplate.cmd
ecmcFileExist(ecmcEcSlave.template,1,1)
dbLoadRecords("ecmcEcSlave.template", "ECMC_P=IOC_TEST:m0s043-,ECMC_G=IOC_TEST:m0s043,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=43,HWTYPE=EL1808,T_SMP_MS=10,TSE=-2,")
epicsEnvUnset(DEFAULT_SLAVE_PVS)
# increment SLAVE_ID
ecmcEpicsEnvSetCalc("SLAVE_ID", "43+1","%d")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addSlave.cmd, "HW_DESC=EL1808"
#==============================================================================
# addSlave.cmd
epicsEnvSet("ECMC_EC_SLAVE_NUM",  "44")
epicsEnvSet("HW_DESC",            "EL1808")
epicsEnvSet("P_SCRIPT",           "mXsXXX")
# add ${HW_DESC} to the bus at position ${SLAVE_ID}
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL1808.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL1808.cmd" "NELM=1"
epicsEnvSet("ECMC_EC_HWTYPE"             "EL1808")
epicsEnvSet("ECMC_EC_VENDOR_ID"          "0x2")
epicsEnvSet("ECMC_EC_PRODUCT_ID"         "0x07103052")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/slaveVerify.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_VERIFY, "0==0", "","#- ")
ecmcConfigOrDie "Cfg.EcSlaveVerify(0,44,0x2,0x07103052)"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_RESET, "0>0", "","#- ")
epicsEnvSet(ECMC_EC_SLAVE_FW, "0x0000")
epicsEnvUnset(ECMC_SLAVE_VERIFY)
epicsEnvUnset(ECMC_COMMENT)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEX1008.cmd
ecmcConfigOrDie "Cfg.EcAddEntryDT(44,0x2,0x07103052,2,0,0x1a00,0x6000,0x1,B1,binaryInput01)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(44,0x2,0x07103052,2,0,0x1a01,0x6010,0x1,B1,binaryInput02)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(44,0x2,0x07103052,2,0,0x1a02,0x6020,0x1,B1,binaryInput03)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(44,0x2,0x07103052,2,0,0x1a03,0x6030,0x1,B1,binaryInput04)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(44,0x2,0x07103052,2,0,0x1a04,0x6040,0x1,B1,binaryInput05)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(44,0x2,0x07103052,2,0,0x1a05,0x6050,0x1,B1,binaryInput06)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(44,0x2,0x07103052,2,0,0x1a06,0x6060,0x1,B1,binaryInput07)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(44,0x2,0x07103052,2,0,0x1a07,0x6070,0x1,B1,binaryInput08)"
# deduce what the prefix should be
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd" "MASTER_ID=0,SLAVE_POS=44,HWTYPE=EL1808"
#==============================================================================
# ecmcmXsXXX.cmd
ecmcEpicsEnvSetCalc("sid", "44","%03d")
ecmcEpicsEnvSetCalc("mid", "0","%01d")
epicsEnvSet("ECMC_G",            "IOC_TEST:m0s044")
epicsEnvSet("ECMC_P",            "IOC_TEST:m0s044-")
epicsEnvUnset(sid)
epicsEnvUnset(mid)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SUBS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applyS2022/05/13 08:36:35.609 OK
2022/05/13 08:36:35.610 OK
2022/05/13 08:36:35.610 OK
2022/05/13 08:36:35.611 OK
2022/05/13 08:36:35.611 OK
2022/05/13 08:36:35.611 OK
2022/05/13 08:36:35.611 OK
2022/05/13 08:36:35.611 OK
2022/05/13 08:36:35.611 OK
ubstitutions.cmd" "SUBST_FILE=ecmcEL1808.substitutions,ECMC_P=IOC_TEST:m0s044-"
#==============================================================================
# applySubstitutions.cmd
ecmcFileExist(ecmcEL1808.substitutions,1,1)
dbLoadTemplate(ecmcEL1808.substitutions,"ECMC_P=IOC_TEST:m0s044-,ECMC_G=IOC_TEST:m0s044,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=44,HWTYPE=EL1808,T_SMP_MS=10,TSE=-2,NELM=1")
epicsEnvUnset(DEFAULT_SUBS)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SLAVE_PVS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applyTemplate.cmd" "TEMPLATE_FILE=ecmcEcSlave.template,ECMC_P=IOC_TEST:m0s044-,ECMC_G=IOC_TEST:m0s044"
#==============================================================================
# applyTemplate.cmd
ecmcFileExist(ecmcEcSlave.template,1,1)
dbLoadRecords("ecmcEcSlave.template", "ECMC_P=IOC_TEST:m0s044-,ECMC_G=IOC_TEST:m0s044,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=44,HWTYPE=EL1808,T_SMP_MS=10,TSE=-2,")
epicsEnvUnset(DEFAULT_SLAVE_PVS)
# increment SLAVE_ID
ecmcEpicsEnvSetCalc("SLAVE_ID", "44+1","%d")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addSlave.cmd, "HW_DESC=EL1808"
#==============================================================================
# addSlave.cmd
epicsEnvSet("ECMC_EC_SLAVE_NUM",  "45")
epicsEnvSet("HW_DESC",            "EL1808")
epicsEnvSet("P_SCRIPT",           "mXsXXX")
# add ${HW_DESC} to the bus at position ${SLAVE_ID}
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL1808.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL1808.cmd" "NELM=1"
epicsEnvSet("ECMC_EC_HWTYPE"             "EL1808")
epicsEnvSet("ECMC_EC_VENDOR_ID"          "0x2")
epicsEnvSet("ECMC_EC_PRODUCT_ID"         "0x07103052")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/slaveVerify.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_VERIFY, "0==0", "","#- ")
ecmcConfigOrDie "Cfg.EcSlaveVerify(0,45,0x2,0x07103052)"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_RESET, "0>0", "","#- ")
epicsEnvSet(ECMC_EC_SLAVE_FW, "0x0000")
epicsEnvUnset(ECMC_SLAVE_VERIFY)
epicsEnvUnset(ECMC_COMMENT)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEX1008.cmd
ecmcConfigOrDie "Cfg.EcAddEntryDT(45,0x2,0x07103052,2,0,0x1a00,0x6000,0x1,B1,binaryInput01)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(45,0x2,0x07103052,2,0,0x1a01,0x6010,0x1,B1,binaryInput02)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(45,0x2,0x07103052,2,0,0x1a02,0x6020,0x1,B1,binaryInput03)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(45,0x2,0x07103052,2,0,0x1a03,0x6030,0x1,B1,binaryInput04)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(45,0x2,0x07103052,2,0,0x1a04,0x6040,0x1,B1,binaryInput05)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(45,0x2,0x07103052,2,0,0x1a05,0x6050,0x1,B1,binaryInput06)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(45,0x2,0x07103052,2,0,0x1a06,0x6060,0x1,B1,binaryInput07)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(45,0x2,0x07103052,2,0,0x1a07,0x6070,0x1,B1,binaryInput08)"
# deduce what the prefix should be
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd" "MASTER_ID=0,SLAVE_POS=45,HWTYPE=EL1808"
#==============================================================================
# ecmcmXsXXX.cmd
ecmcEpicsEnvSetCalc("sid", "45","%03d")
ecmcEpicsEnvSetCalc("mid", "0","%01d")
epicsEnvSet("ECMC_G",            "IOC_TEST:m0s045")
epicsEnvSet("ECMC_P",            "IOC_TEST:m0s045-")
epicsEnvUnset(sid)
epicsEnvUnset(mid)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SUBS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applySubstitutions.cmd" "SUBST_FILE=ecmcEL1808.substitutions,ECMC_P=IOC_TEST:m0s045-"
#==============================================================================
# applySubstitutions.cmd
ecmcFileExist(ecmcEL1808.substitutions,1,1)
dbLoadTemplate(ecmcEL1808.substitutions,"ECMC_P=IOC_TEST:m0s045-,ECMC_G=IOC_TEST:m0s045,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=45,HWTYPE=EL1808,T_SMP_MS=12022/05/13 08:36:35.617 OK
2022/05/13 08:36:35.618 OK
2022/05/13 08:36:35.618 OK
2022/05/13 08:36:35.618 OK
2022/05/13 08:36:35.619 OK
2022/05/13 08:36:35.619 OK
2022/05/13 08:36:35.619 OK
2022/05/13 08:36:35.619 OK
2022/05/13 08:36:35.619 OK
0,TSE=-2,NELM=1")
epicsEnvUnset(DEFAULT_SUBS)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SLAVE_PVS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applyTemplate.cmd" "TEMPLATE_FILE=ecmcEcSlave.template,ECMC_P=IOC_TEST:m0s045-,ECMC_G=IOC_TEST:m0s045"
#==============================================================================
# applyTemplate.cmd
ecmcFileExist(ecmcEcSlave.template,1,1)
dbLoadRecords("ecmcEcSlave.template", "ECMC_P=IOC_TEST:m0s045-,ECMC_G=IOC_TEST:m0s045,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=45,HWTYPE=EL1808,T_SMP_MS=10,TSE=-2,")
epicsEnvUnset(DEFAULT_SLAVE_PVS)
# increment SLAVE_ID
ecmcEpicsEnvSetCalc("SLAVE_ID", "45+1","%d")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addSlave.cmd, "HW_DESC=EL1808"
#==============================================================================
# addSlave.cmd
epicsEnvSet("ECMC_EC_SLAVE_NUM",  "46")
epicsEnvSet("HW_DESC",            "EL1808")
epicsEnvSet("P_SCRIPT",           "mXsXXX")
# add ${HW_DESC} to the bus at position ${SLAVE_ID}
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL1808.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL1808.cmd" "NELM=1"
epicsEnvSet("ECMC_EC_HWTYPE"             "EL1808")
epicsEnvSet("ECMC_EC_VENDOR_ID"          "0x2")
epicsEnvSet("ECMC_EC_PRODUCT_ID"         "0x07103052")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/slaveVerify.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_VERIFY, "0==0", "","#- ")
ecmcConfigOrDie "Cfg.EcSlaveVerify(0,46,0x2,0x07103052)"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_RESET, "0>0", "","#- ")
epicsEnvSet(ECMC_EC_SLAVE_FW, "0x0000")
epicsEnvUnset(ECMC_SLAVE_VERIFY)
epicsEnvUnset(ECMC_COMMENT)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEX1008.cmd
ecmcConfigOrDie "Cfg.EcAddEntryDT(46,0x2,0x07103052,2,0,0x1a00,0x6000,0x1,B1,binaryInput01)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(46,0x2,0x07103052,2,0,0x1a01,0x6010,0x1,B1,binaryInput02)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(46,0x2,0x07103052,2,0,0x1a02,0x6020,0x1,B1,binaryInput03)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(46,0x2,0x07103052,2,0,0x1a03,0x6030,0x1,B1,binaryInput04)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(46,0x2,0x07103052,2,0,0x1a04,0x6040,0x1,B1,binaryInput05)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(46,0x2,0x07103052,2,0,0x1a05,0x6050,0x1,B1,binaryInput06)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(46,0x2,0x07103052,2,0,0x1a06,0x6060,0x1,B1,binaryInput07)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(46,0x2,0x07103052,2,0,0x1a07,0x6070,0x1,B1,binaryInput08)"
# deduce what the prefix should be
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd" "MASTER_ID=0,SLAVE_POS=46,HWTYPE=EL1808"
#==============================================================================
# ecmcmXsXXX.cmd
ecmcEpicsEnvSetCalc("sid", "46","%03d")
ecmcEpicsEnvSetCalc("mid", "0","%01d")
epicsEnvSet("ECMC_G",            "IOC_TEST:m0s046")
epicsEnvSet("ECMC_P",            "IOC_TEST:m0s046-")
epicsEnvUnset(sid)
epicsEnvUnset(mid)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SUBS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applySubstitutions.cmd" "SUBST_FILE=ecmcEL1808.substitutions,ECMC_P=IOC_TEST:m0s046-"
#==============================================================================
# applySubstitutions.cmd
ecmcFileExist(ecmcEL1808.substitutions,1,1)
dbLoadTemplate(ecmcEL1808.substitutions,"ECMC_P=IOC_TEST:m0s046-,ECMC_G=IOC_TEST:m0s046,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=46,HWTYPE=EL1808,T_SMP_MS=10,TSE=-2,NELM=1")
epicsEnvUnset(DEFAULT_SUBS)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SLAVE_PVS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applyTemplate.cmd" "TEMPLATE_FILE=ecmcEcSlave.template,ECMC_P=IOC_TEST:m0s046-,ECMC_G=IOC_TEST:m0s046"
#==============================================================================
# applyTemplate.cmd
ecmcFileExist(e2022/05/13 08:36:35.625 OK
2022/05/13 08:36:35.626 OK
2022/05/13 08:36:35.626 OK
2022/05/13 08:36:35.626 OK
2022/05/13 08:36:35.626 OK
2022/05/13 08:36:35.626 OK
2022/05/13 08:36:35.627 OK
2022/05/13 08:36:35.627 OK
2022/05/13 08:36:35.627 OK
cmcEcSlave.template,1,1)
dbLoadRecords("ecmcEcSlave.template", "ECMC_P=IOC_TEST:m0s046-,ECMC_G=IOC_TEST:m0s046,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=46,HWTYPE=EL1808,T_SMP_MS=10,TSE=-2,")
epicsEnvUnset(DEFAULT_SLAVE_PVS)
# increment SLAVE_ID
ecmcEpicsEnvSetCalc("SLAVE_ID", "46+1","%d")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addSlave.cmd, "HW_DESC=EL1808"
#==============================================================================
# addSlave.cmd
epicsEnvSet("ECMC_EC_SLAVE_NUM",  "47")
epicsEnvSet("HW_DESC",            "EL1808")
epicsEnvSet("P_SCRIPT",           "mXsXXX")
# add ${HW_DESC} to the bus at position ${SLAVE_ID}
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL1808.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL1808.cmd" "NELM=1"
epicsEnvSet("ECMC_EC_HWTYPE"             "EL1808")
epicsEnvSet("ECMC_EC_VENDOR_ID"          "0x2")
epicsEnvSet("ECMC_EC_PRODUCT_ID"         "0x07103052")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/slaveVerify.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_VERIFY, "0==0", "","#- ")
ecmcConfigOrDie "Cfg.EcSlaveVerify(0,47,0x2,0x07103052)"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_RESET, "0>0", "","#- ")
epicsEnvSet(ECMC_EC_SLAVE_FW, "0x0000")
epicsEnvUnset(ECMC_SLAVE_VERIFY)
epicsEnvUnset(ECMC_COMMENT)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEX1008.cmd
ecmcConfigOrDie "Cfg.EcAddEntryDT(47,0x2,0x07103052,2,0,0x1a00,0x6000,0x1,B1,binaryInput01)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(47,0x2,0x07103052,2,0,0x1a01,0x6010,0x1,B1,binaryInput02)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(47,0x2,0x07103052,2,0,0x1a02,0x6020,0x1,B1,binaryInput03)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(47,0x2,0x07103052,2,0,0x1a03,0x6030,0x1,B1,binaryInput04)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(47,0x2,0x07103052,2,0,0x1a04,0x6040,0x1,B1,binaryInput05)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(47,0x2,0x07103052,2,0,0x1a05,0x6050,0x1,B1,binaryInput06)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(47,0x2,0x07103052,2,0,0x1a06,0x6060,0x1,B1,binaryInput07)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(47,0x2,0x07103052,2,0,0x1a07,0x6070,0x1,B1,binaryInput08)"
# deduce what the prefix should be
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd" "MASTER_ID=0,SLAVE_POS=47,HWTYPE=EL1808"
#==============================================================================
# ecmcmXsXXX.cmd
ecmcEpicsEnvSetCalc("sid", "47","%03d")
ecmcEpicsEnvSetCalc("mid", "0","%01d")
epicsEnvSet("ECMC_G",            "IOC_TEST:m0s047")
epicsEnvSet("ECMC_P",            "IOC_TEST:m0s047-")
epicsEnvUnset(sid)
epicsEnvUnset(mid)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SUBS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applySubstitutions.cmd" "SUBST_FILE=ecmcEL1808.substitutions,ECMC_P=IOC_TEST:m0s047-"
#==============================================================================
# applySubstitutions.cmd
ecmcFileExist(ecmcEL1808.substitutions,1,1)
dbLoadTemplate(ecmcEL1808.substitutions,"ECMC_P=IOC_TEST:m0s047-,ECMC_G=IOC_TEST:m0s047,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=47,HWTYPE=EL1808,T_SMP_MS=10,TSE=-2,NELM=1")
epicsEnvUnset(DEFAULT_SUBS)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SLAVE_PVS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applyTemplate.cmd" "TEMPLATE_FILE=ecmcEcSlave.template,ECMC_P=IOC_TEST:m0s047-,ECMC_G=IOC_TEST:m0s047"
#==============================================================================
# applyTemplate.cmd
ecmcFileExist(ecmcEcSlave.template,1,1)
dbLoadRecords("ecmcEcSlave.template", "ECMC_P=IOC_TEST:m0s047-,ECMC_G=IOC_TEST:m0s047,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=47,HWTYPE=EL1808,T_SMP_MS=10,TSE=-2,")
epicsEnvUnset(DEFAULT_SLAVE_PVS)
# increment SLAVE_ID
ecmcEpicsEnvSetCalc("SLAVE_ID", "47+1","%d")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addSlave.cmd, "HW_DESC=EK1102022/05/13 08:36:35.633 OK
2022/05/13 08:36:35.633 OK
2022/05/13 08:36:35.638 OK
2022/05/13 08:36:35.683 OK
2022/05/13 08:36:35.691 13872
0"
#==============================================================================
# addSlave.cmd
epicsEnvSet("ECMC_EC_SLAVE_NUM",  "48")
epicsEnvSet("HW_DESC",            "EK1100")
epicsEnvSet("P_SCRIPT",           "mXsXXX")
# add ${HW_DESC} to the bus at position ${SLAVE_ID}
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEK1100.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEK1100.cmd" "NELM=1"
epicsEnvSet("ECMC_EC_HWTYPE"             "EK1100")
epicsEnvSet("ECMC_EC_VENDOR_ID"          "0x2")
epicsEnvSet("ECMC_EC_PRODUCT_ID"         "0x044c2c52")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/slaveVerify.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_VERIFY, "0==0", "","#- ")
ecmcConfigOrDie "Cfg.EcSlaveVerify(0,48,0x2,0x044c2c52)"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_RESET, "0>0", "","#- ")
epicsEnvSet(ECMC_EC_SLAVE_FW, "0x0000")
epicsEnvUnset(ECMC_SLAVE_VERIFY)
epicsEnvUnset(ECMC_COMMENT)
ecmcConfigOrDie "Cfg.EcAddSlave(0,48,0x2,0x044c2c52)"
# deduce what the prefix should be
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd" "MASTER_ID=0,SLAVE_POS=48,HWTYPE=EK1100"
#==============================================================================
# ecmcmXsXXX.cmd
ecmcEpicsEnvSetCalc("sid", "48","%03d")
ecmcEpicsEnvSetCalc("mid", "0","%01d")
epicsEnvSet("ECMC_G",            "IOC_TEST:m0s048")
epicsEnvSet("ECMC_P",            "IOC_TEST:m0s048-")
epicsEnvUnset(sid)
epicsEnvUnset(mid)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SUBS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applySubstitutions.cmd" "SUBST_FILE=ecmcEK1100.substitutions,ECMC_P=IOC_TEST:m0s048-"
#==============================================================================
# applySubstitutions.cmd
ecmcFileExist(ecmcEK1100.substitutions,1,1)
dbLoadTemplate(ecmcEK1100.substitutions,"ECMC_P=IOC_TEST:m0s048-,ECMC_G=IOC_TEST:m0s048,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=48,HWTYPE=EK1100,T_SMP_MS=10,TSE=-2,NELM=1")
epicsEnvUnset(DEFAULT_SUBS)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SLAVE_PVS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applyTemplate.cmd" "TEMPLATE_FILE=ecmcEcSlave.template,ECMC_P=IOC_TEST:m0s048-,ECMC_G=IOC_TEST:m0s048"
#==============================================================================
# applyTemplate.cmd
ecmcFileExist(ecmcEcSlave.template,1,1)
dbLoadRecords("ecmcEcSlave.template", "ECMC_P=IOC_TEST:m0s048-,ECMC_G=IOC_TEST:m0s048,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=48,HWTYPE=EK1100,T_SMP_MS=10,TSE=-2,")
epicsEnvUnset(DEFAULT_SLAVE_PVS)
# increment SLAVE_ID
ecmcEpicsEnvSetCalc("SLAVE_ID", "48+1","%d")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addSlave.cmd, "HW_DESC=EL7041-1000"
#==============================================================================
# addSlave.cmd
epicsEnvSet("ECMC_EC_SLAVE_NUM",  "49")
epicsEnvSet("HW_DESC",            "EL7041-1000")
epicsEnvSet("P_SCRIPT",           "mXsXXX")
# add ${HW_DESC} to the bus at position ${SLAVE_ID}
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL7041-1000.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL7041-1000.cmd" "NELM=1"
epicsEnvSet("ECMC_EC_HWTYPE"             "EL7041-1000")
epicsEnvSet("ECMC_EC_VENDOR_ID"          "0x2")
epicsEnvSet("ECMC_EC_PRODUCT_ID"         "0x1b813052")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/slaveVerify.cmd "RESET=true"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_VERIFY, "0==0", "","#- ")
ecmcConfigOrDie "Cfg.EcSlaveVerify(0,49,0x2,0x1b813052)"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_RESET, "true>0", "","#- ")
ecmcConfigOrDie "Cfg.EcWriteSdo(49,0x1011,0x1,1684107116,4)"
epicsEnvSet(ECMC_EC_SLAVE_FW, "0x0000")
ecmcConfig "EcReadSdo(49,0x100a,0x0,2)"
ecmcEpicsEnvSetCalc("ECMC_EC_SLAVE_FW", "13872", "0x%04x")
# Firmware version: 0x3630
epicsEnvUnset(ECMC2022/05/13 08:36:35.693 OK
2022/05/13 08:36:35.693 OK
2022/05/13 08:36:35.693 OK
2022/05/13 08:36:35.693 OK
2022/05/13 08:36:35.693 OK
2022/05/13 08:36:35.693 OK
2022/05/13 08:36:35.693 OK
2022/05/13 08:36:35.693 OK
2022/05/13 08:36:35.693 OK
2022/05/13 08:36:35.693 OK
2022/05/13 08:36:35.699 OK
2022/05/13 08:36:35.753 OK
2022/05/13 08:36:35.761 12337
_SLAVE_VERIFY)
epicsEnvUnset(ECMC_COMMENT)
ecmcConfigOrDie "Cfg.EcAddEntryComplete(49,0x2,0x1b813052,1,2,0x1600,0x7000,0x01,16,encoderControl01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(49,0x2,0x1b813052,1,2,0x1600,0x7000,0x11,16,encoderValue01"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(49,0x2,0x1b813052,1,2,0x1602,0x7010,0x1,16,driveControl01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(49,0x2,0x1b813052,1,2,0x1604,0x7010,0x21,16,1,velocitySetpoint01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(49,0x2,0x1b813052,2,3,0x1a00,0x6000,0x0,16,encoderStatus01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(49,0x2,0x1b813052,2,3,0x1a00,0x6000,0x11,16,positionActual01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(49,0x2,0x1b813052,2,3,0x1a00,0x6000,0x12,16,encoderLatchPostion01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(49,0x2,0x1b813052,2,3,0x1a03,0x6010,0x1,16,driveStatus01)"
ecmcConfigOrDie "Cfg.EcAddSdo(49,0x8012,0x9,0,1)"
ecmcConfigOrDie "Cfg.EcAddSdo(49,0x8012,0x45,6,1)"
# deduce what the prefix should be
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd" "MASTER_ID=0,SLAVE_POS=49,HWTYPE=EL7041-1000"
#==============================================================================
# ecmcmXsXXX.cmd
ecmcEpicsEnvSetCalc("sid", "49","%03d")
ecmcEpicsEnvSetCalc("mid", "0","%01d")
epicsEnvSet("ECMC_G",            "IOC_TEST:m0s049")
epicsEnvSet("ECMC_P",            "IOC_TEST:m0s049-")
epicsEnvUnset(sid)
epicsEnvUnset(mid)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SUBS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applySubstitutions.cmd" "SUBST_FILE=ecmcEL7041-1000.substitutions,ECMC_P=IOC_TEST:m0s049-"
#==============================================================================
# applySubstitutions.cmd
ecmcFileExist(ecmcEL7041-1000.substitutions,1,1)
dbLoadTemplate(ecmcEL7041-1000.substitutions,"ECMC_P=IOC_TEST:m0s049-,ECMC_G=IOC_TEST:m0s049,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=49,HWTYPE=EL7041-1000,T_SMP_MS=10,TSE=-2,NELM=1")
epicsEnvUnset(DEFAULT_SUBS)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SLAVE_PVS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applyTemplate.cmd" "TEMPLATE_FILE=ecmcEcSlave.template,ECMC_P=IOC_TEST:m0s049-,ECMC_G=IOC_TEST:m0s049"
#==============================================================================
# applyTemplate.cmd
ecmcFileExist(ecmcEcSlave.template,1,1)
dbLoadRecords("ecmcEcSlave.template", "ECMC_P=IOC_TEST:m0s049-,ECMC_G=IOC_TEST:m0s049,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=49,HWTYPE=EL7041-1000,T_SMP_MS=10,TSE=-2,")
epicsEnvUnset(DEFAULT_SLAVE_PVS)
# increment SLAVE_ID
ecmcEpicsEnvSetCalc("SLAVE_ID", "49+1","%d")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addSlave.cmd, "HW_DESC=EL7041"
#==============================================================================
# addSlave.cmd
epicsEnvSet("ECMC_EC_SLAVE_NUM",  "50")
epicsEnvSet("HW_DESC",            "EL7041")
epicsEnvSet("P_SCRIPT",           "mXsXXX")
# add ${HW_DESC} to the bus at position ${SLAVE_ID}
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL7041.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL7041.cmd" "NELM=1"
epicsEnvSet("ECMC_EC_HWTYPE"             "EL7041")
epicsEnvSet("ECMC_EC_VENDOR_ID"          "0x2")
epicsEnvSet("ECMC_EC_PRODUCT_ID"         "0x1b813052")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/slaveVerify.cmd "RESET=true"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_VERIFY, "0==0", "","#- ")
ecmcConfigOrDie "Cfg.EcSlaveVerify(0,50,0x2,0x1b813052)"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_RESET, "true>0", "","#- ")
ecmcConfigOrDie "Cfg.EcWriteSdo(50,0x1011,0x1,1684107116,4)"
epicsEnvSet(ECMC_EC_SLAVE_FW, "0x0000")
ecmcConfig "EcReadSdo(50,0x100a,0x0,2)"
ecmcEpicsEnvSetCalc("ECMC_EC_SLAVE_FW", "12337", "0x%04x")
# Firmware version: 0x3031
epicsEnvUnset(ECMC_SLAVE_VERIFY)
epicsEnvUnset(ECMC_COMMENT)
iocshLoad /epics/base-7.2022/05/13 08:36:35.763 OK
2022/05/13 08:36:35.763 OK
2022/05/13 08:36:35.763 OK
2022/05/13 08:36:35.763 OK
2022/05/13 08:36:35.763 OK
2022/05/13 08:36:35.763 OK
2022/05/13 08:36:35.763 OK
2022/05/13 08:36:35.763 OK
2022/05/13 08:36:35.763 OK
2022/05/13 08:36:35.763 OK
2022/05/13 08:36:35.769 OK
2022/05/13 08:36:35.841 OK
Failed to execute SDO upload: Value too large for defined data type
2022/05/13 08:36:35.849 ../devEcmcSup/ethercat/ecmcEcSDO.cpp/read:311: ERROR: SDO object 0x100a:0 at slave position 51: Read failed with sdo error code -75, abort code 0x0 (0x23001).
2022/05/13 08:36:35.849 0
0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEX70XX.cmd
ecmcConfigOrDie "Cfg.EcAddEntryComplete(50,0x2,0x1b813052,1,2,0x1600,0x7000,0x01,16,encoderControl01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(50,0x2,0x1b813052,1,2,0x1600,0x7000,0x11,16,encoderValue01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(50,0x2,0x1b813052,1,2,0x1602,0x7010,0x1,16,driveControl01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(50,0x2,0x1b813052,1,2,0x1604,0x7010,0x21,16,1,velocitySetpoint01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(50,0x2,0x1b813052,2,3,0x1a00,0x6000,0x0,16,encoderStatus01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(50,0x2,0x1b813052,2,3,0x1a00,0x6000,0x11,16,positionActual01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(50,0x2,0x1b813052,2,3,0x1a00,0x6000,0x12,16,encoderLatchPostion01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(50,0x2,0x1b813052,2,3,0x1a03,0x6010,0x1,16,driveStatus01)"
ecmcConfigOrDie "Cfg.EcAddSdo(50,0x8012,0x5,1,1)"
ecmcConfigOrDie "Cfg.EcAddSdo(50,0x8012,0x9,0,1)"
# deduce what the prefix should be
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd" "MASTER_ID=0,SLAVE_POS=50,HWTYPE=EL7041"
#==============================================================================
# ecmcmXsXXX.cmd
ecmcEpicsEnvSetCalc("sid", "50","%03d")
ecmcEpicsEnvSetCalc("mid", "0","%01d")
epicsEnvSet("ECMC_G",            "IOC_TEST:m0s050")
epicsEnvSet("ECMC_P",            "IOC_TEST:m0s050-")
epicsEnvUnset(sid)
epicsEnvUnset(mid)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SUBS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applySubstitutions.cmd" "SUBST_FILE=ecmcEL7041.substitutions,ECMC_P=IOC_TEST:m0s050-"
#==============================================================================
# applySubstitutions.cmd
ecmcFileExist(ecmcEL7041.substitutions,1,1)
dbLoadTemplate(ecmcEL7041.substitutions,"ECMC_P=IOC_TEST:m0s050-,ECMC_G=IOC_TEST:m0s050,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=50,HWTYPE=EL7041,T_SMP_MS=10,TSE=-2,NELM=1")
epicsEnvUnset(DEFAULT_SUBS)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SLAVE_PVS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applyTemplate.cmd" "TEMPLATE_FILE=ecmcEcSlave.template,ECMC_P=IOC_TEST:m0s050-,ECMC_G=IOC_TEST:m0s050"
#==============================================================================
# applyTemplate.cmd
ecmcFileExist(ecmcEcSlave.template,1,1)
dbLoadRecords("ecmcEcSlave.template", "ECMC_P=IOC_TEST:m0s050-,ECMC_G=IOC_TEST:m0s050,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=50,HWTYPE=EL7041,T_SMP_MS=10,TSE=-2,")
epicsEnvUnset(DEFAULT_SLAVE_PVS)
# increment SLAVE_ID
ecmcEpicsEnvSetCalc("SLAVE_ID", "50+1","%d")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addSlave.cmd, "HW_DESC=EL7041-0052"
#==============================================================================
# addSlave.cmd
epicsEnvSet("ECMC_EC_SLAVE_NUM",  "51")
epicsEnvSet("HW_DESC",            "EL7041-0052")
epicsEnvSet("P_SCRIPT",           "mXsXXX")
# add ${HW_DESC} to the bus at position ${SLAVE_ID}
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL7041-0052.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL7041-0052.cmd" "NELM=1"
epicsEnvSet("ECMC_EC_HWTYPE"             "EL7041-0052")
epicsEnvSet("ECMC_EC_VENDOR_ID"          "0x2")
epicsEnvSet("ECMC_EC_PRODUCT_ID"         "0x1b813052")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/slaveVerify.cmd "RESET=true"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_VERIFY, "0==0", "","#- ")
ecmcConfigOrDie "Cfg.EcSlaveVerify(0,51,0x2,0x1b813052)"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_RESET, "true>0", "","#- ")
ecmcConfigOrDie "Cfg.EcWriteSdo(51,0x1011,0x1,1684107116,4)"
epicsEnvSet(ECMC_EC_SLAVE_FW, "0x0000")
ecmcConfig "EcReadSdo(51,0x100a,0x0,2)"
ecmcEpicsEnvSetCalc("ECMC_EC_SLAVE_FW", "0", "0x%04x")
# Firmware version: 0x0000
epicsEnvUnset(ECMC_SLAVE_VERIFY)
epicsEnvUnset(ECMC_COMMENT)
ecmcConfigOrDie "C2022/05/13 08:36:35.851 OK
2022/05/13 08:36:35.851 OK
2022/05/13 08:36:35.851 OK
2022/05/13 08:36:35.851 OK
2022/05/13 08:36:35.851 OK
2022/05/13 08:36:35.851 OK
2022/05/13 08:36:35.852 OK
2022/05/13 08:36:35.852 OK
2022/05/13 08:36:35.852 OK
2022/05/13 08:36:35.852 OK
2022/05/13 08:36:35.858 OK
2022/05/13 08:36:35.915 OK
2022/05/13 08:36:35.923 13616
fg.EcAddEntryComplete(51,0x2,0x1b813052,1,2,0x1600,0x7000,0x01,16,encoderControl01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(51,0x2,0x1b813052,1,2,0x1600,0x7000,0x11,16,encoderValue01"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(51,0x2,0x1b813052,1,2,0x1602,0x7010,0x1,16,driveControl01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(51,0x2,0x1b813052,1,2,0x1604,0x7010,0x21,16,1,velocitySetpoint01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(51,0x2,0x1b813052,2,3,0x1a00,0x6000,0x0,16,encoderStatus01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(51,0x2,0x1b813052,2,3,0x1a00,0x6000,0x11,16,positionActual01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(51,0x2,0x1b813052,2,3,0x1a00,0x6000,0x12,16,encoderLatchPostion01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(51,0x2,0x1b813052,2,3,0x1a03,0x6010,0x1,16,driveStatus01)"
ecmcConfigOrDie "Cfg.EcAddSdo(51,0x8012,0x5,1,1)"
ecmcConfigOrDie "Cfg.EcAddSdo(51,0x8012,0x9,0,1)"
# deduce what the prefix should be
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd" "MASTER_ID=0,SLAVE_POS=51,HWTYPE=EL7041-0052"
#==============================================================================
# ecmcmXsXXX.cmd
ecmcEpicsEnvSetCalc("sid", "51","%03d")
ecmcEpicsEnvSetCalc("mid", "0","%01d")
epicsEnvSet("ECMC_G",            "IOC_TEST:m0s051")
epicsEnvSet("ECMC_P",            "IOC_TEST:m0s051-")
epicsEnvUnset(sid)
epicsEnvUnset(mid)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SUBS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applySubstitutions.cmd" "SUBST_FILE=ecmcEL7041-0052.substitutions,ECMC_P=IOC_TEST:m0s051-"
#==============================================================================
# applySubstitutions.cmd
ecmcFileExist(ecmcEL7041-0052.substitutions,1,1)
dbLoadTemplate(ecmcEL7041-0052.substitutions,"ECMC_P=IOC_TEST:m0s051-,ECMC_G=IOC_TEST:m0s051,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=51,HWTYPE=EL7041-0052,T_SMP_MS=10,TSE=-2,NELM=1")
epicsEnvUnset(DEFAULT_SUBS)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SLAVE_PVS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applyTemplate.cmd" "TEMPLATE_FILE=ecmcEcSlave.template,ECMC_P=IOC_TEST:m0s051-,ECMC_G=IOC_TEST:m0s051"
#==============================================================================
# applyTemplate.cmd
ecmcFileExist(ecmcEcSlave.template,1,1)
dbLoadRecords("ecmcEcSlave.template", "ECMC_P=IOC_TEST:m0s051-,ECMC_G=IOC_TEST:m0s051,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=51,HWTYPE=EL7041-0052,T_SMP_MS=10,TSE=-2,")
epicsEnvUnset(DEFAULT_SLAVE_PVS)
# increment SLAVE_ID
ecmcEpicsEnvSetCalc("SLAVE_ID", "51+1","%d")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addSlave.cmd, "HW_DESC=EL7047"
#==============================================================================
# addSlave.cmd
epicsEnvSet("ECMC_EC_SLAVE_NUM",  "52")
epicsEnvSet("HW_DESC",            "EL7047")
epicsEnvSet("P_SCRIPT",           "mXsXXX")
# add ${HW_DESC} to the bus at position ${SLAVE_ID}
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL7047.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL7047.cmd" "NELM=1"
epicsEnvSet("ECMC_EC_HWTYPE"             "EL7047")
epicsEnvSet("ECMC_EC_VENDOR_ID"          "0x2")
epicsEnvSet("ECMC_EC_PRODUCT_ID"         "0x1b873052")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/slaveVerify.cmd "RESET=true"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_VERIFY, "0==0", "","#- ")
ecmcConfigOrDie "Cfg.EcSlaveVerify(0,52,0x2,0x1b873052)"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_RESET, "true>0", "","#- ")
ecmcConfigOrDie "Cfg.EcWriteSdo(52,0x1011,0x1,1684107116,4)"
epicsEnvSet(ECMC_EC_SLAVE_FW, "0x0000")
ecmcConfig "EcReadSdo(52,0x100a,0x0,2)"
ecmcEpicsEnvSetCalc("ECMC_EC_SLAVE_FW", "13616", "0x%04x")
# Firmware version: 0x3530
epicsEnvUnset(ECMC_SLAVE_VERIFY)
epicsEnvUnset(ECMC_COMMENT)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEX70XX.cmd
ecmc2022/05/13 08:36:35.925 OK
2022/05/13 08:36:35.925 OK
2022/05/13 08:36:35.925 OK
2022/05/13 08:36:35.925 OK
2022/05/13 08:36:35.925 OK
2022/05/13 08:36:35.925 OK
2022/05/13 08:36:35.926 OK
2022/05/13 08:36:35.926 OK
2022/05/13 08:36:35.926 OK
2022/05/13 08:36:35.926 OK
2022/05/13 08:36:35.926 OK
2022/05/13 08:36:35.926 OK
2022/05/13 08:36:35.932 OK
2022/05/13 08:36:35.933 OK
2022/05/13 08:36:35.933 OK
ConfigOrDie "Cfg.EcAddEntryComplete(52,0x2,0x1b873052,1,2,0x1600,0x7000,0x01,16,encoderControl01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(52,0x2,0x1b873052,1,2,0x1600,0x7000,0x11,16,encoderValue01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(52,0x2,0x1b873052,1,2,0x1602,0x7010,0x1,16,driveControl01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(52,0x2,0x1b873052,1,2,0x1604,0x7010,0x21,16,1,velocitySetpoint01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(52,0x2,0x1b873052,2,3,0x1a00,0x6000,0x0,16,encoderStatus01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(52,0x2,0x1b873052,2,3,0x1a00,0x6000,0x11,16,positionActual01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(52,0x2,0x1b873052,2,3,0x1a00,0x6000,0x12,16,encoderLatchPostion01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(52,0x2,0x1b873052,2,3,0x1a03,0x6010,0x1,16,driveStatus01)"
ecmcConfigOrDie "Cfg.EcAddSdo(52,0x8012,0x5,1,1)"
ecmcConfigOrDie "Cfg.EcAddSdo(52,0x8012,0xA,1,1)"
ecmcConfigOrDie "Cfg.EcAddSdo(52,0x8012,0x8,1,1)"
ecmcConfigOrDie "Cfg.EcAddSdo(52,0x8012,0x9,0,1)"
# deduce what the prefix should be
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd" "MASTER_ID=0,SLAVE_POS=52,HWTYPE=EL7047"
#==============================================================================
# ecmcmXsXXX.cmd
ecmcEpicsEnvSetCalc("sid", "52","%03d")
ecmcEpicsEnvSetCalc("mid", "0","%01d")
epicsEnvSet("ECMC_G",            "IOC_TEST:m0s052")
epicsEnvSet("ECMC_P",            "IOC_TEST:m0s052-")
epicsEnvUnset(sid)
epicsEnvUnset(mid)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SUBS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applySubstitutions.cmd" "SUBST_FILE=ecmcEL7047.substitutions,ECMC_P=IOC_TEST:m0s052-"
#==============================================================================
# applySubstitutions.cmd
ecmcFileExist(ecmcEL7047.substitutions,1,1)
dbLoadTemplate(ecmcEL7047.substitutions,"ECMC_P=IOC_TEST:m0s052-,ECMC_G=IOC_TEST:m0s052,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=52,HWTYPE=EL7047,T_SMP_MS=10,TSE=-2,NELM=1")
epicsEnvUnset(DEFAULT_SUBS)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SLAVE_PVS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applyTemplate.cmd" "TEMPLATE_FILE=ecmcEcSlave.template,ECMC_P=IOC_TEST:m0s052-,ECMC_G=IOC_TEST:m0s052"
#==============================================================================
# applyTemplate.cmd
ecmcFileExist(ecmcEcSlave.template,1,1)
dbLoadRecords("ecmcEcSlave.template", "ECMC_P=IOC_TEST:m0s052-,ECMC_G=IOC_TEST:m0s052,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=52,HWTYPE=EL7047,T_SMP_MS=10,TSE=-2,")
epicsEnvUnset(DEFAULT_SLAVE_PVS)
# increment SLAVE_ID
ecmcEpicsEnvSetCalc("SLAVE_ID", "52+1","%d")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addSlave.cmd, "HW_DESC=EL9576"
#==============================================================================
# addSlave.cmd
epicsEnvSet("ECMC_EC_SLAVE_NUM",  "53")
epicsEnvSet("HW_DESC",            "EL9576")
epicsEnvSet("P_SCRIPT",           "mXsXXX")
# add ${HW_DESC} to the bus at position ${SLAVE_ID}
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL9576.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL9576.cmd" "NELM=1"
epicsEnvSet("ECMC_EC_HWTYPE"             "EL9576")
epicsEnvSet("ECMC_EC_VENDOR_ID"          "0x2")
epicsEnvSet("ECMC_EC_PRODUCT_ID"         "0x25683052")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/slaveVerify.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_VERIFY, "0==0", "","#- ")
ecmcConfigOrDie "Cfg.EcSlaveVerify(0,53,0x2,0x25683052)"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_RESET, "0>0", "","#- ")
epicsEnvSet(ECMC_EC_SLAVE_FW, "0x0000")
epicsEnvUnset(ECMC_SLAVE_VERIFY)
epicsEnvUnset(ECMC_COMMENT)
ecmcConfigOrDie "Cfg.EcAddEntryComplete(53,0x2,0x25683052,2,3,0x1a00,0x6000,0x1,16,status01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(53,0x2,0x25683052,2,3,0x1a00,0x6000,0x11,32,voltageActual01)"
ecmcConf2022/05/13 08:36:35.933 OK
2022/05/13 08:36:35.934 OK
2022/05/13 08:36:35.939 OK
2022/05/13 08:36:35.985 OK
2022/05/13 08:36:35.993 13104
2022/05/13 08:36:35.994 OK
2022/05/13 08:36:35.994 OK
2022/05/13 08:36:35.994 OK
2022/05/13 08:36:35.995 OK
2022/05/13 08:36:35.996 OK
2022/05/13 08:36:35.996 OK
igOrDie "Cfg.EcAddEntryComplete(53,0x2,0x25683052,2,3,0x1a00,0x6000,0x13,32,currentActualResistor01)"
ecmcConfigOrDie "Cfg.EcAddEntryComplete(53,0x2,0x25683052,2,3,0x1a00,0x6000,0x14,8,dutyCycle01)"
# deduce what the prefix should be
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd" "MASTER_ID=0,SLAVE_POS=53,HWTYPE=EL9576"
#==============================================================================
# ecmcmXsXXX.cmd
ecmcEpicsEnvSetCalc("sid", "53","%03d")
ecmcEpicsEnvSetCalc("mid", "0","%01d")
epicsEnvSet("ECMC_G",            "IOC_TEST:m0s053")
epicsEnvSet("ECMC_P",            "IOC_TEST:m0s053-")
epicsEnvUnset(sid)
epicsEnvUnset(mid)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SUBS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applySubstitutions.cmd" "SUBST_FILE=ecmcEL9576.substitutions,ECMC_P=IOC_TEST:m0s053-"
#==============================================================================
# applySubstitutions.cmd
ecmcFileExist(ecmcEL9576.substitutions,1,1)
dbLoadTemplate(ecmcEL9576.substitutions,"ECMC_P=IOC_TEST:m0s053-,ECMC_G=IOC_TEST:m0s053,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=53,HWTYPE=EL9576,T_SMP_MS=10,TSE=-2,NELM=1")
epicsEnvUnset(DEFAULT_SUBS)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SLAVE_PVS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applyTemplate.cmd" "TEMPLATE_FILE=ecmcEcSlave.template,ECMC_P=IOC_TEST:m0s053-,ECMC_G=IOC_TEST:m0s053"
#==============================================================================
# applyTemplate.cmd
ecmcFileExist(ecmcEcSlave.template,1,1)
dbLoadRecords("ecmcEcSlave.template", "ECMC_P=IOC_TEST:m0s053-,ECMC_G=IOC_TEST:m0s053,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=53,HWTYPE=EL9576,T_SMP_MS=10,TSE=-2,")
epicsEnvUnset(DEFAULT_SLAVE_PVS)
# increment SLAVE_ID
ecmcEpicsEnvSetCalc("SLAVE_ID", "53+1","%d")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addSlave.cmd, "HW_DESC=EL7201"
#==============================================================================
# addSlave.cmd
epicsEnvSet("ECMC_EC_SLAVE_NUM",  "54")
epicsEnvSet("HW_DESC",            "EL7201")
epicsEnvSet("P_SCRIPT",           "mXsXXX")
# add ${HW_DESC} to the bus at position ${SLAVE_ID}
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL7201.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL7201.cmd" "NELM=1"
epicsEnvSet("ECMC_EC_HWTYPE"             "EL7201")
epicsEnvSet("ECMC_EC_VENDOR_ID"          "0x2")
epicsEnvSet("ECMC_EC_PRODUCT_ID"         "0x1c213052")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/slaveVerify.cmd "RESET=true"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_VERIFY, "0==0", "","#- ")
ecmcConfigOrDie "Cfg.EcSlaveVerify(0,54,0x2,0x1c213052)"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_RESET, "true>0", "","#- ")
ecmcConfigOrDie "Cfg.EcWriteSdo(54,0x1011,0x1,1684107116,4)"
epicsEnvSet(ECMC_EC_SLAVE_FW, "0x0000")
ecmcConfig "EcReadSdo(54,0x100a,0x0,2)"
ecmcEpicsEnvSetCalc("ECMC_EC_SLAVE_FW", "13104", "0x%04x")
# Firmware version: 0x3330
epicsEnvUnset(ECMC_SLAVE_VERIFY)
epicsEnvUnset(ECMC_COMMENT)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEX72XX_CSV.cmd
ecmcConfigOrDie "Cfg.EcAddEntryDT(54,0x2,0x1c213052,1,2,0x1600,0x7010,0x01,U16,driveControl01)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(54,0x2,0x1c213052,1,2,0x1601,0x7010,0x06,S32,velocitySetpoint01)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(54,0x2,0x1c213052,2,3,0x1a00,0x6000,0x11,U32,positionActual01)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(54,0x2,0x1c213052,2,3,0x1a01,0x6010,0x01,U16,driveStatus01)"
ecmcEpicsEnvSetCalc("ECMC_TEMP_PERIOD_NANO_SECS",1000/1000*1E6)
ecmcEpicsEnvSetCalc("ECMC_TEMP_PERIOD_NANO_SECS_HALF",1000000/2)
ecmcConfigOrDie "Cfg.EcSlaveConfigDC(54,0x700,1000000,500000,0,0)"
# Peak current (to be overwritten by motor config)
ecmcConfigOrDie "Cfg.EcAddSdo(54,0x8011,0x11,1000,4)"
ecmcEpicsEnvSetCalc("ECMC_TEMP_WHATCHDOG_1",2022/05/13 08:36:35.997 OK
2022/05/13 08:36:35.997 OK
2022/05/13 08:36:35.997 OK
2022/05/13 08:36:35.997 OK
2022/05/13 08:36:35.998 OK
2022/05/13 08:36:36.003 OK
2022/05/13 08:36:36.043 OK
2022/05/13 08:36:36.051 12848
2022/05/13 08:36:36.052 OK
2022/05/13 08:36:36.052 OK
2022/05/13 08:36:36.052 OK
2022/05/13 08:36:36.053 OK
1000/1000*1000)
ecmcEpicsEnvSetCalc("ECMC_TEMP_WHATCHDOG_2",1000*10)
ecmcConfigOrDie "Cfg.EcSlaveConfigWatchDog(54,1000,10000)"
ecmcConfigOrDie "Cfg.EcAddSdo(54,0x1C32,0x1,3,2)"
ecmcConfigOrDie "Cfg.EcAddSdo(54,0x1C32,0x2,1000000,4)"
ecmcConfigOrDie "Cfg.EcAddSdo(54,0x1C33,0x1,3,2)"
ecmcConfigOrDie "Cfg.EcAddSdo(54,0x1C33,0x2,1000000,4)"
epicsEnvUnset(ECMC_TEMP_PERIOD_NANO_SECS)
epicsEnvUnset(ECMC_TEMP_PERIOD_NANO_SECS_HALF)
epicsEnvUnset(ECMC_TEMP_WHATCHDOG_1)
epicsEnvUnset(ECMC_TEMP_WHATCHDOG_2)
# deduce what the prefix should be
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd" "MASTER_ID=0,SLAVE_POS=54,HWTYPE=EL7201"
#==============================================================================
# ecmcmXsXXX.cmd
ecmcEpicsEnvSetCalc("sid", "54","%03d")
ecmcEpicsEnvSetCalc("mid", "0","%01d")
epicsEnvSet("ECMC_G",            "IOC_TEST:m0s054")
epicsEnvSet("ECMC_P",            "IOC_TEST:m0s054-")
epicsEnvUnset(sid)
epicsEnvUnset(mid)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SUBS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applySubstitutions.cmd" "SUBST_FILE=ecmcEL7201.substitutions,ECMC_P=IOC_TEST:m0s054-"
#==============================================================================
# applySubstitutions.cmd
ecmcFileExist(ecmcEL7201.substitutions,1,1)
dbLoadTemplate(ecmcEL7201.substitutions,"ECMC_P=IOC_TEST:m0s054-,ECMC_G=IOC_TEST:m0s054,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=54,HWTYPE=EL7201,T_SMP_MS=10,TSE=-2,NELM=1")
epicsEnvUnset(DEFAULT_SUBS)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SLAVE_PVS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applyTemplate.cmd" "TEMPLATE_FILE=ecmcEcSlave.template,ECMC_P=IOC_TEST:m0s054-,ECMC_G=IOC_TEST:m0s054"
#==============================================================================
# applyTemplate.cmd
ecmcFileExist(ecmcEcSlave.template,1,1)
dbLoadRecords("ecmcEcSlave.template", "ECMC_P=IOC_TEST:m0s054-,ECMC_G=IOC_TEST:m0s054,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=54,HWTYPE=EL7201,T_SMP_MS=10,TSE=-2,")
epicsEnvUnset(DEFAULT_SLAVE_PVS)
# increment SLAVE_ID
ecmcEpicsEnvSetCalc("SLAVE_ID", "54+1","%d")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addSlave.cmd, "HW_DESC=EL7201-0010"
#==============================================================================
# addSlave.cmd
epicsEnvSet("ECMC_EC_SLAVE_NUM",  "55")
epicsEnvSet("HW_DESC",            "EL7201-0010")
epicsEnvSet("P_SCRIPT",           "mXsXXX")
# add ${HW_DESC} to the bus at position ${SLAVE_ID}
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL7201-0010.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL7201-0010.cmd" "NELM=1"
epicsEnvSet("ECMC_EC_HWTYPE"             "EL7201-0010")
epicsEnvSet("ECMC_EC_VENDOR_ID"          "0x2")
epicsEnvSet("ECMC_EC_PRODUCT_ID"         "0x1c213052")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/slaveVerify.cmd "RESET=true"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_VERIFY, "0==0", "","#- ")
ecmcConfigOrDie "Cfg.EcSlaveVerify(0,55,0x2,0x1c213052)"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_RESET, "true>0", "","#- ")
ecmcConfigOrDie "Cfg.EcWriteSdo(55,0x1011,0x1,1684107116,4)"
epicsEnvSet(ECMC_EC_SLAVE_FW, "0x0000")
ecmcConfig "EcReadSdo(55,0x100a,0x0,2)"
ecmcEpicsEnvSetCalc("ECMC_EC_SLAVE_FW", "12848", "0x%04x")
# Firmware version: 0x3230
epicsEnvUnset(ECMC_SLAVE_VERIFY)
epicsEnvUnset(ECMC_COMMENT)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEX72XX_CSV.cmd
ecmcConfigOrDie "Cfg.EcAddEntryDT(55,0x2,0x1c213052,1,2,0x1600,0x7010,0x01,U16,driveControl01)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(55,0x2,0x1c213052,1,2,0x1601,0x7010,0x06,S32,velocitySetpoint01)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(55,0x2,0x1c213052,2,3,0x1a00,0x6000,0x11,U32,positionActual01)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(55,0x2,0x1c213052,2,3,0x1a01,0x6010,0x01,U16,driveStatus01)"
ecmcEpicsEnvSetC2022/05/13 08:36:36.054 OK
2022/05/13 08:36:36.054 OK
2022/05/13 08:36:36.055 OK
2022/05/13 08:36:36.055 OK
2022/05/13 08:36:36.055 OK
2022/05/13 08:36:36.056 OK
2022/05/13 08:36:36.056 OK
2022/05/13 08:36:36.061 OK
2022/05/13 08:36:36.127 OK
2022/05/13 08:36:36.135 13360
alc("ECMC_TEMP_PERIOD_NANO_SECS",1000/1000*1E6)
ecmcEpicsEnvSetCalc("ECMC_TEMP_PERIOD_NANO_SECS_HALF",1000000/2)
ecmcConfigOrDie "Cfg.EcSlaveConfigDC(55,0x700,1000000,500000,0,0)"
# Peak current (to be overwritten by motor config)
ecmcConfigOrDie "Cfg.EcAddSdo(55,0x8011,0x11,1000,4)"
ecmcEpicsEnvSetCalc("ECMC_TEMP_WHATCHDOG_1",1000/1000*1000)
ecmcEpicsEnvSetCalc("ECMC_TEMP_WHATCHDOG_2",1000*10)
ecmcConfigOrDie "Cfg.EcSlaveConfigWatchDog(55,1000,10000)"
ecmcConfigOrDie "Cfg.EcAddSdo(55,0x1C32,0x1,3,2)"
ecmcConfigOrDie "Cfg.EcAddSdo(55,0x1C32,0x2,1000000,4)"
ecmcConfigOrDie "Cfg.EcAddSdo(55,0x1C33,0x1,3,2)"
ecmcConfigOrDie "Cfg.EcAddSdo(55,0x1C33,0x2,1000000,4)"
epicsEnvUnset(ECMC_TEMP_PERIOD_NANO_SECS)
epicsEnvUnset(ECMC_TEMP_PERIOD_NANO_SECS_HALF)
epicsEnvUnset(ECMC_TEMP_WHATCHDOG_1)
epicsEnvUnset(ECMC_TEMP_WHATCHDOG_2)
# deduce what the prefix should be
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd" "MASTER_ID=0,SLAVE_POS=55,HWTYPE=EL7201-0010"
#==============================================================================
# ecmcmXsXXX.cmd
ecmcEpicsEnvSetCalc("sid", "55","%03d")
ecmcEpicsEnvSetCalc("mid", "0","%01d")
epicsEnvSet("ECMC_G",            "IOC_TEST:m0s055")
epicsEnvSet("ECMC_P",            "IOC_TEST:m0s055-")
epicsEnvUnset(sid)
epicsEnvUnset(mid)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SUBS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applySubstitutions.cmd" "SUBST_FILE=ecmcEL7201-0010.substitutions,ECMC_P=IOC_TEST:m0s055-"
#==============================================================================
# applySubstitutions.cmd
ecmcFileExist(ecmcEL7201-0010.substitutions,1,1)
dbLoadTemplate(ecmcEL7201-0010.substitutions,"ECMC_P=IOC_TEST:m0s055-,ECMC_G=IOC_TEST:m0s055,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=55,HWTYPE=EL7201-0010,T_SMP_MS=10,TSE=-2,NELM=1")
epicsEnvUnset(DEFAULT_SUBS)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SLAVE_PVS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applyTemplate.cmd" "TEMPLATE_FILE=ecmcEcSlave.template,ECMC_P=IOC_TEST:m0s055-,ECMC_G=IOC_TEST:m0s055"
#==============================================================================
# applyTemplate.cmd
ecmcFileExist(ecmcEcSlave.template,1,1)
dbLoadRecords("ecmcEcSlave.template", "ECMC_P=IOC_TEST:m0s055-,ECMC_G=IOC_TEST:m0s055,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=55,HWTYPE=EL7201-0010,T_SMP_MS=10,TSE=-2,")
epicsEnvUnset(DEFAULT_SLAVE_PVS)
# increment SLAVE_ID
ecmcEpicsEnvSetCalc("SLAVE_ID", "55+1","%d")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addSlave.cmd, "HW_DESC=EL7211"
#==============================================================================
# addSlave.cmd
epicsEnvSet("ECMC_EC_SLAVE_NUM",  "56")
epicsEnvSet("HW_DESC",            "EL7211")
epicsEnvSet("P_SCRIPT",           "mXsXXX")
# add ${HW_DESC} to the bus at position ${SLAVE_ID}
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL7211.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEL7211.cmd" "NELM=1"
epicsEnvSet("ECMC_EC_HWTYPE"             "EL7211")
epicsEnvSet("ECMC_EC_VENDOR_ID"          "0x2")
epicsEnvSet("ECMC_EC_PRODUCT_ID"         "0x1c2b3052")
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/slaveVerify.cmd "RESET=true"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_VERIFY, "0==0", "","#- ")
ecmcConfigOrDie "Cfg.EcSlaveVerify(0,56,0x2,0x1c2b3052)"
ecmcEpicsEnvSetCalcTernary(ECMC_SLAVE_RESET, "true>0", "","#- ")
ecmcConfigOrDie "Cfg.EcWriteSdo(56,0x1011,0x1,1684107116,4)"
epicsEnvSet(ECMC_EC_SLAVE_FW, "0x0000")
ecmcConfig "EcReadSdo(56,0x100a,0x0,2)"
ecmcEpicsEnvSetCalc("ECMC_EC_SLAVE_FW", "13360", "0x%04x")
# Firmware version: 0x3430
epicsEnvUnset(ECMC_SLAVE_VERIFY)
epicsEnvUnset(ECMC_COMMENT)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcEX72XX_CSV.cmd
ecmcConfigOrDie "Cfg.EcAddEntryDT(56,0x2,0x1c2b3052,1,2,0x1600,0x7010,02022/05/13 08:36:36.137 OK
2022/05/13 08:36:36.137 OK
2022/05/13 08:36:36.137 OK
2022/05/13 08:36:36.137 OK
2022/05/13 08:36:36.138 OK
2022/05/13 08:36:36.138 OK
2022/05/13 08:36:36.139 OK
2022/05/13 08:36:36.139 OK
2022/05/13 08:36:36.139 OK
2022/05/13 08:36:36.139 OK
2022/05/13 08:36:36.140 OK
2022/05/13 08:36:36.144 OK
x01,U16,driveControl01)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(56,0x2,0x1c2b3052,1,2,0x1601,0x7010,0x06,S32,velocitySetpoint01)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(56,0x2,0x1c2b3052,2,3,0x1a00,0x6000,0x11,U32,positionActual01)"
ecmcConfigOrDie "Cfg.EcAddEntryDT(56,0x2,0x1c2b3052,2,3,0x1a01,0x6010,0x01,U16,driveStatus01)"
ecmcEpicsEnvSetCalc("ECMC_TEMP_PERIOD_NANO_SECS",1000/1000*1E6)
ecmcEpicsEnvSetCalc("ECMC_TEMP_PERIOD_NANO_SECS_HALF",1000000/2)
ecmcConfigOrDie "Cfg.EcSlaveConfigDC(56,0x700,1000000,500000,0,0)"
# Peak current (to be overwritten by motor config)
ecmcConfigOrDie "Cfg.EcAddSdo(56,0x8011,0x11,1000,4)"
ecmcEpicsEnvSetCalc("ECMC_TEMP_WHATCHDOG_1",1000/1000*1000)
ecmcEpicsEnvSetCalc("ECMC_TEMP_WHATCHDOG_2",1000*10)
ecmcConfigOrDie "Cfg.EcSlaveConfigWatchDog(56,1000,10000)"
ecmcConfigOrDie "Cfg.EcAddSdo(56,0x1C32,0x1,3,2)"
ecmcConfigOrDie "Cfg.EcAddSdo(56,0x1C32,0x2,1000000,4)"
ecmcConfigOrDie "Cfg.EcAddSdo(56,0x1C33,0x1,3,2)"
ecmcConfigOrDie "Cfg.EcAddSdo(56,0x1C33,0x2,1000000,4)"
epicsEnvUnset(ECMC_TEMP_PERIOD_NANO_SECS)
epicsEnvUnset(ECMC_TEMP_PERIOD_NANO_SECS_HALF)
epicsEnvUnset(ECMC_TEMP_WHATCHDOG_1)
epicsEnvUnset(ECMC_TEMP_WHATCHDOG_2)
# deduce what the prefix should be
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd",1)
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmcmXsXXX.cmd" "MASTER_ID=0,SLAVE_POS=56,HWTYPE=EL7211"
#==============================================================================
# ecmcmXsXXX.cmd
ecmcEpicsEnvSetCalc("sid", "56","%03d")
ecmcEpicsEnvSetCalc("mid", "0","%01d")
epicsEnvSet("ECMC_G",            "IOC_TEST:m0s056")
epicsEnvSet("ECMC_P",            "IOC_TEST:m0s056-")
epicsEnvUnset(sid)
epicsEnvUnset(mid)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SUBS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applySubstitutions.cmd" "SUBST_FILE=ecmcEL7211.substitutions,ECMC_P=IOC_TEST:m0s056-"
#==============================================================================
# applySubstitutions.cmd
ecmcFileExist(ecmcEL7211.substitutions,1,1)
dbLoadTemplate(ecmcEL7211.substitutions,"ECMC_P=IOC_TEST:m0s056-,ECMC_G=IOC_TEST:m0s056,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=56,HWTYPE=EL7211,T_SMP_MS=10,TSE=-2,NELM=1")
epicsEnvUnset(DEFAULT_SUBS)
ecmcEpicsEnvSetCalcTernary(DEFAULT_SLAVE_PVS, "True", "","#- ")
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/applyTemplate.cmd" "TEMPLATE_FILE=ecmcEcSlave.template,ECMC_P=IOC_TEST:m0s056-,ECMC_G=IOC_TEST:m0s056"
#==============================================================================
# applyTemplate.cmd
ecmcFileExist(ecmcEcSlave.template,1,1)
dbLoadRecords("ecmcEcSlave.template", "ECMC_P=IOC_TEST:m0s056-,ECMC_G=IOC_TEST:m0s056,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,MASTER_ID=0,SLAVE_POS=56,HWTYPE=EL7211,T_SMP_MS=10,TSE=-2,")
epicsEnvUnset(DEFAULT_SLAVE_PVS)
# increment SLAVE_ID
ecmcEpicsEnvSetCalc("SLAVE_ID", "56+1","%d")
#${SCRIPTEXEC} ${ecmccfg_DIR}addSlave.cmd, "HW_DESC=EL7342"
#${SCRIPTEXEC} ${ecmccfg_DIR}addSlave.cmd, "HW_DESC=EL9576"
#${SCRIPTEXEC} ${ecmccfg_DIR}addSlave.cmd, "HW_DESC=EL7201"
#Apply hardware configuration"
ecmcConfigOrDie "Cfg.EcApplyConfig(1)"
epicsEnvSet("DEV",      "IOC_TEST")
epicsEnvSet("ID",       "1")
iocshLoad (/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/configureVirtualAxis.cmd, CONFIG=./cfg/linear.vax, ID=1)
#==============================================================================
# configureVirtualAxis.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD, "'FULL'='DAQ'","ecmcExit Error: ECMC started in DAQ mode. Motion not supported..","#-")
epicsEnvUnset(ECMC_EXE_CMD)
epicsEnvSet("ECMC_PREFIX"      "IOC_TEST:")
iocshLoad ./cfg/linear.vax
#General
epicsEnvSet("ECMC_MOTOR_NAME",            "Axis1")
epicsEnvSet("ECMC_R",                     "Axis1-")
epicsEnvSet("ECMC_AXIS_NO",               "1")
epicsEnvSet("ECMC_DESC",                  "MCU1025 Center Position (1)")
epicsEnvSet("ECMC_EGU",                   "mm")                       # Motor Record Unit
epicsEnvSet("ECMC_PREC",                  "3")                        # Motor Record Precision
epicsEnvSet("ECMC_AXISCONFIG",            "")                         # Extra parameters to driver
epicsEnvSet("ECMC_EC_AXIS_HEALTH",        "")                         # Entry for axis health output (example: ec0.s1.binaryOutput01.0)
epicsEnvSet("ECMC_MOD_RANGE" ,            "0")                        # Modulo range (traj setpoints and encoder values will be in range 0..ECMC_MOD_RANGE)
epicsEnvSet("ECMC_MOD_TYPE",              "0")                        # For positioning and MOD_RANGE>0: 0 = Normal, 1 = Always Fwd, 2 = Always Bwd, 3 = Closest Distance
#Encoder
epicsEnvSet("ECMC_ENC_SCALE_NUM"          "1")
epicsEnvSet("ECMC_ENC_SCALE_DENOM"        "1")
epicsEnvSet("ECMC_ENC_TYPE"               "1")                        # Type: 0=Incremental, 1=Absolute
epicsEnvSet("ECMC_ENC_BITS"               "0")                        # Total bit count of encoder raw data
epicsEnvSet("ECMC_ENC_ABS_BITS",          "0")                        # Absolute bit count (for absolute encoders) always least significant part of ECMC_ENC_BITS
epicsEnvSet("ECMC_ENC_ABS_OFFSET"         "0")                        # Encoder offset in eng units (for absolute encoders)
epicsEnvSet("ECMC_EC_ENC_ACTPOS",         "ec0.s1.ZERO")              # Ethercat entry for actual position input (encoder)
epicsEnvSet("ECMC_EC_ENC_RESET",          "")                         # Reset   (if no encoder reset bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_ALARM_0",        "")                         # Error 0 (if no encoder error bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_ALARM_1",        "")                         # Error 1 (if no encoder error bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_ALARM_2",        "")                         # Error 2 (if no encoder error bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_WARNING",        "")                         # Warning (if no encoder warning bit then leave empty)
#Trajectory
epicsEnvSet("ECMC_VELO",                  "5.0")
epicsEnvSet("ECMC_JOG_VEL",               "5")
epicsEnvSet("ECMC_JAR",                   "0.0")                      # JAR defaults to VELO/ACCL
epicsEnvSet("ECMC_ACCL",                  "0.1")
epicsEnvSet("ECMC_EMERG_DECEL",           "0.1")             # Emergency deceleration
#Homing
epicsEnvSet("ECMC_HOME_PROC",             "3")
epicsEnvSet("ECMC_HOME_POS",              "0.0")
epicsEnvSet("ECMC_HOME_VEL_TO",           "5")
epicsEnvSet("ECMC_HOME_VEL_FRM",          "4")
epicsEnvSet("ECMC_HOME_ACC",              "21")
epicsEnvSet("ECMC_HOME_DEC",              "100")
epicsEnvSet("ECMC_HOME_POS_MOVE_ENA",     "0")                        # Enable move to position after successfull homing 
epicsEnvSet("ECMC_HOME_POS_MOVE_TARG_POS","0")                        # Target position to go to after successfull homing
#Monitoring
# Switches
epicsEnvSet("ECMC_EC_MON_LOWLIM",         "ec0.s1.ONE.0")           #  Ethercat entry for low limit switch input
epicsEnvSet("ECMC_EC_MON_HIGHLIM",        "ec0.s1.ONE.0")           #  Ethercat entry for high limit switch inpuit
epicsEnvSet("ECMC_EC_MON_HOME_SWITCH",    "ec0.s1.ONE.0")           #  Ethercat entry for home switch input
epicsEnvSet("ECMC_EC_MON_EXT_INTERLOCK",  "ec0.s1.ONE.0")           #  Ethercat entry for external interlock input
# Softlimits (disable with 0,0)
epicsEnvSet("ECMC_SOFT_LOW_LIM",          "0")
epicsEnvSet("ECMC_SOFT_HIGH_LIM",         "0")
epicsEnvSet("ECMC_DXLM_ENABLE",           "1")
# Position lag
epicsEnvSet("ECMC_MON_LAG_MON_TOL",       "0.5")
epicsEnvSet("ECMC_MON_LAG_MON_TIME",      "100")
epicsEnvSet("ECMC_MON_LAG_MON_ENA",       "0")
# At target
epicsEnvSet("ECMC_MON_AT_TARGET_TOL",     "0.3")
epicsEnvSet("ECMC_MON_AT_TARGET_TIME",    "100")
epicsEnvSet("ECMC_MON_AT_TARGET_ENA",     "1")
# Velocity
epicsEnvSet("ECMC_MON_VELO_MAX",          "200.0")
epicsEnvSet("ECMC_MON_VELO_MAX_TRAJ_TIME","100")
epicsEnvSet("ECMC_MON_VELO_MAX_DRV_TIME", "200")
epicsEnvSet("ECMC_MON_VELO_MAX_ENA",      "1")
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addVirtualAxi2022/05/13 08:36:36.149 OK
2022/05/13 08:36:36.150 OK
2022/05/13 08:36:36.150 OK
2022/05/13 08:36:36.150 OK
2022/05/13 08:36:36.150 OK
2022/05/13 08:36:36.150 OK
2022/05/13 08:36:36.150 OK
2022/05/13 08:36:36.150 OK
2022/05/13 08:36:36.150 OK
2022/05/13 08:36:36.150 OK
2022/05/13 08:36:36.151 OK
2022/05/13 08:36:36.151 OK
2022/05/13 08:36:36.151 OK
2022/05/13 08:36:36.151 OK
2022/05/13 08:36:36.151 OK
2022/05/13 08:36:36.151 OK
2022/05/13 08:36:36.151 OK
2022/05/13 08:36:36.151 OK
2022/05/13 08:36:36.151 OK
2022/05/13 08:36:36.151 OK
2022/05/13 08:36:36.152 OK
2022/05/13 08:36:36.152 OK
2022/05/13 08:36:36.152 OK
2022/05/13 08:36:36.152 OK
2022/05/13 08:36:36.152 OK
2022/05/13 08:36:36.152 OK
2022/05/13 08:36:36.152 OK
2022/05/13 08:36:36.152 OK
s.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addVirtualAxis.cmd
#==============================================================================
# addVirtualAxis.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD, "'FULL'='DAQ'","ecmcExit Error: ECMC started in DAQ mode. Motion not supported..","#-")
epicsEnvUnset(ECMC_EXE_CMD)
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis-records.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis-records.cmd
#==============================================================================
# ecmc_virt_axis-records.cmd
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis.cmd",1)
iocshLoad( /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis.cmd )
#==============================================================================
# ecmc_virt_axis.cmd
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/verifyOrDie.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/verifyOrDie.cmd "EXPR_STR='abs(1)<>0',SUCCESS_STR='ECMC_ENC_SCALE_NUM value OK == 1...',ERROR_STR='ECMC_ENC_SCALE_NUM == 0...'"
#==============================================================================
# verifyOrDie.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD,"abs(1)<>0","# ECMC_ENC_SCALE_NUM value OK == 1...", "ecmcExit Error: ECMC_ENC_SCALE_NUM == 0...")
# ECMC_ENC_SCALE_NUM value OK == 1...
epicsEnvUnset(ECMC_EXE_CMD)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/verifyOrDie.cmd "EXPR_STR='abs(1)<>0',SUCCESS_STR='ECMC_ENC_SCALE_DENOM value OK == 1...',ERROR_STR='ECMC_ENC_SCALE_DENOM == 0...'"
#==============================================================================
# verifyOrDie.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD,"abs(1)<>0","# ECMC_ENC_SCALE_DENOM value OK == 1...", "ecmcExit Error: ECMC_ENC_SCALE_DENOM == 0...")
# ECMC_ENC_SCALE_DENOM value OK == 1...
epicsEnvUnset(ECMC_EXE_CMD)
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/issueWarning.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/issueWarning.cmd "EXPR_STR='-1>0',WARNING_STR='WARNING: ECMC_MRES setting is deprecated and will not be used. (MRES will be calulated instead: ECMC_ENC_SCALE_NUM/ECMC_ENC_SCALE_DENOM).. '"
#==============================================================================
# issueWarning.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD,"-1>0","", "#-")
epicsEnvUnset(ECMC_EXE_CMD)
ecmcConfigOrDie "Cfg.CreateAxis(1,2)"
ecmcConfigOrDie "Cfg.SetAxisTrajStartPos(1,0)"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax1.health")"
ecmcConfigOrDie "Cfg.SetAxisModRange(1, 0)"
ecmcConfigOrDie "Cfg.SetAxisModType(1, 0)"
ecmcConfigOrDie "Cfg.SetAxisEmergDeceleration(1,0.1)"
ecmcConfigOrDie "Cfg.SetAxisVelAccDecTime(1,5.0,0.1)"
ecmcConfigOrDie "Cfg.SetAxisHomeVelTwordsCam(1,5)"
ecmcConfigOrDie "Cfg.SetAxisHomeVelOffCam(1,4)"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ZERO,"ax1.enc.actpos")"
ecmcConfigOrDie "Cfg.SetAxisEncScaleDenom(1,1)"
ecmcConfigOrDie "Cfg.SetAxisEncScaleNum(1,1)"
ecmcConfigOrDie "Cfg.SetAxisEncType(1,1)"
ecmcConfigOrDie "Cfg.SetAxisEncBits(1,0)"
ecmcConfigOrDie "Cfg.SetAxisEncAbsBits(1,0)"
ecmcConfigOrDie "Cfg.SetAxisEncOffset(1,0)"
ecmcConfigOrDie "Cfg.SetAxisEncVelFilterSize(1,100)"
ecmcConfigOrDie "Cfg.SetAxisEncPosFilterSize(1,1)"
ecmcConfigOrDie "Cfg.SetAxisEncPosFilterEnable(1,0)"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax1.enc.reset")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax1.enc.alarm0")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax1.enc.alarm1")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax1.enc.alarm2")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax1.enc.warning")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax1.enc.latchpos")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax1.enc.latchcontrol")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax1.enc.latchstatus")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax1.mon.lowlim")"
ecmcConfigOrDi2022/05/13 08:36:36.153 OK
2022/05/13 08:36:36.153 OK
2022/05/13 08:36:36.153 OK
2022/05/13 08:36:36.153 OK
2022/05/13 08:36:36.153 OK
2022/05/13 08:36:36.154 OK
2022/05/13 08:36:36.154 OK
2022/05/13 08:36:36.154 OK
2022/05/13 08:36:36.154 OK
2022/05/13 08:36:36.154 OK
2022/05/13 08:36:36.154 OK
2022/05/13 08:36:36.154 OK
2022/05/13 08:36:36.154 OK
2022/05/13 08:36:36.154 OK
2022/05/13 08:36:36.154 OK
2022/05/13 08:36:36.155 OK
2022/05/13 08:36:36.155 OK
2022/05/13 08:36:36.155 OK
2022/05/13 08:36:36.155 OK
2022/05/13 08:36:36.155 OK
2022/05/13 08:36:36.155 OK
2022/05/13 08:36:36.155 OK
2022/05/13 08:36:36.155 ecmcMotorRecord:: setIntegerParam(1 motorPowerAutoOnOff_)=2
2022/05/13 08:36:36.155 ecmcMotorRecord:: setDoubleParam(1 motorPowerOnDelay_)=6
2022/05/13 08:36:36.155 ecmcMotorRecord:: setDoubleParam(1 motorPowerOffDelay_=-1
2022/05/13 08:36:36.156 ecmcMotorRecord:: connected(1)
2022/05/13 08:36:36.156 ecmcMotorRecord:: initialPoll(1) status=0
e "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax1.mon.highlim")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax1.mon.homesensor")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax1.mon.extinterlock")"
ecmcConfigOrDie "Cfg.SetAxisMonAtTargetTol(1,0.3)"
ecmcConfigOrDie "Cfg.SetAxisMonAtTargetTime(1,100)"
ecmcConfigOrDie "Cfg.SetAxisMonEnableAtTargetMon(1,1)"
ecmcConfigOrDie "Cfg.SetAxisMonPosLagTol(1,0.5)"
ecmcConfigOrDie "Cfg.SetAxisMonPosLagTime(1,100)"
ecmcConfigOrDie "Cfg.SetAxisMonEnableLagMon(1,0)"
ecmcConfigOrDie "Cfg.SetAxisMonMaxVel(1,200.0)"
ecmcConfigOrDie "Cfg.SetAxisMonEnableMaxVel(1,1)"
ecmcConfigOrDie "Cfg.SetAxisMonMaxVelDriveILDelay(1,200)"
ecmcConfigOrDie "Cfg.SetAxisMonMaxVelTrajILDelay(1,100)"
ecmcConfigOrDie "Cfg.SetAxisSoftLimitPosBwd(1,0)"
ecmcConfigOrDie "Cfg.SetAxisEnableSoftLimitBwd(1,1)"
ecmcConfigOrDie "Cfg.SetAxisSoftLimitPosFwd(1,0)"
ecmcConfigOrDie "Cfg.SetAxisEnableSoftLimitFwd(1,1)"
ecmcConfigOrDie "Cfg.SetAxisMonHomeSwitchPolarity(1,0)"
ecmcConfigOrDie "Cfg.SetAxisHomeLatchCountOffset(1,0)"
ecmcConfigOrDie "Main.M1.fHomePosition=0.0"
ecmcConfigOrDie "Cfg.SetAxisHomePostMoveEnable(1, 0)"
ecmcConfigOrDie "Cfg.SetAxisHomePostMoveTargetPosition(1, 0)"
ecmcMotorRecordCreateAxis(MCU1, "1", "6", "")
ecmcEpicsEnvSetCalc("ECMC_TEMP_SREV","if(abs(1)>0){RESULT:=abs(1);} else {RESULT:=1.0};","%d")
ecmcEpicsEnvSetCalc("ECMC_TEMP_UREV","if(abs(1)>0){RESULT:=abs(1);} else {RESULT:=1.0};","%lf")
ecmcFileExist(ecmcMotorRecord.template,1,1)
dbLoadRecords(ecmcMotorRecord.template, "PREFIX=IOC_TEST:, MOTOR_NAME=Axis1, MOTOR_PORT=MCU1, AXIS_NO=1, DESC=MCU1025 Center Position (1), EGU=mm, PREC=3, VELO=5.0, JVEL=5, JAR=0.0, ACCL=0.1, RDBD=0.3, DLLM=0, DHLM=0, HOMEPROC=3,SREV=1,UREV=1.000000, ")
epicsEnvSet("ECMC_AXISFIELDINIT",  "")
ecmcFileExist(ecmcMotorRecord"home.template",1,1)
dbLoadRecords(ecmcMotorRecord"home.template", "PREFIX=IOC_TEST:, MOTOR_NAME=Axis1, MOTOR_PORT=MCU1, AXIS_NO=1,HOMEPROC=3, HOMEPOS=0.0, HVELTO=5, HVELFRM=4, HOMEACC=21, HOMEDEC=100")
epicsEnvUnset(ECMC_TEMP_SREV)
epicsEnvUnset(ECMC_TEMP_UREV)
ecmcFileExist("ecmcAxis.db",1,1)
dbLoadRecords("ecmcAxis.db","P=IOC_TEST:,AXIS_NAME=Axis1,AXIS_NO=1,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,T_SMP_MS=10,TSE=-2")
ecmcFileExist("ecmcAxisType.db",1,1)
dbLoadRecords("ecmcAxisType.db","P=IOC_TEST:,AXIS_NAME=Axis1,AXIS_TYPE=2")
ecmcFileExist(/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis_unset.cmd,1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis_unset.cmd
#==============================================================================
# ecmc_virt_axis_unset.cmd
epicsEnvUnset(ECMC_AXISCONFIG)
epicsEnvUnset(ECMC_AXISFIELDINIT)
epicsEnvUnset(ECMC_PREC)
epicsEnvUnset(ECMC_EGU)
epicsEnvUnset(ECMC_DESC)
epicsEnvUnset(ECMC_R)
epicsEnvUnset(ECMC_MOTOR_NAME)
epicsEnvUnset(ECMC_EC_AXIS_HEALTH)
epicsEnvUnset(ECMC_MOD_RANGE)
epicsEnvUnset(ECMC_MOD_TYPE)
epicsEnvUnset(ECMC_EMERG_DECEL)
epicsEnvUnset(ECMC_ACCL)
epicsEnvUnset(ECMC_HOME_VEL_TO)
epicsEnvUnset(ECMC_HOME_VEL_FRM)
epicsEnvUnset(ECMC_EC_ENC_ACTPOS)
epicsEnvUnset(ECMC_ENC_SCALE_DENOM)
epicsEnvUnset(ECMC_ENC_SCALE_NUM)
epicsEnvUnset(ECMC_ENC_TYPE)
epicsEnvUnset(ECMC_ENC_BITS)
epicsEnvUnset(ECMC_ENC_ABS_BITS)
epicsEnvUnset(ECMC_ENC_ABS_OFFSET)
epicsEnvUnset(ECMC_ENC_VEL_FILTER_SIZE)
epicsEnvUnset(ECMC_ENC_POS_FILTER_SIZE)
epicsEnvUnset(ECMC_ENC_POS_FILTER_ENABLE)
epicsEnvUnset(ECMC_EC_ENC_RESET)
epicsEnvUnset(ECMC_EC_ENC_ALARM_0)
epicsEnvUnset(ECMC_EC_ENC_ALARM_1)
epicsEnvUnset(ECMC_EC_ENC_ALARM_2)
epicsEnvUnset(ECMC_EC_ENC_WARNING)
epicsEnvUnset(ECMC_EC_MON_LOWLIM)
epicsEnvUnset(ECMC_EC_MON_HIGHLIM)
epicsEnvUnset(ECMC_EC_MON_HOME_SWITCH)
epicsEnvUnset(ECMC_EC_MON_EXT_INTERLOCK)
epicsEnvUnset(ECMC_MON_AT_TARGET_TOL)
epicsEnvUnset(ECMC_MON_AT_TARGET_TIME)
epicsEnvUnset(ECMC_MON_AT_TARGET_ENA)
epicsEnvUnset(ECMC_MON_LAG_MON_TOL)
epicsEnvUnset(ECMC_MON_LAG_MON_TIME)
epicsEnvUnset(ECMC_MON_LAG_MON_ENA)
epicsEnvUnset(ECMC_MON_VELO_MAX)
epicsEnvUnset(ECMC_MON_VELO_MAX_ENA)
epicsEnvUnset(ECMC_MON_VELO_MAX_DRV_TIME)
epicsEnvUnset(ECMC_MON_VELO_MAX_TRAJ_TIME)
epicsEnvUnset(ECMC_MRES)
epicsEnvUnset(ECMC_JOG_VEL)
epicsEnvUnset(ECMC_JAR)
epicsEnvUnset(ECMC_HOME_PROC)
epicsEnvUnset(ECMC_HOME_POS)
epicsEnvUnset(ECMC_HOME_ACC)
epicsEnvUnset(ECMC_HOME_DEC)
epicsEnvUnset(ECMC_DRV_TYPE)
epicsEnvUnset(ECMC_VELO)
epicsEnvUnset(ECMC_SOFT_LOW_LIM)
epicsEnvUnset(ECMC_SOFT_HIGH_LIM)
epicsEnvUnset(ECMC_HOME_POS_MOVE_ENA)
epicsEnvUnset(ECMC_HOME_POS_MOVE_TARG_POS)
# reset PREFIX
epicsEnvSet("ECMC_PREFIX"      "IOC_TEST:")
epicsEnvSet("ID",       "2")
iocshLoad (/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/configureVirtualAxis.cmd, CONFIG=./cfg/linear.vax, ID=2)
#==============================================================================
# configureVirtualAxis.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD, "'FULL'='DAQ'","ecmcExit Error: ECMC started in DAQ mode. Motion not supported..","#-")
epicsEnvUnset(ECMC_EXE_CMD)
epicsEnvSet("ECMC_PREFIX"      "IOC_TEST:")
iocshLoad ./cfg/linear.vax
#General
epicsEnvSet("ECMC_MOTOR_NAME",            "Axis2")
epicsEnvSet("ECMC_R",                     "Axis2-")
epicsEnvSet("ECMC_AXIS_NO",               "2")
epicsEnvSet("ECMC_DESC",                  "MCU1025 Center Position (2)")
epicsEnvSet("ECMC_EGU",                   "mm")                       # Motor Record Unit
epicsEnvSet("ECMC_PREC",                  "3")                        # Motor Record Precision
epicsEnvSet("ECMC_AXISCONFIG",            "")                         # Extra parameters to driver
epicsEnvSet("ECMC_EC_AXIS_HEALTH",        "")                         # Entry for axis health output (example: ec0.s1.binaryOutput01.0)
epicsEnvSet("ECMC_MOD_RANGE" ,            "0")                        # Modulo range (traj setpoints and encoder values will be in range 0..ECMC_MOD_RANGE)
epicsEnvSet("ECMC_MOD_TYPE",              "0")                        # For positioning and MOD_RANGE>0: 0 = Normal, 1 = Always Fwd, 2 = Always Bwd, 3 = Closest Distance
#Encoder
epicsEnvSet("ECMC_ENC_SCALE_NUM"          "1")
epicsEnvSet("ECMC_ENC_SCALE_DENOM"        "1")
epicsEnvSet("ECMC_ENC_TYPE"               "1")                        # Type: 0=Incremental, 1=Absolute
epicsEnvSet("ECMC_ENC_BITS"               "0")                        # Total bit count of encoder raw data
epicsEnvSet("ECMC_ENC_ABS_BITS",          "0")                        # Absolute bit count (for absolute encoders) always least significant part of ECMC_ENC_BITS
epicsEnvSet("ECMC_ENC_ABS_OFFSET"         "0")                        # Encoder offset in eng units (for absolute encoders)
epicsEnvSet("ECMC_EC_ENC_ACTPOS",         "ec0.s1.ZERO")              # Ethercat entry for actual position input (encoder)
epicsEnvSet("ECMC_EC_ENC_RESET",          "")                         # Reset   (if no encoder reset bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_ALARM_0",        "")                         # Error 0 (if no encoder error bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_ALARM_1",        "")                         # Error 1 (if no encoder error bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_ALARM_2",        "")                         # Error 2 (if no encoder error bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_WARNING",        "")                         # Warning (if no encoder warning bit then leave empty)
#Trajectory
epicsEnvSet("ECMC_VELO",                  "5.0")
epicsEnvSet("ECMC_JOG_VEL",               "5")
epicsEnvSet("ECMC_JAR",                   "0.0")                      # JAR defaults to VELO/ACCL
epicsEnvSet("ECMC_ACCL",                  "0.1")
epicsEnvSet("ECMC_EMERG_DECEL",           "0.1")             # Emergency deceleration
#Homing
epicsEnvSet("ECMC_HOME_PROC",             "3")
epicsEnvSet("ECMC_HOME_POS",              "0.0")
epicsEnvSet("ECMC_HOME_VEL_TO",           "5")
epicsEnvSet("ECMC_HOME_VEL_FRM",          "4")
epicsEnvSet("ECMC_HOME_ACC",              "21")
epicsEnvSet("ECMC_HOME_DEC",              "100")
epicsEnvSet("ECMC_HOME_POS_MOVE_ENA",     "0")                        # Enable move to position after successfull homing 
epicsEnvSet("ECMC_HOME_POS_MOVE_TARG_POS","0")                        2022/05/13 08:36:36.165 OK
2022/05/13 08:36:36.165 OK
2022/05/13 08:36:36.165 OK
2022/05/13 08:36:36.165 OK
# Target position to go to after successfull homing
#Monitoring
# Switches
epicsEnvSet("ECMC_EC_MON_LOWLIM",         "ec0.s1.ONE.0")           #  Ethercat entry for low limit switch input
epicsEnvSet("ECMC_EC_MON_HIGHLIM",        "ec0.s1.ONE.0")           #  Ethercat entry for high limit switch inpuit
epicsEnvSet("ECMC_EC_MON_HOME_SWITCH",    "ec0.s1.ONE.0")           #  Ethercat entry for home switch input
epicsEnvSet("ECMC_EC_MON_EXT_INTERLOCK",  "ec0.s1.ONE.0")           #  Ethercat entry for external interlock input
# Softlimits (disable with 0,0)
epicsEnvSet("ECMC_SOFT_LOW_LIM",          "0")
epicsEnvSet("ECMC_SOFT_HIGH_LIM",         "0")
epicsEnvSet("ECMC_DXLM_ENABLE",           "1")
# Position lag
epicsEnvSet("ECMC_MON_LAG_MON_TOL",       "0.5")
epicsEnvSet("ECMC_MON_LAG_MON_TIME",      "100")
epicsEnvSet("ECMC_MON_LAG_MON_ENA",       "0")
# At target
epicsEnvSet("ECMC_MON_AT_TARGET_TOL",     "0.3")
epicsEnvSet("ECMC_MON_AT_TARGET_TIME",    "100")
epicsEnvSet("ECMC_MON_AT_TARGET_ENA",     "1")
# Velocity
epicsEnvSet("ECMC_MON_VELO_MAX",          "200.0")
epicsEnvSet("ECMC_MON_VELO_MAX_TRAJ_TIME","100")
epicsEnvSet("ECMC_MON_VELO_MAX_DRV_TIME", "200")
epicsEnvSet("ECMC_MON_VELO_MAX_ENA",      "1")
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addVirtualAxis.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addVirtualAxis.cmd
#==============================================================================
# addVirtualAxis.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD, "'FULL'='DAQ'","ecmcExit Error: ECMC started in DAQ mode. Motion not supported..","#-")
epicsEnvUnset(ECMC_EXE_CMD)
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis-records.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis-records.cmd
#==============================================================================
# ecmc_virt_axis-records.cmd
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis.cmd",1)
iocshLoad( /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis.cmd )
#==============================================================================
# ecmc_virt_axis.cmd
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/verifyOrDie.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/verifyOrDie.cmd "EXPR_STR='abs(1)<>0',SUCCESS_STR='ECMC_ENC_SCALE_NUM value OK == 1...',ERROR_STR='ECMC_ENC_SCALE_NUM == 0...'"
#==============================================================================
# verifyOrDie.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD,"abs(1)<>0","# ECMC_ENC_SCALE_NUM value OK == 1...", "ecmcExit Error: ECMC_ENC_SCALE_NUM == 0...")
# ECMC_ENC_SCALE_NUM value OK == 1...
epicsEnvUnset(ECMC_EXE_CMD)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/verifyOrDie.cmd "EXPR_STR='abs(1)<>0',SUCCESS_STR='ECMC_ENC_SCALE_DENOM value OK == 1...',ERROR_STR='ECMC_ENC_SCALE_DENOM == 0...'"
#==============================================================================
# verifyOrDie.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD,"abs(1)<>0","# ECMC_ENC_SCALE_DENOM value OK == 1...", "ecmcExit Error: ECMC_ENC_SCALE_DENOM == 0...")
# ECMC_ENC_SCALE_DENOM value OK == 1...
epicsEnvUnset(ECMC_EXE_CMD)
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/issueWarning.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/issueWarning.cmd "EXPR_STR='-1>0',WARNING_STR='WARNING: ECMC_MRES setting is deprecated and will not be used. (MRES will be calulated instead: ECMC_ENC_SCALE_NUM/ECMC_ENC_SCALE_DENOM).. '"
#==============================================================================
# issueWarning.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD,"-1>0","", "#-")
epicsEnvUnset(ECMC_EXE_CMD)
ecmcConfigOrDie "Cfg.CreateAxis(2,2)"
ecmcConfigOrDie "Cfg.SetAxisTrajStartPos(2,0)"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax2.health")"
ecmcConfigOrDie "Cfg.SetAxisModRange(2, 0)"
ecmcConfigOrDie "Cfg.SetAx2022/05/13 08:36:36.166 OK
2022/05/13 08:36:36.166 OK
2022/05/13 08:36:36.166 OK
2022/05/13 08:36:36.166 OK
2022/05/13 08:36:36.166 OK
2022/05/13 08:36:36.167 OK
2022/05/13 08:36:36.167 OK
2022/05/13 08:36:36.167 OK
2022/05/13 08:36:36.167 OK
2022/05/13 08:36:36.167 OK
2022/05/13 08:36:36.167 OK
2022/05/13 08:36:36.167 OK
2022/05/13 08:36:36.167 OK
2022/05/13 08:36:36.167 OK
2022/05/13 08:36:36.168 OK
2022/05/13 08:36:36.168 OK
2022/05/13 08:36:36.168 OK
2022/05/13 08:36:36.168 OK
2022/05/13 08:36:36.168 OK
2022/05/13 08:36:36.168 OK
2022/05/13 08:36:36.168 OK
2022/05/13 08:36:36.168 OK
2022/05/13 08:36:36.168 OK
2022/05/13 08:36:36.168 OK
2022/05/13 08:36:36.169 OK
2022/05/13 08:36:36.169 OK
2022/05/13 08:36:36.169 OK
2022/05/13 08:36:36.169 OK
2022/05/13 08:36:36.169 OK
2022/05/13 08:36:36.169 OK
2022/05/13 08:36:36.169 OK
2022/05/13 08:36:36.169 OK
2022/05/13 08:36:36.169 OK
2022/05/13 08:36:36.170 OK
2022/05/13 08:36:36.170 OK
2022/05/13 08:36:36.170 OK
2022/05/13 08:36:36.170 OK
2022/05/13 08:36:36.170 OK
2022/05/13 08:36:36.170 OK
2022/05/13 08:36:36.170 OK
2022/05/13 08:36:36.170 OK
2022/05/13 08:36:36.170 OK
2022/05/13 08:36:36.171 OK
2022/05/13 08:36:36.171 OK
2022/05/13 08:36:36.171 OK
2022/05/13 08:36:36.171 OK
2022/05/13 08:36:36.171 ecmcMotorRecord:: setIntegerParam(2 motorPowerAutoOnOff_)=2
2022/05/13 08:36:36.171 ecmcMotorRecord:: setDoubleParam(2 motorPowerOnDelay_)=6
2022/05/13 08:36:36.171 ecmcMotorRecord:: setDoubleParam(2 motorPowerOffDelay_=-1
2022/05/13 08:36:36.171 ecmcMotorRecord:: connected(2)
2022/05/13 08:36:36.171 ecmcMotorRecord:: initialPoll(2) status=0
isModType(2, 0)"
ecmcConfigOrDie "Cfg.SetAxisEmergDeceleration(2,0.1)"
ecmcConfigOrDie "Cfg.SetAxisVelAccDecTime(2,5.0,0.1)"
ecmcConfigOrDie "Cfg.SetAxisHomeVelTwordsCam(2,5)"
ecmcConfigOrDie "Cfg.SetAxisHomeVelOffCam(2,4)"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ZERO,"ax2.enc.actpos")"
ecmcConfigOrDie "Cfg.SetAxisEncScaleDenom(2,1)"
ecmcConfigOrDie "Cfg.SetAxisEncScaleNum(2,1)"
ecmcConfigOrDie "Cfg.SetAxisEncType(2,1)"
ecmcConfigOrDie "Cfg.SetAxisEncBits(2,0)"
ecmcConfigOrDie "Cfg.SetAxisEncAbsBits(2,0)"
ecmcConfigOrDie "Cfg.SetAxisEncOffset(2,0)"
ecmcConfigOrDie "Cfg.SetAxisEncVelFilterSize(2,100)"
ecmcConfigOrDie "Cfg.SetAxisEncPosFilterSize(2,1)"
ecmcConfigOrDie "Cfg.SetAxisEncPosFilterEnable(2,0)"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax2.enc.reset")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax2.enc.alarm0")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax2.enc.alarm1")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax2.enc.alarm2")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax2.enc.warning")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax2.enc.latchpos")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax2.enc.latchcontrol")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax2.enc.latchstatus")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax2.mon.lowlim")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax2.mon.highlim")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax2.mon.homesensor")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax2.mon.extinterlock")"
ecmcConfigOrDie "Cfg.SetAxisMonAtTargetTol(2,0.3)"
ecmcConfigOrDie "Cfg.SetAxisMonAtTargetTime(2,100)"
ecmcConfigOrDie "Cfg.SetAxisMonEnableAtTargetMon(2,1)"
ecmcConfigOrDie "Cfg.SetAxisMonPosLagTol(2,0.5)"
ecmcConfigOrDie "Cfg.SetAxisMonPosLagTime(2,100)"
ecmcConfigOrDie "Cfg.SetAxisMonEnableLagMon(2,0)"
ecmcConfigOrDie "Cfg.SetAxisMonMaxVel(2,200.0)"
ecmcConfigOrDie "Cfg.SetAxisMonEnableMaxVel(2,1)"
ecmcConfigOrDie "Cfg.SetAxisMonMaxVelDriveILDelay(2,200)"
ecmcConfigOrDie "Cfg.SetAxisMonMaxVelTrajILDelay(2,100)"
ecmcConfigOrDie "Cfg.SetAxisSoftLimitPosBwd(2,0)"
ecmcConfigOrDie "Cfg.SetAxisEnableSoftLimitBwd(2,1)"
ecmcConfigOrDie "Cfg.SetAxisSoftLimitPosFwd(2,0)"
ecmcConfigOrDie "Cfg.SetAxisEnableSoftLimitFwd(2,1)"
ecmcConfigOrDie "Cfg.SetAxisMonHomeSwitchPolarity(2,0)"
ecmcConfigOrDie "Cfg.SetAxisHomeLatchCountOffset(2,0)"
ecmcConfigOrDie "Main.M2.fHomePosition=0.0"
ecmcConfigOrDie "Cfg.SetAxisHomePostMoveEnable(2, 0)"
ecmcConfigOrDie "Cfg.SetAxisHomePostMoveTargetPosition(2, 0)"
ecmcMotorRecordCreateAxis(MCU1, "2", "6", "")
ecmcEpicsEnvSetCalc("ECMC_TEMP_SREV","if(abs(1)>0){RESULT:=abs(1);} else {RESULT:=1.0};","%d")
ecmcEpicsEnvSetCalc("ECMC_TEMP_UREV","if(abs(1)>0){RESULT:=abs(1);} else {RESULT:=1.0};","%lf")
ecmcFileExist(ecmcMotorRecord.template,1,1)
dbLoadRecords(ecmcMotorRecord.template, "PREFIX=IOC_TEST:, MOTOR_NAME=Axis2, MOTOR_PORT=MCU1, AXIS_NO=2, DESC=MCU1025 Center Position (2), EGU=mm, PREC=3, VELO=5.0, JVEL=5, JAR=0.0, ACCL=0.1, RDBD=0.3, DLLM=0, DHLM=0, HOMEPROC=3,SREV=1,UREV=1.000000, ")
epicsEnvSet("ECMC_AXISFIELDINIT",  "")
ecmcFileExist(ecmcMotorRecord"home.template",1,1)
dbLoadRecords(ecmcMotorRecord"home.template", "PREFIX=IOC_TEST:, MOTOR_NAME=Axis2, MOTOR_PORT=MCU1, AXIS_NO=2,HOMEPROC=3, HOMEPOS=0.0, HVELTO=5, HVELFRM=4, HOMEACC=21, HOMEDEC=100")
epicsEnvUnset(ECMC_TEMP_SREV)
epicsEnvUnset(ECMC_TEMP_UREV)
ecmcFileExist("ecmcAxis.db",1,1)
dbLoadRecords("ecmcAxis.db","P=IOC_TEST:,AXIS_NAME=Axis2,AXIS_NO=2,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,T_SMP_MS=10,TSE=-2")
ecmcFileExist("ecmcAxisType.db",1,1)
dbLoadRecords("ecmcAxisType.db","P=IOC_TEST:,AXIS_NAME=Axis2,AXIS_TYPE=2")
ecmcFileExist(/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis_unset.cmd,1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis_unset.cmd
#==============================================================================
# ecmc_virt_axis_unset.cmd
epicsEnvUnset(ECMC_AXISCONFIG)
epicsEnvUnset(ECMC_AXISFIELDINIT)
epicsEnvUnset(ECMC_PREC)
epicsEnvUnset(ECMC_EGU)
epicsEnvUnset(ECMC_DESC)
epicsEnvUnset(ECMC_R)
epicsEnvUnset(ECMC_MOTOR_NAME)
epicsEnvUnset(ECMC_EC_AXIS_HEALTH)
epicsEnvUnset(ECMC_MOD_RANGE)
epicsEnvUnset(ECMC_MOD_TYPE)
epicsEnvUnset(ECMC_EMERG_DECEL)
epicsEnvUnset(ECMC_ACCL)
epicsEnvUnset(ECMC_HOME_VEL_TO)
epicsEnvUnset(ECMC_HOME_VEL_FRM)
epicsEnvUnset(ECMC_EC_ENC_ACTPOS)
epicsEnvUnset(ECMC_ENC_SCALE_DENOM)
epicsEnvUnset(ECMC_ENC_SCALE_NUM)
epicsEnvUnset(ECMC_ENC_TYPE)
epicsEnvUnset(ECMC_ENC_BITS)
epicsEnvUnset(ECMC_ENC_ABS_BITS)
epicsEnvUnset(ECMC_ENC_ABS_OFFSET)
epicsEnvUnset(ECMC_ENC_VEL_FILTER_SIZE)
epicsEnvUnset(ECMC_ENC_POS_FILTER_SIZE)
epicsEnvUnset(ECMC_ENC_POS_FILTER_ENABLE)
epicsEnvUnset(ECMC_EC_ENC_RESET)
epicsEnvUnset(ECMC_EC_ENC_ALARM_0)
epicsEnvUnset(ECMC_EC_ENC_ALARM_1)
epicsEnvUnset(ECMC_EC_ENC_ALARM_2)
epicsEnvUnset(ECMC_EC_ENC_WARNING)
epicsEnvUnset(ECMC_EC_MON_LOWLIM)
epicsEnvUnset(ECMC_EC_MON_HIGHLIM)
epicsEnvUnset(ECMC_EC_MON_HOME_SWITCH)
epicsEnvUnset(ECMC_EC_MON_EXT_INTERLOCK)
epicsEnvUnset(ECMC_MON_AT_TARGET_TOL)
epicsEnvUnset(ECMC_MON_AT_TARGET_TIME)
epicsEnvUnset(ECMC_MON_AT_TARGET_ENA)
epicsEnvUnset(ECMC_MON_LAG_MON_TOL)
epicsEnvUnset(ECMC_MON_LAG_MON_TIME)
epicsEnvUnset(ECMC_MON_LAG_MON_ENA)
epicsEnvUnset(ECMC_MON_VELO_MAX)
epicsEnvUnset(ECMC_MON_VELO_MAX_ENA)
epicsEnvUnset(ECMC_MON_VELO_MAX_DRV_TIME)
epicsEnvUnset(ECMC_MON_VELO_MAX_TRAJ_TIME)
epicsEnvUnset(ECMC_MRES)
epicsEnvUnset(ECMC_JOG_VEL)
epicsEnvUnset(ECMC_JAR)
epicsEnvUnset(ECMC_HOME_PROC)
epicsEnvUnset(ECMC_HOME_POS)
epicsEnvUnset(ECMC_HOME_ACC)
epicsEnvUnset(ECMC_HOME_DEC)
epicsEnvUnset(ECMC_DRV_TYPE)
epicsEnvUnset(ECMC_VELO)
epicsEnvUnset(ECMC_SOFT_LOW_LIM)
epicsEnvUnset(ECMC_SOFT_HIGH_LIM)
epicsEnvUnset(ECMC_HOME_POS_MOVE_ENA)
epicsEnvUnset(ECMC_HOME_POS_MOVE_TARG_POS)
# reset PREFIX
epicsEnvSet("ECMC_PREFIX"      "IOC_TEST:")
epicsEnvSet("ID",       "3")
iocshLoad (/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/configureVirtualAxis.cmd, CONFIG=./cfg/linear.vax, ID=3)
#==============================================================================
# configureVirtualAxis.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD, "'FULL'='DAQ'","ecmcExit Error: ECMC started in DAQ mode. Motion not supported..","#-")
epicsEnvUnset(ECMC_EXE_CMD)
epicsEnvSet("ECMC_PREFIX"      "IOC_TEST:")
iocshLoad ./cfg/linear.vax
#General
epicsEnvSet("ECMC_MOTOR_NAME",            "Axis3")
epicsEnvSet("ECMC_R",                     "Axis3-")
epicsEnvSet("ECMC_AXIS_NO",               "3")
epicsEnvSet("ECMC_DESC",                  "MCU1025 Center Position (3)")
epicsEnvSet("ECMC_EGU",                   "mm")                       # Motor Record Unit
epicsEnvSet("ECMC_PREC",                  "3")                        # Motor Record Precision
epicsEnvSet("ECMC_AXISCONFIG",            "")                         # Extra parameters to driver
epicsEnvSet("ECMC_EC_AXIS_HEALTH",        "")                         # Entry for axis health output (example: ec0.s1.binaryOutput01.0)
epicsEnvSet("ECMC_MOD_RANGE" ,            "0")                        # Modulo range (traj setpoints and encoder values will be in range 0..ECMC_MOD_RANGE)
epicsEnvSet("ECMC_MOD_TYPE",              "0")                        # For positioning and MOD_RANGE>0: 0 = Normal, 1 = Always Fwd, 2 = Always Bwd, 3 = Closest Distance
#Encoder
epicsEnvSet("ECMC_ENC_SCALE_NUM"          "1")
epicsEnvSet("ECMC_ENC_SCALE_DENOM"        "1")
epicsEnvSet("ECMC_ENC_TYPE"               "1")                        # Type: 0=Incremental, 1=Absolute
epicsEnvSet("ECMC_ENC_BITS"               "0")                        # Total bit count of encoder raw data
epicsEnvSet("ECMC_ENC_ABS_BITS",          "0")                        # Absolute bit count (for absolute encoders) always least significant part of ECMC_ENC_BITS
epicsEnvSet("ECMC_ENC_ABS_OFFSET"         "0")                        # Encoder offset in eng units (for absolute encoders)
epicsEnvSet("ECMC_EC_ENC_ACTPOS",         "ec0.s1.ZERO")              # Ethercat entry for actual position input (encoder)
epicsEnvSet("ECMC_EC_ENC_RESET",          "")                         # Reset   (if no encoder reset bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_ALARM_0",        "")                         # Error 0 (if no encoder error bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_ALARM_1",        "")                         # Error 1 (if no encoder error bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_ALARM_2",        "")                         # Error 2 (if no encoder error bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_WARNING",        "")                         # Warning (if no encoder warning bit then leave empty)
#Trajectory
epicsEnvSet("ECMC_VELO",                  "5.0")
epicsEnvSet("ECMC_JOG_VEL",               "5")
epicsEnvSet("ECMC_JAR",                   "0.0")                      # JAR defaults to VELO/ACCL
epicsEnvSet("ECMC_ACCL",                  "0.1")
epicsEnvSet("ECMC_EMERG_DECEL",           "0.1")             # Emergency deceleration
#Homing
epicsEnvSet("ECMC_HOME_PROC",             "3")
epicsEnvSet("ECMC_HOME_POS",              "0.0")
epicsEnvSet("ECMC_HOME_VEL_TO",           "5")
epicsEnvSet("ECMC_HOME_VEL_FRM",          "4")
epicsEnvSet("ECMC_HOME_ACC",              "21")
epicsEnvSet("ECMC_HOME_DEC",              "100")
epicsEnvSet("ECMC_HOME_POS_MOVE_ENA",     "0")                        # Enable move to position after successfull homing 
epicsEnvSet("ECMC_HOME_POS_MOVE_TARG_POS","0")                        # Target position to go to after successfull homing
#Monitoring
# Switches
epicsEnvSet("ECMC_EC_MON_LOWLIM",         "ec0.s1.ONE.0")           #  Ethercat entry for low limit switch input
epicsEnvSet("ECMC_EC_MON_HIGHLIM",        "ec0.s1.ONE.0")           #  Ethercat entry for high limit switch inpuit
epicsEnvSet("ECMC_EC_MON_HOME_SWITCH",    "ec0.s1.ONE.0")           #  Ethercat entry for home switch input
epicsEnvSet("ECMC_EC_MON_EXT_INTERLOCK",  "ec0.s1.ONE.0")           #  Ethercat entry for external interlock input
# Softlimits (disable with 0,0)
epicsEnvSet("ECMC_SOFT_LOW_LIM",          "0")
epicsEnvSet("ECMC_SOFT_HIGH_LIM",         "0")
epicsEnvSet("ECMC_DXLM_ENABLE",           "1")
# Position lag
epicsEnvSet("ECMC_MON_LAG_MON_TOL",       "0.5")
epicsEnvSet("ECMC_MON_LAG_MON_TIME",      "100")
epicsEnvSet("ECMC_MON_LAG_MON_ENA",       "0")
# At target
epicsEnvSet("ECMC_MON_AT_TARGET_TOL",     "0.3")
epicsEnvSet("ECMC_MON_AT_TARGET_TIME",    "100")
epicsEnvSet("ECMC_MON_AT_TARGET_ENA",     "1")
# Velocity
epicsEnvSet("ECMC_MON_VELO_MAX",          "200.0")
epicsEnvSet("ECMC_MON_VELO_MAX_TRAJ_TIME","100")
epicsEnvSet("ECMC_MON_VELO_MAX_DRV_TIME", "200")
epicsEnvSet("ECMC_MON_VELO_MAX_ENA",      "1")
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addVirtualAxis.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addVirtualAxis.cmd
#==============================================================================
# addVirtualAxis.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD, "'FULL'='DAQ'","ecmcExit Error: ECMC started in DAQ mode. Motion not supported..","#-")
epicsEnvUnset(ECMC_EXE_CMD)
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis-records.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis-records.cmd
#==============================================================================
# ecmc_virt_axis-records.cmd
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis.cmd",1)
iocshLoad( /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis.cmd )
#==============================================================================
# ecmc_virt_axis.cmd
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/verifyOrDie.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/verifyOrDie.cmd "EXPR_STR='abs(1)<>0',SUCCESS_STR='ECMC_ENC_SCALE_NUM value OK == 1...',ERROR_STR='ECMC_ENC_SCALE_NUM == 0...'"
#==============================================================================
# verifyOrDie.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD,"abs(1)<>0","# ECMC_ENC_SCALE_NUM value OK == 1...", "ecmcExit Error: ECMC_ENC_SCALE_NUM == 0...")
# ECMC_ENC_2022/05/13 08:36:36.181 OK
2022/05/13 08:36:36.181 OK
2022/05/13 08:36:36.181 OK
2022/05/13 08:36:36.181 OK
2022/05/13 08:36:36.182 OK
2022/05/13 08:36:36.182 OK
2022/05/13 08:36:36.182 OK
2022/05/13 08:36:36.182 OK
2022/05/13 08:36:36.182 OK
2022/05/13 08:36:36.182 OK
2022/05/13 08:36:36.182 OK
2022/05/13 08:36:36.182 OK
2022/05/13 08:36:36.182 OK
2022/05/13 08:36:36.183 OK
2022/05/13 08:36:36.183 OK
2022/05/13 08:36:36.183 OK
2022/05/13 08:36:36.183 OK
2022/05/13 08:36:36.183 OK
2022/05/13 08:36:36.183 OK
2022/05/13 08:36:36.183 OK
2022/05/13 08:36:36.183 OK
2022/05/13 08:36:36.183 OK
2022/05/13 08:36:36.184 OK
2022/05/13 08:36:36.184 OK
2022/05/13 08:36:36.184 OK
2022/05/13 08:36:36.184 OK
2022/05/13 08:36:36.184 OK
2022/05/13 08:36:36.184 OK
2022/05/13 08:36:36.184 OK
2022/05/13 08:36:36.184 OK
2022/05/13 08:36:36.184 OK
2022/05/13 08:36:36.184 OK
2022/05/13 08:36:36.185 OK
2022/05/13 08:36:36.185 OK
2022/05/13 08:36:36.185 OK
2022/05/13 08:36:36.185 OK
2022/05/13 08:36:36.185 OK
2022/05/13 08:36:36.185 OK
2022/05/13 08:36:36.185 OK
2022/05/13 08:36:36.185 OK
2022/05/13 08:36:36.185 OK
2022/05/13 08:36:36.186 OK
2022/05/13 08:36:36.186 OK
2022/05/13 08:36:36.186 OK
2022/05/13 08:36:36.186 OK
2022/05/13 08:36:36.186 OK
2022/05/13 08:36:36.186 OK
2022/05/13 08:36:36.186 OK
2022/05/13 08:36:36.186 OK
2022/05/13 08:36:36.187 OK
2022/05/13 08:36:36.187 ecmcMotorRecord:: setIntegerParam(3 motorPowerAutoOnOff_)=2
2022/05/13 08:36:36.187 ecmcMotorRecord:: setDoubleParam(3 motorPowerOnDelay_)=6
2022/05/13 08:36:36.187 ecmcMotorRecord:: setDoubleParam(3 motorPowerOffDelay_=-1
2022/05/13 08:36:36.187 ecmcMotorRecord:: connected(3)
2022/05/13 08:36:36.187 ecmcMotorRecord:: initialPoll(3) status=0
SCALE_NUM value OK == 1...
epicsEnvUnset(ECMC_EXE_CMD)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/verifyOrDie.cmd "EXPR_STR='abs(1)<>0',SUCCESS_STR='ECMC_ENC_SCALE_DENOM value OK == 1...',ERROR_STR='ECMC_ENC_SCALE_DENOM == 0...'"
#==============================================================================
# verifyOrDie.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD,"abs(1)<>0","# ECMC_ENC_SCALE_DENOM value OK == 1...", "ecmcExit Error: ECMC_ENC_SCALE_DENOM == 0...")
# ECMC_ENC_SCALE_DENOM value OK == 1...
epicsEnvUnset(ECMC_EXE_CMD)
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/issueWarning.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/issueWarning.cmd "EXPR_STR='-1>0',WARNING_STR='WARNING: ECMC_MRES setting is deprecated and will not be used. (MRES will be calulated instead: ECMC_ENC_SCALE_NUM/ECMC_ENC_SCALE_DENOM).. '"
#==============================================================================
# issueWarning.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD,"-1>0","", "#-")
epicsEnvUnset(ECMC_EXE_CMD)
ecmcConfigOrDie "Cfg.CreateAxis(3,2)"
ecmcConfigOrDie "Cfg.SetAxisTrajStartPos(3,0)"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax3.health")"
ecmcConfigOrDie "Cfg.SetAxisModRange(3, 0)"
ecmcConfigOrDie "Cfg.SetAxisModType(3, 0)"
ecmcConfigOrDie "Cfg.SetAxisEmergDeceleration(3,0.1)"
ecmcConfigOrDie "Cfg.SetAxisVelAccDecTime(3,5.0,0.1)"
ecmcConfigOrDie "Cfg.SetAxisHomeVelTwordsCam(3,5)"
ecmcConfigOrDie "Cfg.SetAxisHomeVelOffCam(3,4)"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ZERO,"ax3.enc.actpos")"
ecmcConfigOrDie "Cfg.SetAxisEncScaleDenom(3,1)"
ecmcConfigOrDie "Cfg.SetAxisEncScaleNum(3,1)"
ecmcConfigOrDie "Cfg.SetAxisEncType(3,1)"
ecmcConfigOrDie "Cfg.SetAxisEncBits(3,0)"
ecmcConfigOrDie "Cfg.SetAxisEncAbsBits(3,0)"
ecmcConfigOrDie "Cfg.SetAxisEncOffset(3,0)"
ecmcConfigOrDie "Cfg.SetAxisEncVelFilterSize(3,100)"
ecmcConfigOrDie "Cfg.SetAxisEncPosFilterSize(3,1)"
ecmcConfigOrDie "Cfg.SetAxisEncPosFilterEnable(3,0)"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax3.enc.reset")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax3.enc.alarm0")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax3.enc.alarm1")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax3.enc.alarm2")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax3.enc.warning")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax3.enc.latchpos")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax3.enc.latchcontrol")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax3.enc.latchstatus")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax3.mon.lowlim")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax3.mon.highlim")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax3.mon.homesensor")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax3.mon.extinterlock")"
ecmcConfigOrDie "Cfg.SetAxisMonAtTargetTol(3,0.3)"
ecmcConfigOrDie "Cfg.SetAxisMonAtTargetTime(3,100)"
ecmcConfigOrDie "Cfg.SetAxisMonEnableAtTargetMon(3,1)"
ecmcConfigOrDie "Cfg.SetAxisMonPosLagTol(3,0.5)"
ecmcConfigOrDie "Cfg.SetAxisMonPosLagTime(3,100)"
ecmcConfigOrDie "Cfg.SetAxisMonEnableLagMon(3,0)"
ecmcConfigOrDie "Cfg.SetAxisMonMaxVel(3,200.0)"
ecmcConfigOrDie "Cfg.SetAxisMonEnableMaxVel(3,1)"
ecmcConfigOrDie "Cfg.SetAxisMonMaxVelDriveILDelay(3,200)"
ecmcConfigOrDie "Cfg.SetAxisMonMaxVelTrajILDelay(3,100)"
ecmcConfigOrDie "Cfg.SetAxisSoftLimitPosBwd(3,0)"
ecmcConfigOrDie "Cfg.SetAxisEnableSoftLimitBwd(3,1)"
ecmcConfigOrDie "Cfg.SetAxisSoftLimitPosFwd(3,0)"
ecmcConfigOrDie "Cfg.SetAxisEnableSoftLimitFwd(3,1)"
ecmcConfigOrDie "Cfg.SetAxisMonHomeSwitchPolarity(3,0)"
ecmcConfigOrDie "Cfg.SetAxisHomeLatchCountOffset(3,0)"
ecmcConfigOrDie "Main.M3.fHomePosition=0.0"
ecmcConfigOrDie "Cfg.SetAxisHomePostMoveEnable(3, 0)"
ecmcConfigOrDie "Cfg.SetAxisHomePostMoveTargetPosition(3, 0)"
ecmcMotorRecordCreateAxis(MCU1, "3", "6", "")
ecmcEpicsEnvSetCalc("ECMC_TEMP_SREV","if(abs(1)>0){RESULT:=abs(1);} else {RESULT:=1.0};","%d")
ecmcEpicsEnvSetCalc("ECMC_TEMP_UREV","if(abs(1)>0){RESULT:=abs(1);} else {RESULT:=1.0};","%lf")
ecmcFileExist(ecmcMotorRecord.template,1,1)
dbLoadRecords(ecmcMotorRecord.template, "PREFIX=IOC_TEST:, MOTOR_NAME=Axis3, MOTOR_PORT=MCU1, AXIS_NO=3, DESC=MCU1025 Center Position (3), EGU=mm, PREC=3, VELO=5.0, JVEL=5, JAR=0.0, ACCL=0.1, RDBD=0.3, DLLM=0, DHLM=0, HOMEPROC=3,SREV=1,UREV=1.000000, ")
epicsEnvSet("ECMC_AXISFIELDINIT",  "")
ecmcFileExist(ecmcMotorRecord"home.template",1,1)
dbLoadRecords(ecmcMotorRecord"home.template", "PREFIX=IOC_TEST:, MOTOR_NAME=Axis3, MOTOR_PORT=MCU1, AXIS_NO=3,HOMEPROC=3, HOMEPOS=0.0, HVELTO=5, HVELFRM=4, HOMEACC=21, HOMEDEC=100")
epicsEnvUnset(ECMC_TEMP_SREV)
epicsEnvUnset(ECMC_TEMP_UREV)
ecmcFileExist("ecmcAxis.db",1,1)
dbLoadRecords("ecmcAxis.db","P=IOC_TEST:,AXIS_NAME=Axis3,AXIS_NO=3,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,T_SMP_MS=10,TSE=-2")
ecmcFileExist("ecmcAxisType.db",1,1)
dbLoadRecords("ecmcAxisType.db","P=IOC_TEST:,AXIS_NAME=Axis3,AXIS_TYPE=2")
ecmcFileExist(/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis_unset.cmd,1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis_unset.cmd
#==============================================================================
# ecmc_virt_axis_unset.cmd
epicsEnvUnset(ECMC_AXISCONFIG)
epicsEnvUnset(ECMC_AXISFIELDINIT)
epicsEnvUnset(ECMC_PREC)
epicsEnvUnset(ECMC_EGU)
epicsEnvUnset(ECMC_DESC)
epicsEnvUnset(ECMC_R)
epicsEnvUnset(ECMC_MOTOR_NAME)
epicsEnvUnset(ECMC_EC_AXIS_HEALTH)
epicsEnvUnset(ECMC_MOD_RANGE)
epicsEnvUnset(ECMC_MOD_TYPE)
epicsEnvUnset(ECMC_EMERG_DECEL)
epicsEnvUnset(ECMC_ACCL)
epicsEnvUnset(ECMC_HOME_VEL_TO)
epicsEnvUnset(ECMC_HOME_VEL_FRM)
epicsEnvUnset(ECMC_EC_ENC_ACTPOS)
epicsEnvUnset(ECMC_ENC_SCALE_DENOM)
epicsEnvUnset(ECMC_ENC_SCALE_NUM)
epicsEnvUnset(ECMC_ENC_TYPE)
epicsEnvUnset(ECMC_ENC_BITS)
epicsEnvUnset(ECMC_ENC_ABS_BITS)
epicsEnvUnset(ECMC_ENC_ABS_OFFSET)
epicsEnvUnset(ECMC_ENC_VEL_FILTER_SIZE)
epicsEnvUnset(ECMC_ENC_POS_FILTER_SIZE)
epicsEnvUnset(ECMC_ENC_POS_FILTER_ENABLE)
epicsEnvUnset(ECMC_EC_ENC_RESET)
epicsEnvUnset(ECMC_EC_ENC_ALARM_0)
epicsEnvUnset(ECMC_EC_ENC_ALARM_1)
epicsEnvUnset(ECMC_EC_ENC_ALARM_2)
epicsEnvUnset(ECMC_EC_ENC_WARNING)
epicsEnvUnset(ECMC_EC_MON_LOWLIM)
epicsEnvUnset(ECMC_EC_MON_HIGHLIM)
epicsEnvUnset(ECMC_EC_MON_HOME_SWITCH)
epicsEnvUnset(ECMC_EC_MON_EXT_INTERLOCK)
epicsEnvUnset(ECMC_MON_AT_TARGET_TOL)
epicsEnvUnset(ECMC_MON_AT_TARGET_TIME)
epicsEnvUnset(ECMC_MON_AT_TARGET_ENA)
epicsEnvUnset(ECMC_MON_LAG_MON_TOL)
epicsEnvUnset(ECMC_MON_LAG_MON_TIME)
epicsEnvUnset(ECMC_MON_LAG_MON_ENA)
epicsEnvUnset(ECMC_MON_VELO_MAX)
epicsEnvUnset(ECMC_MON_VELO_MAX_ENA)
epicsEnvUnset(ECMC_MON_VELO_MAX_DRV_TIME)
epicsEnvUnset(ECMC_MON_VELO_MAX_TRAJ_TIME)
epicsEnvUnset(ECMC_MRES)
epicsEnvUnset(ECMC_JOG_VEL)
epicsEnvUnset(ECMC_JAR)
epicsEnvUnset(ECMC_HOME_PROC)
epicsEnvUnset(ECMC_HOME_POS)
epicsEnvUnset(ECMC_HOME_ACC)
epicsEnvUnset(ECMC_HOME_DEC)
epicsEnvUnset(ECMC_DRV_TYPE)
epicsEnvUnset(ECMC_VELO)
epicsEnvUnset(ECMC_SOFT_LOW_LIM)
epicsEnvUnset(ECMC_SOFT_HIGH_LIM)
epicsEnvUnset(ECMC_HOME_POS_MOVE_ENA)
epicsEnvUnset(ECMC_HOME_POS_MOVE_TARG_POS)
# reset PREFIX
epicsEnvSet("ECMC_PREFIX"      "IOC_TEST:")
epicsEnvSet("ID",       "4")
iocshLoad (/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/configureVirtualAxis.cmd, CONFIG=./cfg/linear.vax, ID=4)
#==============================================================================
# configureVirtualAxis.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD, "'FULL'='DAQ'","ecmcExit Error: ECMC started in DAQ mode. Motion not supported..","#-")
epicsEnvUnset(ECMC_EXE_CMD)
epicsEnvSet("ECMC_PREFIX"      "IOC_TEST:")
iocshLoad ./cfg/linear.vax
#General
epicsEnvSet("ECMC_MOTOR_NAME",            "Axis4")
epicsEnvSet("ECMC_R",                     "Axis4-")
epicsEnvSet("ECMC_AXIS_NO",               "4")
epicsEnvSet("ECMC_DESC",                  "MCU1025 Center Position (4)")
epicsEnvSet("ECMC_EGU",                   "mm")                       # Motor Record Unit
epicsEnvSet("ECMC_PREC",                  "3")                        # Motor Record Precision
epicsEnvSet("ECMC_AXISCONFIG",            "")                         # Extra parameters to driver
epicsEnvSet("ECMC_EC_AXIS_HEALTH",        "")                         # Entry for axis health output (example: ec0.s1.binaryOutput01.0)
epicsEnvSet("ECMC_MOD_RANGE" ,            "0")                        # Modulo range (traj setpoints and encoder values will be in range 0..ECMC_MOD_RANGE)
epicsEnvSet("ECMC_MOD_TYPE",              "0")                        # For positioning and MOD_RANGE>0: 0 = Normal, 1 = Always Fwd, 2 = Always Bwd, 3 = Closest Distance
#Encoder
epicsEnvSet("ECMC_ENC_SCALE_NUM"          "1")
epicsEnvSet("ECMC_ENC_SCALE_DENOM"        "1")
epicsEnvSet("ECMC_ENC_TYPE"               "1")                        # Type: 0=Incremental, 1=Absolute
epicsEnvSet("ECMC_ENC_BITS"               "0")                        # Total bit count of encoder raw data
epicsEnvSet("ECMC_ENC_ABS_BITS",          "0")                        # Absolute bit count (for absolute encoders) always least significant part of ECMC_ENC_BITS
epicsEnvSet("ECMC_ENC_ABS_OFFSET"         "0")                        # Encoder offset in eng units (for absolute encoders)
epicsEnvSet("ECMC_EC_ENC_ACTPOS",         "ec0.s1.ZERO")              # Ethercat entry for actual position input (encoder)
epicsEnvSet("ECMC_EC_ENC_RESET",          "")                         # Reset   (if no encoder reset bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_ALARM_0",        "")                         # Error 0 (if no encoder error bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_ALARM_1",        "")                         # Error 1 (if no encoder error bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_ALARM_2",        "")                         # Error 2 (if no encoder error bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_WARNING",        "")                         # Warning (if no encoder warning bit then leave empty)
#Trajectory
epicsEnvSet("ECMC_VELO",                  "5.0")
epicsEnvSet("ECMC_JOG_VEL",               "5")
epicsEnvSet("ECMC_JAR",                   "0.0")                      # JAR defaults to VELO/ACCL
epicsEnvSet("ECMC_ACCL",                  "0.1")
epicsEnvSet("ECMC_EMERG_DECEL",           "0.1")             # Emergency deceleration
#Homing
epicsEnvSet("ECMC_HOME_PROC",             "3")
epicsEnvSet("ECMC_HOME_POS",              "0.0")
epicsEnvSet("ECMC_HOME_VEL_TO",           "5")
epicsEnvSet("ECMC_HOME_VEL_FRM",          "4")
epicsEnvSet("ECMC_HOME_ACC",              "21")
epicsEnvSet("ECMC_HOME_DEC",              "100")
epicsEnvSet("ECMC_HOME_POS_MOVE_ENA",     "0")                        # Enable move to position after successfull homing 
epicsEnvSet("ECMC_HOME_POS_MOVE_TARG_POS","0")                        # Target position to go to after successfull homing
#Monitoring
# Switches
epicsEnvSet("ECMC_EC_MON_LOWLIM",         "ec0.s1.ONE.0")           #  Ethercat entry for low limit switch input
epicsEnvSet("ECMC_EC_MON_HIGHLIM",        "ec0.s1.ONE.0")           #  Ethercat entry for high limit switch inpuit
epicsEnvSet("ECMC_EC_MON_HOME_SWITCH",    "ec0.s1.ONE.0")           #  Ethercat entry for home switch input
epicsEnvSet("ECMC_EC_MON_EXT_INTERLOCK",  "ec0.s1.ONE.0")           #  Ethercat entry for external interlock input
# Softlimits (disable with 0,0)
epicsEnvSet("ECMC_SOFT_LOW_LIM",          "0")
epicsEnvSet("ECMC_SOFT_HIGH_LIM",         "0")
epicsEnvSet("ECMC_DXLM_ENABLE",           "1")
# Position lag
epicsEnvSet("ECMC_MON_LAG_MON_TOL",       "0.5")
epicsEnvSet("ECMC_MON_LAG_MON_TIME",      "100")
epicsEnvSet("ECMC_MON_LAG_MON_ENA",       "0")
# At target
epicsEnvSet("ECMC_MON_AT_TARGET_TOL",     "0.3")
epicsEnvSet("ECMC_MON_AT_TARGET_TIME",    "100")
epicsEnvSet("ECMC_MON_AT_TARGET_ENA",     "1")
# Velocity
epicsEnvSet("ECMC_MON_VELO_MAX",          "200.0")
epicsEnvSet("ECMC_MON_VELO_MAX_TRAJ_TIME","100")
epicsEnvSet("ECMC_MON_VELO_MAX_DRV_TIME", "200")
epicsEnvSet("ECMC_MON_VELO_MAX_ENA",      "1")
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addVirtualAxis.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addVirtualAxis.cmd
#===========================================================================2022/05/13 08:36:36.197 OK
2022/05/13 08:36:36.197 OK
2022/05/13 08:36:36.197 OK
2022/05/13 08:36:36.197 OK
2022/05/13 08:36:36.197 OK
2022/05/13 08:36:36.198 OK
2022/05/13 08:36:36.198 OK
2022/05/13 08:36:36.198 OK
2022/05/13 08:36:36.198 OK
2022/05/13 08:36:36.198 OK
2022/05/13 08:36:36.198 OK
2022/05/13 08:36:36.198 OK
2022/05/13 08:36:36.198 OK
2022/05/13 08:36:36.198 OK
2022/05/13 08:36:36.199 OK
2022/05/13 08:36:36.199 OK
2022/05/13 08:36:36.199 OK
2022/05/13 08:36:36.199 OK
2022/05/13 08:36:36.199 OK
2022/05/13 08:36:36.199 OK
2022/05/13 08:36:36.199 OK
2022/05/13 08:36:36.199 OK
2022/05/13 08:36:36.199 OK
2022/05/13 08:36:36.200 OK
2022/05/13 08:36:36.200 OK
2022/05/13 08:36:36.200 OK
2022/05/13 08:36:36.200 OK
2022/05/13 08:36:36.200 OK
2022/05/13 08:36:36.200 OK
2022/05/13 08:36:36.200 OK
===
# addVirtualAxis.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD, "'FULL'='DAQ'","ecmcExit Error: ECMC started in DAQ mode. Motion not supported..","#-")
epicsEnvUnset(ECMC_EXE_CMD)
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis-records.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis-records.cmd
#==============================================================================
# ecmc_virt_axis-records.cmd
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis.cmd",1)
iocshLoad( /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis.cmd )
#==============================================================================
# ecmc_virt_axis.cmd
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/verifyOrDie.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/verifyOrDie.cmd "EXPR_STR='abs(1)<>0',SUCCESS_STR='ECMC_ENC_SCALE_NUM value OK == 1...',ERROR_STR='ECMC_ENC_SCALE_NUM == 0...'"
#==============================================================================
# verifyOrDie.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD,"abs(1)<>0","# ECMC_ENC_SCALE_NUM value OK == 1...", "ecmcExit Error: ECMC_ENC_SCALE_NUM == 0...")
# ECMC_ENC_SCALE_NUM value OK == 1...
epicsEnvUnset(ECMC_EXE_CMD)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/verifyOrDie.cmd "EXPR_STR='abs(1)<>0',SUCCESS_STR='ECMC_ENC_SCALE_DENOM value OK == 1...',ERROR_STR='ECMC_ENC_SCALE_DENOM == 0...'"
#==============================================================================
# verifyOrDie.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD,"abs(1)<>0","# ECMC_ENC_SCALE_DENOM value OK == 1...", "ecmcExit Error: ECMC_ENC_SCALE_DENOM == 0...")
# ECMC_ENC_SCALE_DENOM value OK == 1...
epicsEnvUnset(ECMC_EXE_CMD)
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/issueWarning.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/issueWarning.cmd "EXPR_STR='-1>0',WARNING_STR='WARNING: ECMC_MRES setting is deprecated and will not be used. (MRES will be calulated instead: ECMC_ENC_SCALE_NUM/ECMC_ENC_SCALE_DENOM).. '"
#==============================================================================
# issueWarning.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD,"-1>0","", "#-")
epicsEnvUnset(ECMC_EXE_CMD)
ecmcConfigOrDie "Cfg.CreateAxis(4,2)"
ecmcConfigOrDie "Cfg.SetAxisTrajStartPos(4,0)"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax4.health")"
ecmcConfigOrDie "Cfg.SetAxisModRange(4, 0)"
ecmcConfigOrDie "Cfg.SetAxisModType(4, 0)"
ecmcConfigOrDie "Cfg.SetAxisEmergDeceleration(4,0.1)"
ecmcConfigOrDie "Cfg.SetAxisVelAccDecTime(4,5.0,0.1)"
ecmcConfigOrDie "Cfg.SetAxisHomeVelTwordsCam(4,5)"
ecmcConfigOrDie "Cfg.SetAxisHomeVelOffCam(4,4)"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ZERO,"ax4.enc.actpos")"
ecmcConfigOrDie "Cfg.SetAxisEncScaleDenom(4,1)"
ecmcConfigOrDie "Cfg.SetAxisEncScaleNum(4,1)"
ecmcConfigOrDie "Cfg.SetAxisEncType(4,1)"
ecmcConfigOrDie "Cfg.SetAxisEncBits(4,0)"
ecmcConfigOrDie "Cfg.SetAxisEncAbsBits(4,0)"
ecmcConfigOrDie "Cfg.SetAxisEncOffset(4,0)"
ecmcConfigOrDie "Cfg.SetAxisEncVelFilterSize(4,100)"
ecmcConfigOrDie "Cfg.SetAxisEncPosFilterSize(4,1)"
ecmcConfigOrDie "Cfg.SetAxisEncPosFilterEnable(4,0)"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax4.enc.reset")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax4.enc.alarm0")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax4.enc.alarm1")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax4.enc.alarm2")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax4.enc.warning")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax4.enc.latchpos")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax4.enc.latchcontrol")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax4.enc.latchstatus")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax4.mon.lowlim")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax4.mon.highlim")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax4.mon.homesensor")"
ecmcConfigOrDie "Cfg.LinkEcEntryToO2022/05/13 08:36:36.201 OK
2022/05/13 08:36:36.201 OK
2022/05/13 08:36:36.201 OK
2022/05/13 08:36:36.201 OK
2022/05/13 08:36:36.201 OK
2022/05/13 08:36:36.201 OK
2022/05/13 08:36:36.201 OK
2022/05/13 08:36:36.201 OK
2022/05/13 08:36:36.202 OK
2022/05/13 08:36:36.202 OK
2022/05/13 08:36:36.202 OK
2022/05/13 08:36:36.202 OK
2022/05/13 08:36:36.202 OK
2022/05/13 08:36:36.202 OK
2022/05/13 08:36:36.202 OK
2022/05/13 08:36:36.202 OK
2022/05/13 08:36:36.202 OK
2022/05/13 08:36:36.203 OK
2022/05/13 08:36:36.203 OK
2022/05/13 08:36:36.203 OK
2022/05/13 08:36:36.203 ecmcMotorRecord:: setIntegerParam(4 motorPowerAutoOnOff_)=2
2022/05/13 08:36:36.203 ecmcMotorRecord:: setDoubleParam(4 motorPowerOnDelay_)=6
2022/05/13 08:36:36.203 ecmcMotorRecord:: setDoubleParam(4 motorPowerOffDelay_=-1
2022/05/13 08:36:36.203 ecmcMotorRecord:: connected(4)
2022/05/13 08:36:36.203 ecmcMotorRecord:: initialPoll(4) status=0
bject(ec0.s1.ONE.0,"ax4.mon.extinterlock")"
ecmcConfigOrDie "Cfg.SetAxisMonAtTargetTol(4,0.3)"
ecmcConfigOrDie "Cfg.SetAxisMonAtTargetTime(4,100)"
ecmcConfigOrDie "Cfg.SetAxisMonEnableAtTargetMon(4,1)"
ecmcConfigOrDie "Cfg.SetAxisMonPosLagTol(4,0.5)"
ecmcConfigOrDie "Cfg.SetAxisMonPosLagTime(4,100)"
ecmcConfigOrDie "Cfg.SetAxisMonEnableLagMon(4,0)"
ecmcConfigOrDie "Cfg.SetAxisMonMaxVel(4,200.0)"
ecmcConfigOrDie "Cfg.SetAxisMonEnableMaxVel(4,1)"
ecmcConfigOrDie "Cfg.SetAxisMonMaxVelDriveILDelay(4,200)"
ecmcConfigOrDie "Cfg.SetAxisMonMaxVelTrajILDelay(4,100)"
ecmcConfigOrDie "Cfg.SetAxisSoftLimitPosBwd(4,0)"
ecmcConfigOrDie "Cfg.SetAxisEnableSoftLimitBwd(4,1)"
ecmcConfigOrDie "Cfg.SetAxisSoftLimitPosFwd(4,0)"
ecmcConfigOrDie "Cfg.SetAxisEnableSoftLimitFwd(4,1)"
ecmcConfigOrDie "Cfg.SetAxisMonHomeSwitchPolarity(4,0)"
ecmcConfigOrDie "Cfg.SetAxisHomeLatchCountOffset(4,0)"
ecmcConfigOrDie "Main.M4.fHomePosition=0.0"
ecmcConfigOrDie "Cfg.SetAxisHomePostMoveEnable(4, 0)"
ecmcConfigOrDie "Cfg.SetAxisHomePostMoveTargetPosition(4, 0)"
ecmcMotorRecordCreateAxis(MCU1, "4", "6", "")
ecmcEpicsEnvSetCalc("ECMC_TEMP_SREV","if(abs(1)>0){RESULT:=abs(1);} else {RESULT:=1.0};","%d")
ecmcEpicsEnvSetCalc("ECMC_TEMP_UREV","if(abs(1)>0){RESULT:=abs(1);} else {RESULT:=1.0};","%lf")
ecmcFileExist(ecmcMotorRecord.template,1,1)
dbLoadRecords(ecmcMotorRecord.template, "PREFIX=IOC_TEST:, MOTOR_NAME=Axis4, MOTOR_PORT=MCU1, AXIS_NO=4, DESC=MCU1025 Center Position (4), EGU=mm, PREC=3, VELO=5.0, JVEL=5, JAR=0.0, ACCL=0.1, RDBD=0.3, DLLM=0, DHLM=0, HOMEPROC=3,SREV=1,UREV=1.000000, ")
epicsEnvSet("ECMC_AXISFIELDINIT",  "")
ecmcFileExist(ecmcMotorRecord"home.template",1,1)
dbLoadRecords(ecmcMotorRecord"home.template", "PREFIX=IOC_TEST:, MOTOR_NAME=Axis4, MOTOR_PORT=MCU1, AXIS_NO=4,HOMEPROC=3, HOMEPOS=0.0, HVELTO=5, HVELFRM=4, HOMEACC=21, HOMEDEC=100")
epicsEnvUnset(ECMC_TEMP_SREV)
epicsEnvUnset(ECMC_TEMP_UREV)
ecmcFileExist("ecmcAxis.db",1,1)
dbLoadRecords("ecmcAxis.db","P=IOC_TEST:,AXIS_NAME=Axis4,AXIS_NO=4,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,T_SMP_MS=10,TSE=-2")
ecmcFileExist("ecmcAxisType.db",1,1)
dbLoadRecords("ecmcAxisType.db","P=IOC_TEST:,AXIS_NAME=Axis4,AXIS_TYPE=2")
ecmcFileExist(/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis_unset.cmd,1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis_unset.cmd
#==============================================================================
# ecmc_virt_axis_unset.cmd
epicsEnvUnset(ECMC_AXISCONFIG)
epicsEnvUnset(ECMC_AXISFIELDINIT)
epicsEnvUnset(ECMC_PREC)
epicsEnvUnset(ECMC_EGU)
epicsEnvUnset(ECMC_DESC)
epicsEnvUnset(ECMC_R)
epicsEnvUnset(ECMC_MOTOR_NAME)
epicsEnvUnset(ECMC_EC_AXIS_HEALTH)
epicsEnvUnset(ECMC_MOD_RANGE)
epicsEnvUnset(ECMC_MOD_TYPE)
epicsEnvUnset(ECMC_EMERG_DECEL)
epicsEnvUnset(ECMC_ACCL)
epicsEnvUnset(ECMC_HOME_VEL_TO)
epicsEnvUnset(ECMC_HOME_VEL_FRM)
epicsEnvUnset(ECMC_EC_ENC_ACTPOS)
epicsEnvUnset(ECMC_ENC_SCALE_DENOM)
epicsEnvUnset(ECMC_ENC_SCALE_NUM)
epicsEnvUnset(ECMC_ENC_TYPE)
epicsEnvUnset(ECMC_ENC_BITS)
epicsEnvUnset(ECMC_ENC_ABS_BITS)
epicsEnvUnset(ECMC_ENC_ABS_OFFSET)
epicsEnvUnset(ECMC_ENC_VEL_FILTER_SIZE)
epicsEnvUnset(ECMC_ENC_POS_FILTER_SIZE)
epicsEnvUnset(ECMC_ENC_POS_FILTER_ENABLE)
epicsEnvUnset(ECMC_EC_ENC_RESET)
epicsEnvUnset(ECMC_EC_ENC_ALARM_0)
epicsEnvUnset(ECMC_EC_ENC_ALARM_1)
epicsEnvUnset(ECMC_EC_ENC_ALARM_2)
epicsEnvUnset(ECMC_EC_ENC_WARNING)
epicsEnvUnset(ECMC_EC_MON_LOWLIM)
epicsEnvUnset(ECMC_EC_MON_HIGHLIM)
epicsEnvUnset(ECMC_EC_MON_HOME_SWITCH)
epicsEnvUnset(ECMC_EC_MON_EXT_INTERLOCK)
epicsEnvUnset(ECMC_MON_AT_TARGET_TOL)
epicsEnvUnset(ECMC_MON_AT_TARGET_TIME)
epicsEnvUnset(ECMC_MON_AT_TARGET_ENA)
epicsEnvUnset(ECMC_MON_LAG_MON_TOL)
epicsEnvUnset(ECMC_MON_LAG_MON_TIME)
epicsEnvUnset(ECMC_MON_LAG_MON_ENA)
epicsEnvUnset(ECMC_MON_VELO_MAX)
epicsEnvUnset(ECMC_MON_VELO_MAX_ENA)
epicsEnvUnset(ECMC_MON_VELO_MAX_DRV_TIME)
epicsEnvUnset(ECMC_MON_VELO_MAX_TRAJ_TIME)
epicsEnvUnset(ECMC_MRES)
epicsEnvUnset(ECMC_JOG_VEL)
epicsEnvUnset(ECMC_JAR)
epicsEnvUnset(ECMC_HOME_PROC)
epicsEnvUnset(ECMC_HOME_POS)
epicsEnvUnset(ECMC_HOME_ACC)
epicsEnvUnset(ECMC_HOME_DEC)
epicsEnvUnset(ECMC_DRV_TYPE)
epicsEnvUnset(ECMC_VELO)
epicsEnvUnset(ECMC_SOFT_LOW_LIM)
epicsEnvUnset(ECMC_SOFT_HIGH_LIM)
epicsEnvUnset(ECMC_HOME_POS_MOVE_ENA)
epicsEnvUnset(ECMC_HOME_POS_MOVE_TARG_POS)
# reset PREFIX
epicsEnvSet("ECMC_PREFIX"      "IOC_TEST:")
epicsEnvSet("ID",       "5")
iocshLoad (/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/configureVirtualAxis.cmd, CONFIG=./cfg/linear.vax, ID=5)
#==============================================================================
# configureVirtualAxis.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD, "'FULL'='DAQ'","ecmcExit Error: ECMC started in DAQ mode. Motion not supported..","#-")
epicsEnvUnset(ECMC_EXE_CMD)
epicsEnvSet("ECMC_PREFIX"      "IOC_TEST:")
iocshLoad ./cfg/linear.vax
#General
epicsEnvSet("ECMC_MOTOR_NAME",            "Axis5")
epicsEnvSet("ECMC_R",                     "Axis5-")
epicsEnvSet("ECMC_AXIS_NO",               "5")
epicsEnvSet("ECMC_DESC",                  "MCU1025 Center Position (5)")
epicsEnvSet("ECMC_EGU",                   "mm")                       # Motor Record Unit
epicsEnvSet("ECMC_PREC",                  "3")                        # Motor Record Precision
epicsEnvSet("ECMC_AXISCONFIG",            "")                         # Extra parameters to driver
epicsEnvSet("ECMC_EC_AXIS_HEALTH",        "")                         # Entry for axis health output (example: ec0.s1.binaryOutput01.0)
epicsEnvSet("ECMC_MOD_RANGE" ,            "0")                        # Modulo range (traj setpoints and encoder values will be in range 0..ECMC_MOD_RANGE)
epicsEnvSet("ECMC_MOD_TYPE",              "0")                        # For positioning and MOD_RANGE>0: 0 = Normal, 1 = Always Fwd, 2 = Always Bwd, 3 = Closest Distance
#Encoder
epicsEnvSet("ECMC_ENC_SCALE_NUM"          "1")
epicsEnvSet("ECMC_ENC_SCALE_DENOM"        "1")
epicsEnvSet("ECMC_ENC_TYPE"               "1")                        # Type: 0=Incremental, 1=Absolute
epicsEnvSet("ECMC_ENC_BITS"               "0")                        # Total bit count of encoder raw data
epicsEnvSet("ECMC_ENC_ABS_BITS",          "0")                        # Absolute bit count (for absolute encoders) always least significant part of ECMC_ENC_BITS
epicsEnvSet("ECMC_ENC_ABS_OFFSET"         "0")                        # Encoder offset in eng units (for absolute encoders)
epicsEnvSet("ECMC_EC_ENC_ACTPOS",         "ec0.s1.ZERO")              # Ethercat entry for actual position input (encoder)
epicsEnvSet("ECMC_EC_ENC_RESET",          "")                         # Reset   (if no encoder reset bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_ALARM_0",        "")                         # Error 0 (if no encoder error bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_ALARM_1",        "")                         # Error 1 (if no encoder error bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_ALARM_2",        "")                         # Error 2 (if no encoder error bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_WARNING",        "")                         # Warning (if no encoder warning bit then leave empty)
#Trajectory
epicsEnvSet("ECMC_VELO",                  "5.0")
epicsEnvSet("ECMC_JOG_VEL",               "5")
epicsEnvSet("ECMC_JAR",                   "0.0")                      # JAR defaults to VELO/ACCL
epicsEnvSet("ECMC_ACCL",                  "0.1")
epicsEnvSet("ECMC_EMERG_DECEL",           "0.1")             # Emergency deceleration
#Homing
epicsEnvSet("ECMC_HOME_PROC",             "3")
epicsEnvSet("ECMC_HOME_POS",              "0.0")
epicsEnvSet("ECMC_HOME_VEL_TO",           "5")
epicsEnvSet("ECMC_HOME_VEL_FRM",          "4")
epicsEnvSet("ECMC_HOME_ACC",              "21")
epicsEnvSet("ECMC_HOME_DEC",              "100")
epicsEnvSet("ECMC_HOME_POS_MOVE_ENA",     "0")                        # Enable move to position after successfull homing 
epicsEnvSet("ECMC_HOME_POS_MOVE_TARG_POS","0")                        # Target position to go to after successfull homing
#Monitoring
# Switches
epicsEnvSet("ECMC_EC_MON_LOWLIM",         "ec0.s1.ONE.0")           #  Ethercat entry for low lim2022/05/13 08:36:36.213 OK
2022/05/13 08:36:36.213 OK
2022/05/13 08:36:36.213 OK
2022/05/13 08:36:36.213 OK
2022/05/13 08:36:36.213 OK
2022/05/13 08:36:36.213 OK
2022/05/13 08:36:36.213 OK
it switch input
epicsEnvSet("ECMC_EC_MON_HIGHLIM",        "ec0.s1.ONE.0")           #  Ethercat entry for high limit switch inpuit
epicsEnvSet("ECMC_EC_MON_HOME_SWITCH",    "ec0.s1.ONE.0")           #  Ethercat entry for home switch input
epicsEnvSet("ECMC_EC_MON_EXT_INTERLOCK",  "ec0.s1.ONE.0")           #  Ethercat entry for external interlock input
# Softlimits (disable with 0,0)
epicsEnvSet("ECMC_SOFT_LOW_LIM",          "0")
epicsEnvSet("ECMC_SOFT_HIGH_LIM",         "0")
epicsEnvSet("ECMC_DXLM_ENABLE",           "1")
# Position lag
epicsEnvSet("ECMC_MON_LAG_MON_TOL",       "0.5")
epicsEnvSet("ECMC_MON_LAG_MON_TIME",      "100")
epicsEnvSet("ECMC_MON_LAG_MON_ENA",       "0")
# At target
epicsEnvSet("ECMC_MON_AT_TARGET_TOL",     "0.3")
epicsEnvSet("ECMC_MON_AT_TARGET_TIME",    "100")
epicsEnvSet("ECMC_MON_AT_TARGET_ENA",     "1")
# Velocity
epicsEnvSet("ECMC_MON_VELO_MAX",          "200.0")
epicsEnvSet("ECMC_MON_VELO_MAX_TRAJ_TIME","100")
epicsEnvSet("ECMC_MON_VELO_MAX_DRV_TIME", "200")
epicsEnvSet("ECMC_MON_VELO_MAX_ENA",      "1")
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addVirtualAxis.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addVirtualAxis.cmd
#==============================================================================
# addVirtualAxis.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD, "'FULL'='DAQ'","ecmcExit Error: ECMC started in DAQ mode. Motion not supported..","#-")
epicsEnvUnset(ECMC_EXE_CMD)
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis-records.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis-records.cmd
#==============================================================================
# ecmc_virt_axis-records.cmd
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis.cmd",1)
iocshLoad( /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis.cmd )
#==============================================================================
# ecmc_virt_axis.cmd
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/verifyOrDie.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/verifyOrDie.cmd "EXPR_STR='abs(1)<>0',SUCCESS_STR='ECMC_ENC_SCALE_NUM value OK == 1...',ERROR_STR='ECMC_ENC_SCALE_NUM == 0...'"
#==============================================================================
# verifyOrDie.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD,"abs(1)<>0","# ECMC_ENC_SCALE_NUM value OK == 1...", "ecmcExit Error: ECMC_ENC_SCALE_NUM == 0...")
# ECMC_ENC_SCALE_NUM value OK == 1...
epicsEnvUnset(ECMC_EXE_CMD)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/verifyOrDie.cmd "EXPR_STR='abs(1)<>0',SUCCESS_STR='ECMC_ENC_SCALE_DENOM value OK == 1...',ERROR_STR='ECMC_ENC_SCALE_DENOM == 0...'"
#==============================================================================
# verifyOrDie.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD,"abs(1)<>0","# ECMC_ENC_SCALE_DENOM value OK == 1...", "ecmcExit Error: ECMC_ENC_SCALE_DENOM == 0...")
# ECMC_ENC_SCALE_DENOM value OK == 1...
epicsEnvUnset(ECMC_EXE_CMD)
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/issueWarning.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/issueWarning.cmd "EXPR_STR='-1>0',WARNING_STR='WARNING: ECMC_MRES setting is deprecated and will not be used. (MRES will be calulated instead: ECMC_ENC_SCALE_NUM/ECMC_ENC_SCALE_DENOM).. '"
#==============================================================================
# issueWarning.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD,"-1>0","", "#-")
epicsEnvUnset(ECMC_EXE_CMD)
ecmcConfigOrDie "Cfg.CreateAxis(5,2)"
ecmcConfigOrDie "Cfg.SetAxisTrajStartPos(5,0)"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax5.health")"
ecmcConfigOrDie "Cfg.SetAxisModRange(5, 0)"
ecmcConfigOrDie "Cfg.SetAxisModType(5, 0)"
ecmcConfigOrDie "Cfg.SetAxisEmergDeceleration(5,0.1)"
ecmcConfigOrDie "Cfg.SetAxisVelAccDecTime(5,5.0,0.1)"
ecmcConfigOrDie "Cfg.SetAxisHomeVelTwordsCam(5,2022/05/13 08:36:36.214 OK
2022/05/13 08:36:36.214 OK
2022/05/13 08:36:36.214 OK
2022/05/13 08:36:36.214 OK
2022/05/13 08:36:36.214 OK
2022/05/13 08:36:36.214 OK
2022/05/13 08:36:36.214 OK
2022/05/13 08:36:36.215 OK
2022/05/13 08:36:36.215 OK
2022/05/13 08:36:36.215 OK
2022/05/13 08:36:36.215 OK
2022/05/13 08:36:36.215 OK
2022/05/13 08:36:36.215 OK
2022/05/13 08:36:36.215 OK
2022/05/13 08:36:36.215 OK
2022/05/13 08:36:36.215 OK
2022/05/13 08:36:36.215 OK
2022/05/13 08:36:36.216 OK
2022/05/13 08:36:36.216 OK
2022/05/13 08:36:36.216 OK
2022/05/13 08:36:36.216 OK
2022/05/13 08:36:36.216 OK
2022/05/13 08:36:36.216 OK
2022/05/13 08:36:36.216 OK
2022/05/13 08:36:36.216 OK
2022/05/13 08:36:36.216 OK
2022/05/13 08:36:36.217 OK
2022/05/13 08:36:36.217 OK
2022/05/13 08:36:36.217 OK
2022/05/13 08:36:36.217 OK
2022/05/13 08:36:36.217 OK
2022/05/13 08:36:36.217 OK
2022/05/13 08:36:36.217 OK
2022/05/13 08:36:36.217 OK
2022/05/13 08:36:36.217 OK
2022/05/13 08:36:36.217 OK
2022/05/13 08:36:36.217 OK
2022/05/13 08:36:36.217 OK
2022/05/13 08:36:36.217 OK
2022/05/13 08:36:36.217 OK
2022/05/13 08:36:36.217 OK
2022/05/13 08:36:36.217 OK
2022/05/13 08:36:36.217 OK
2022/05/13 08:36:36.217 ecmcMotorRecord:: setIntegerParam(5 motorPowerAutoOnOff_)=2
2022/05/13 08:36:36.217 ecmcMotorRecord:: setDoubleParam(5 motorPowerOnDelay_)=6
2022/05/13 08:36:36.217 ecmcMotorRecord:: setDoubleParam(5 motorPowerOffDelay_=-1
2022/05/13 08:36:36.217 ecmcMotorRecord:: connected(5)
2022/05/13 08:36:36.217 ecmcMotorRecord:: initialPoll(5) status=0
5)"
ecmcConfigOrDie "Cfg.SetAxisHomeVelOffCam(5,4)"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ZERO,"ax5.enc.actpos")"
ecmcConfigOrDie "Cfg.SetAxisEncScaleDenom(5,1)"
ecmcConfigOrDie "Cfg.SetAxisEncScaleNum(5,1)"
ecmcConfigOrDie "Cfg.SetAxisEncType(5,1)"
ecmcConfigOrDie "Cfg.SetAxisEncBits(5,0)"
ecmcConfigOrDie "Cfg.SetAxisEncAbsBits(5,0)"
ecmcConfigOrDie "Cfg.SetAxisEncOffset(5,0)"
ecmcConfigOrDie "Cfg.SetAxisEncVelFilterSize(5,100)"
ecmcConfigOrDie "Cfg.SetAxisEncPosFilterSize(5,1)"
ecmcConfigOrDie "Cfg.SetAxisEncPosFilterEnable(5,0)"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax5.enc.reset")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax5.enc.alarm0")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax5.enc.alarm1")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax5.enc.alarm2")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax5.enc.warning")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax5.enc.latchpos")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax5.enc.latchcontrol")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax5.enc.latchstatus")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax5.mon.lowlim")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax5.mon.highlim")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax5.mon.homesensor")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax5.mon.extinterlock")"
ecmcConfigOrDie "Cfg.SetAxisMonAtTargetTol(5,0.3)"
ecmcConfigOrDie "Cfg.SetAxisMonAtTargetTime(5,100)"
ecmcConfigOrDie "Cfg.SetAxisMonEnableAtTargetMon(5,1)"
ecmcConfigOrDie "Cfg.SetAxisMonPosLagTol(5,0.5)"
ecmcConfigOrDie "Cfg.SetAxisMonPosLagTime(5,100)"
ecmcConfigOrDie "Cfg.SetAxisMonEnableLagMon(5,0)"
ecmcConfigOrDie "Cfg.SetAxisMonMaxVel(5,200.0)"
ecmcConfigOrDie "Cfg.SetAxisMonEnableMaxVel(5,1)"
ecmcConfigOrDie "Cfg.SetAxisMonMaxVelDriveILDelay(5,200)"
ecmcConfigOrDie "Cfg.SetAxisMonMaxVelTrajILDelay(5,100)"
ecmcConfigOrDie "Cfg.SetAxisSoftLimitPosBwd(5,0)"
ecmcConfigOrDie "Cfg.SetAxisEnableSoftLimitBwd(5,1)"
ecmcConfigOrDie "Cfg.SetAxisSoftLimitPosFwd(5,0)"
ecmcConfigOrDie "Cfg.SetAxisEnableSoftLimitFwd(5,1)"
ecmcConfigOrDie "Cfg.SetAxisMonHomeSwitchPolarity(5,0)"
ecmcConfigOrDie "Cfg.SetAxisHomeLatchCountOffset(5,0)"
ecmcConfigOrDie "Main.M5.fHomePosition=0.0"
ecmcConfigOrDie "Cfg.SetAxisHomePostMoveEnable(5, 0)"
ecmcConfigOrDie "Cfg.SetAxisHomePostMoveTargetPosition(5, 0)"
ecmcMotorRecordCreateAxis(MCU1, "5", "6", "")
ecmcEpicsEnvSetCalc("ECMC_TEMP_SREV","if(abs(1)>0){RESULT:=abs(1);} else {RESULT:=1.0};","%d")
ecmcEpicsEnvSetCalc("ECMC_TEMP_UREV","if(abs(1)>0){RESULT:=abs(1);} else {RESULT:=1.0};","%lf")
ecmcFileExist(ecmcMotorRecord.template,1,1)
dbLoadRecords(ecmcMotorRecord.template, "PREFIX=IOC_TEST:, MOTOR_NAME=Axis5, MOTOR_PORT=MCU1, AXIS_NO=5, DESC=MCU1025 Center Position (5), EGU=mm, PREC=3, VELO=5.0, JVEL=5, JAR=0.0, ACCL=0.1, RDBD=0.3, DLLM=0, DHLM=0, HOMEPROC=3,SREV=1,UREV=1.000000, ")
epicsEnvSet("ECMC_AXISFIELDINIT",  "")
ecmcFileExist(ecmcMotorRecord"home.template",1,1)
dbLoadRecords(ecmcMotorRecord"home.template", "PREFIX=IOC_TEST:, MOTOR_NAME=Axis5, MOTOR_PORT=MCU1, AXIS_NO=5,HOMEPROC=3, HOMEPOS=0.0, HVELTO=5, HVELFRM=4, HOMEACC=21, HOMEDEC=100")
epicsEnvUnset(ECMC_TEMP_SREV)
epicsEnvUnset(ECMC_TEMP_UREV)
ecmcFileExist("ecmcAxis.db",1,1)
dbLoadRecords("ecmcAxis.db","P=IOC_TEST:,AXIS_NAME=Axis5,AXIS_NO=5,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,T_SMP_MS=10,TSE=-2")
ecmcFileExist("ecmcAxisType.db",1,1)
dbLoadRecords("ecmcAxisType.db","P=IOC_TEST:,AXIS_NAME=Axis5,AXIS_TYPE=2")
ecmcFileExist(/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis_unset.cmd,1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis_unset.cmd
#==============================================================================
# ecmc_virt_axis_unset.cmd
epicsEnvUnset(ECMC_AXISCONFIG)
epicsEnvUnset(ECMC_AXISFIELDINIT)
epicsEnvUnset(ECMC_PREC)
epicsEnvUnset(ECMC_EGU)
epicsEnvUnset(ECMC_DESC)
epicsEnvUnset(ECMC_R)
epicsEnvUnset(ECMC_MOTOR_NAME)
epicsEnvUnset(ECMC_EC_AXIS_HEALTH)
epicsEnvUnset(ECMC_MOD_RANGE)
epicsEnvUnset(ECMC_MOD_TYPE)
epicsEnvUnset(ECMC_EMERG_DECEL)
epicsEnvUnset(ECMC_ACCL)
epicsEnvUnset(ECMC_HOME_VEL_TO)
epicsEnvUnset(ECMC_HOME_VEL_FRM)
epicsEnvUnset(ECMC_EC_ENC_ACTPOS)
epicsEnvUnset(ECMC_ENC_SCALE_DENOM)
epicsEnvUnset(ECMC_ENC_SCALE_NUM)
epicsEnvUnset(ECMC_ENC_TYPE)
epicsEnvUnset(ECMC_ENC_BITS)
epicsEnvUnset(ECMC_ENC_ABS_BITS)
epicsEnvUnset(ECMC_ENC_ABS_OFFSET)
epicsEnvUnset(ECMC_ENC_VEL_FILTER_SIZE)
epicsEnvUnset(ECMC_ENC_POS_FILTER_SIZE)
epicsEnvUnset(ECMC_ENC_POS_FILTER_ENABLE)
epicsEnvUnset(ECMC_EC_ENC_RESET)
epicsEnvUnset(ECMC_EC_ENC_ALARM_0)
epicsEnvUnset(ECMC_EC_ENC_ALARM_1)
epicsEnvUnset(ECMC_EC_ENC_ALARM_2)
epicsEnvUnset(ECMC_EC_ENC_WARNING)
epicsEnvUnset(ECMC_EC_MON_LOWLIM)
epicsEnvUnset(ECMC_EC_MON_HIGHLIM)
epicsEnvUnset(ECMC_EC_MON_HOME_SWITCH)
epicsEnvUnset(ECMC_EC_MON_EXT_INTERLOCK)
epicsEnvUnset(ECMC_MON_AT_TARGET_TOL)
epicsEnvUnset(ECMC_MON_AT_TARGET_TIME)
epicsEnvUnset(ECMC_MON_AT_TARGET_ENA)
epicsEnvUnset(ECMC_MON_LAG_MON_TOL)
epicsEnvUnset(ECMC_MON_LAG_MON_TIME)
epicsEnvUnset(ECMC_MON_LAG_MON_ENA)
epicsEnvUnset(ECMC_MON_VELO_MAX)
epicsEnvUnset(ECMC_MON_VELO_MAX_ENA)
epicsEnvUnset(ECMC_MON_VELO_MAX_DRV_TIME)
epicsEnvUnset(ECMC_MON_VELO_MAX_TRAJ_TIME)
epicsEnvUnset(ECMC_MRES)
epicsEnvUnset(ECMC_JOG_VEL)
epicsEnvUnset(ECMC_JAR)
epicsEnvUnset(ECMC_HOME_PROC)
epicsEnvUnset(ECMC_HOME_POS)
epicsEnvUnset(ECMC_HOME_ACC)
epicsEnvUnset(ECMC_HOME_DEC)
epicsEnvUnset(ECMC_DRV_TYPE)
epicsEnvUnset(ECMC_VELO)
epicsEnvUnset(ECMC_SOFT_LOW_LIM)
epicsEnvUnset(ECMC_SOFT_HIGH_LIM)
epicsEnvUnset(ECMC_HOME_POS_MOVE_ENA)
epicsEnvUnset(ECMC_HOME_POS_MOVE_TARG_POS)
# reset PREFIX
epicsEnvSet("ECMC_PREFIX"      "IOC_TEST:")
epicsEnvSet("ID",       "6")
iocshLoad (/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/configureVirtualAxis.cmd, CONFIG=./cfg/linear.vax, ID=6)
#==============================================================================
# configureVirtualAxis.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD, "'FULL'='DAQ'","ecmcExit Error: ECMC started in DAQ mode. Motion not supported..","#-")
epicsEnvUnset(ECMC_EXE_CMD)
epicsEnvSet("ECMC_PREFIX"      "IOC_TEST:")
iocshLoad ./cfg/linear.vax
#General
epicsEnvSet("ECMC_MOTOR_NAME",            "Axis6")
epicsEnvSet("ECMC_R",                     "Axis6-")
epicsEnvSet("ECMC_AXIS_NO",               "6")
epicsEnvSet("ECMC_DESC",                  "MCU1025 Center Position (6)")
epicsEnvSet("ECMC_EGU",                   "mm")                       # Motor Record Unit
epicsEnvSet("ECMC_PREC",                  "3")                        # Motor Record Precision
epicsEnvSet("ECMC_AXISCONFIG",            "")                         # Extra parameters to driver
epicsEnvSet("ECMC_EC_AXIS_HEALTH",        "")                         # Entry for axis health output (example: ec0.s1.binaryOutput01.0)
epicsEnvSet("ECMC_MOD_RANGE" ,            "0")                        # Modulo range (traj setpoints and encoder values will be in range 0..ECMC_MOD_RANGE)
epicsEnvSet("ECMC_MOD_TYPE",              "0")                        # For positioning and MOD_RANGE>0: 0 = Normal, 1 = Always Fwd, 2 = Always Bwd, 3 = Closest Distance
#Encoder
epicsEnvSet("ECMC_ENC_SCALE_NUM"          "1")
epicsEnvSet("ECMC_ENC_SCALE_DENOM"        "1")
epicsEnvSet("ECMC_ENC_TYPE"               "1")                        # Type: 0=Incremental, 1=Absolute
epicsEnvSet("ECMC_ENC_BITS"               "0")                        # Total bit count of encoder raw data
epicsEnvSet("ECMC_ENC_ABS_BITS",          "0")                        # Absolute bit count (for absolute encoders) always least significant part of ECMC_ENC_BITS
epicsEnvSet("ECMC_ENC_ABS_OFFSET"         "0")                        # Encoder offset in eng units (for absolute encoders)
epicsEnvSet("ECMC_EC_ENC_ACTPOS",         "ec0.s1.ZERO")              # Ethercat entry for actual position input (encoder)
epicsEnvSet("ECMC_EC_ENC_RESET",          "")                         # Reset   (if no encoder reset bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_ALARM_0",        "")                         # Error 0 (if no encoder error bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_ALARM_1",        "")                         # Error 1 (if no encoder error bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_ALARM_2",        "")                         # Error 2 (if no encoder error bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_WARNING",        "")                         # Warning (if no encoder warning bit then leave empty)
#Trajectory
epicsEnvSet("ECMC_VELO",                  "5.0")
epicsEnvSet("ECMC_JOG_VEL",               "5")
epicsEnvSet("ECMC_JAR",                   "0.0")                      # JAR defaults to VELO/ACCL
epicsEnvSet("ECMC_ACCL",                  "0.1")
epicsEnvSet("ECMC_EMERG_DECEL",           "0.1")             # Emergency deceleration
#Homing
epicsEnvSet("ECMC_HOME_PROC",             "3")
epicsEnvSet("ECMC_HOME_POS",              "0.0")
epicsEnvSet("ECMC_HOME_VEL_TO",           "5")
epicsEnvSet("ECMC_HOME_VEL_FRM",          "4")
epicsEnvSet("ECMC_HOME_ACC",              "21")
epicsEnvSet("ECMC_HOME_DEC",              "100")
epicsEnvSet("ECMC_HOME_POS_MOVE_ENA",     "0")                        # Enable move to position after successfull homing 
epicsEnvSet("ECMC_HOME_POS_MOVE_TARG_POS","0")                        # Target position to go to after successfull homing
#Monitoring
# Switches
epicsEnvSet("ECMC_EC_MON_LOWLIM",         "ec0.s1.ONE.0")           #  Ethercat entry for low limit switch input
epicsEnvSet("ECMC_EC_MON_HIGHLIM",        "ec0.s1.ONE.0")           #  Ethercat entry for high limit switch inpuit
epicsEnvSet("ECMC_EC_MON_HOME_SWITCH",    "ec0.s1.ONE.0")           #  Ethercat entry for home switch input
epicsEnvSet("ECMC_EC_MON_EXT_INTERLOCK",  "ec0.s1.ONE.0")           #  Ethercat entry for external interlock input
# Softlimits (disable with 0,0)
epicsEnvSet("ECMC_SOFT_LOW_LIM",          "0")
epicsEnvSet("ECMC_SOFT_HIGH_LIM",         "0")
epicsEnvSet("ECMC_DXLM_ENABLE",           "1")
# Position lag
epicsEnvSet("ECMC_MON_LAG_MON_TOL",       "0.5")
epicsEnvSet("ECMC_MON_LAG_MON_TIME",      "100")
epicsEnvSet("ECMC_MON_LAG_MON_ENA",       "0")
# At target
epicsEnvSet("ECMC_MON_AT_TARGET_TOL",     "0.3")
epicsEnvSet("ECMC_MON_AT_TARGET_TIME",    "100")
epicsEnvSet("ECMC_MON_AT_TARGET_ENA",     "1")
# Velocity
epicsEnvSet("ECMC_MON_VELO_MAX",          "200.0")
epicsEnvSet("ECMC_MON_VELO_MAX_TRAJ_TIME","100")
epicsEnvSet("ECMC_MON_VELO_MAX_DRV_TIME", "200")
epicsEnvSet("ECMC_MON_VELO_MAX_ENA",      "1")
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addVirtualAxis.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addVirtualAxis.cmd
#==============================================================================
# addVirtualAxis.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD, "'FULL'='DAQ'","ecmcExit Error: ECMC started in DAQ mode. Motion not supported..","#-")
epicsEnvUnset(ECMC_EXE_CMD)
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis-records.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis-records.cmd
#==============================================================================
# ecmc_virt_axis-records.cmd
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis.cmd",1)
iocshLoad( /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis.cmd )
#==============================================================================
# ecmc_virt_axis.cmd
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/verifyOrDie.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/verifyOrDie.cmd "EXPR_STR='abs(1)<>0',SUCCESS_STR='ECMC_ENC_SCALE_NUM value OK == 1...',ERROR_STR='ECMC_ENC_SCALE_NUM == 0...'"
#==============================================================================
# verifyOrDie.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD,"abs(1)<>0","# ECMC_ENC_SCALE_NUM value OK == 1...", "ecmcExit Error: ECMC_ENC_SCALE_NUM == 0...")
# ECMC_ENC_SCALE_NUM value OK == 1...
epicsEnvUnset(ECMC_EXE_CMD)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/verifyOrDie.cmd "EXPR_STR='abs(1)<>0',SUCCESS_STR=2022/05/13 08:36:36.225 OK
2022/05/13 08:36:36.225 OK
2022/05/13 08:36:36.225 OK
2022/05/13 08:36:36.226 OK
2022/05/13 08:36:36.226 OK
2022/05/13 08:36:36.226 OK
2022/05/13 08:36:36.226 OK
2022/05/13 08:36:36.226 OK
2022/05/13 08:36:36.226 OK
2022/05/13 08:36:36.226 OK
2022/05/13 08:36:36.226 OK
2022/05/13 08:36:36.226 OK
2022/05/13 08:36:36.226 OK
2022/05/13 08:36:36.226 OK
2022/05/13 08:36:36.226 OK
2022/05/13 08:36:36.226 OK
2022/05/13 08:36:36.226 OK
2022/05/13 08:36:36.226 OK
2022/05/13 08:36:36.226 OK
2022/05/13 08:36:36.226 OK
2022/05/13 08:36:36.226 OK
2022/05/13 08:36:36.226 OK
2022/05/13 08:36:36.226 OK
2022/05/13 08:36:36.226 OK
2022/05/13 08:36:36.226 OK
2022/05/13 08:36:36.226 OK
2022/05/13 08:36:36.226 OK
2022/05/13 08:36:36.226 OK
2022/05/13 08:36:36.226 OK
2022/05/13 08:36:36.226 OK
2022/05/13 08:36:36.226 OK
2022/05/13 08:36:36.226 OK
2022/05/13 08:36:36.226 OK
2022/05/13 08:36:36.226 OK
2022/05/13 08:36:36.226 OK
2022/05/13 08:36:36.226 OK
2022/05/13 08:36:36.226 OK
2022/05/13 08:36:36.226 OK
2022/05/13 08:36:36.226 OK
2022/05/13 08:36:36.227 OK
2022/05/13 08:36:36.227 OK
2022/05/13 08:36:36.227 OK
2022/05/13 08:36:36.227 OK
2022/05/13 08:36:36.227 OK
2022/05/13 08:36:36.227 OK
2022/05/13 08:36:36.227 OK
2022/05/13 08:36:36.227 OK
2022/05/13 08:36:36.227 OK
2022/05/13 08:36:36.227 OK
2022/05/13 08:36:36.227 OK
2022/05/13 08:36:36.227 ecmcMotorRecord:: setIntegerParam(6 motorPowerAutoOnOff_)=2
2022/05/13 08:36:36.227 ecmcMotorRecord:: setDoubleParam(6 motorPowerOnDelay_)=6
2022/05/13 08:36:36.227 ecmcMotorRecord:: setDoubleParam(6 motorPowerOffDelay_=-1
2022/05/13 08:36:36.227 ecmcMotorRecord:: connected(6)
2022/05/13 08:36:36.227 ecmcMotorRecord:: initialPoll(6) status=0
'ECMC_ENC_SCALE_DENOM value OK == 1...',ERROR_STR='ECMC_ENC_SCALE_DENOM == 0...'"
#==============================================================================
# verifyOrDie.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD,"abs(1)<>0","# ECMC_ENC_SCALE_DENOM value OK == 1...", "ecmcExit Error: ECMC_ENC_SCALE_DENOM == 0...")
# ECMC_ENC_SCALE_DENOM value OK == 1...
epicsEnvUnset(ECMC_EXE_CMD)
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/issueWarning.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/issueWarning.cmd "EXPR_STR='-1>0',WARNING_STR='WARNING: ECMC_MRES setting is deprecated and will not be used. (MRES will be calulated instead: ECMC_ENC_SCALE_NUM/ECMC_ENC_SCALE_DENOM).. '"
#==============================================================================
# issueWarning.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD,"-1>0","", "#-")
epicsEnvUnset(ECMC_EXE_CMD)
ecmcConfigOrDie "Cfg.CreateAxis(6,2)"
ecmcConfigOrDie "Cfg.SetAxisTrajStartPos(6,0)"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax6.health")"
ecmcConfigOrDie "Cfg.SetAxisModRange(6, 0)"
ecmcConfigOrDie "Cfg.SetAxisModType(6, 0)"
ecmcConfigOrDie "Cfg.SetAxisEmergDeceleration(6,0.1)"
ecmcConfigOrDie "Cfg.SetAxisVelAccDecTime(6,5.0,0.1)"
ecmcConfigOrDie "Cfg.SetAxisHomeVelTwordsCam(6,5)"
ecmcConfigOrDie "Cfg.SetAxisHomeVelOffCam(6,4)"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ZERO,"ax6.enc.actpos")"
ecmcConfigOrDie "Cfg.SetAxisEncScaleDenom(6,1)"
ecmcConfigOrDie "Cfg.SetAxisEncScaleNum(6,1)"
ecmcConfigOrDie "Cfg.SetAxisEncType(6,1)"
ecmcConfigOrDie "Cfg.SetAxisEncBits(6,0)"
ecmcConfigOrDie "Cfg.SetAxisEncAbsBits(6,0)"
ecmcConfigOrDie "Cfg.SetAxisEncOffset(6,0)"
ecmcConfigOrDie "Cfg.SetAxisEncVelFilterSize(6,100)"
ecmcConfigOrDie "Cfg.SetAxisEncPosFilterSize(6,1)"
ecmcConfigOrDie "Cfg.SetAxisEncPosFilterEnable(6,0)"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax6.enc.reset")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax6.enc.alarm0")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax6.enc.alarm1")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax6.enc.alarm2")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax6.enc.warning")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax6.enc.latchpos")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax6.enc.latchcontrol")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax6.enc.latchstatus")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax6.mon.lowlim")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax6.mon.highlim")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax6.mon.homesensor")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax6.mon.extinterlock")"
ecmcConfigOrDie "Cfg.SetAxisMonAtTargetTol(6,0.3)"
ecmcConfigOrDie "Cfg.SetAxisMonAtTargetTime(6,100)"
ecmcConfigOrDie "Cfg.SetAxisMonEnableAtTargetMon(6,1)"
ecmcConfigOrDie "Cfg.SetAxisMonPosLagTol(6,0.5)"
ecmcConfigOrDie "Cfg.SetAxisMonPosLagTime(6,100)"
ecmcConfigOrDie "Cfg.SetAxisMonEnableLagMon(6,0)"
ecmcConfigOrDie "Cfg.SetAxisMonMaxVel(6,200.0)"
ecmcConfigOrDie "Cfg.SetAxisMonEnableMaxVel(6,1)"
ecmcConfigOrDie "Cfg.SetAxisMonMaxVelDriveILDelay(6,200)"
ecmcConfigOrDie "Cfg.SetAxisMonMaxVelTrajILDelay(6,100)"
ecmcConfigOrDie "Cfg.SetAxisSoftLimitPosBwd(6,0)"
ecmcConfigOrDie "Cfg.SetAxisEnableSoftLimitBwd(6,1)"
ecmcConfigOrDie "Cfg.SetAxisSoftLimitPosFwd(6,0)"
ecmcConfigOrDie "Cfg.SetAxisEnableSoftLimitFwd(6,1)"
ecmcConfigOrDie "Cfg.SetAxisMonHomeSwitchPolarity(6,0)"
ecmcConfigOrDie "Cfg.SetAxisHomeLatchCountOffset(6,0)"
ecmcConfigOrDie "Main.M6.fHomePosition=0.0"
ecmcConfigOrDie "Cfg.SetAxisHomePostMoveEnable(6, 0)"
ecmcConfigOrDie "Cfg.SetAxisHomePostMoveTargetPosition(6, 0)"
ecmcMotorRecordCreateAxis(MCU1, "6", "6", "")
ecmcEpicsEnvSetCalc("ECMC_TEMP_SREV","if(abs(1)>0){RESULT:=abs(1);} else {RESULT:=1.0};","%d")
ecmcEpicsEnvSetCalc("ECMC_TEMP_UREV","if(abs(1)>0){RESULT:=abs(1);} else {RESULT:=1.0};","%lf")
ecmcFileExist(ecmcMotorRecord.template,1,1)
dbLoadRecords(ecmcMotorRecord.template, "PREFIX=IOC_TEST:, MOTOR_NAME=Axis6, MOTOR_PORT=MCU1, AXIS_NO=6, DESC=MCU1025 Center Position (6), EGU=mm, PREC=3, VELO=5.0, JVEL=5, JAR=0.0, ACCL=0.1, RDBD=0.3, DLLM=0, DHLM=0, HOMEPROC=3,SREV=1,UREV=1.000000, ")
epicsEnvSet("ECMC_AXISFIELDINIT",  "")
ecmcFileExist(ecmcMotorRecord"home.template",1,1)
dbLoadRecords(ecmcMotorRecord"home.template", "PREFIX=IOC_TEST:, MOTOR_NAME=Axis6, MOTOR_PORT=MCU1, AXIS_NO=6,HOMEPROC=3, HOMEPOS=0.0, HVELTO=5, HVELFRM=4, HOMEACC=21, HOMEDEC=100")
epicsEnvUnset(ECMC_TEMP_SREV)
epicsEnvUnset(ECMC_TEMP_UREV)
ecmcFileExist("ecmcAxis.db",1,1)
dbLoadRecords("ecmcAxis.db","P=IOC_TEST:,AXIS_NAME=Axis6,AXIS_NO=6,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,T_SMP_MS=10,TSE=-2")
ecmcFileExist("ecmcAxisType.db",1,1)
dbLoadRecords("ecmcAxisType.db","P=IOC_TEST:,AXIS_NAME=Axis6,AXIS_TYPE=2")
ecmcFileExist(/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis_unset.cmd,1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis_unset.cmd
#==============================================================================
# ecmc_virt_axis_unset.cmd
epicsEnvUnset(ECMC_AXISCONFIG)
epicsEnvUnset(ECMC_AXISFIELDINIT)
epicsEnvUnset(ECMC_PREC)
epicsEnvUnset(ECMC_EGU)
epicsEnvUnset(ECMC_DESC)
epicsEnvUnset(ECMC_R)
epicsEnvUnset(ECMC_MOTOR_NAME)
epicsEnvUnset(ECMC_EC_AXIS_HEALTH)
epicsEnvUnset(ECMC_MOD_RANGE)
epicsEnvUnset(ECMC_MOD_TYPE)
epicsEnvUnset(ECMC_EMERG_DECEL)
epicsEnvUnset(ECMC_ACCL)
epicsEnvUnset(ECMC_HOME_VEL_TO)
epicsEnvUnset(ECMC_HOME_VEL_FRM)
epicsEnvUnset(ECMC_EC_ENC_ACTPOS)
epicsEnvUnset(ECMC_ENC_SCALE_DENOM)
epicsEnvUnset(ECMC_ENC_SCALE_NUM)
epicsEnvUnset(ECMC_ENC_TYPE)
epicsEnvUnset(ECMC_ENC_BITS)
epicsEnvUnset(ECMC_ENC_ABS_BITS)
epicsEnvUnset(ECMC_ENC_ABS_OFFSET)
epicsEnvUnset(ECMC_ENC_VEL_FILTER_SIZE)
epicsEnvUnset(ECMC_ENC_POS_FILTER_SIZE)
epicsEnvUnset(ECMC_ENC_POS_FILTER_ENABLE)
epicsEnvUnset(ECMC_EC_ENC_RESET)
epicsEnvUnset(ECMC_EC_ENC_ALARM_0)
epicsEnvUnset(ECMC_EC_ENC_ALARM_1)
epicsEnvUnset(ECMC_EC_ENC_ALARM_2)
epicsEnvUnset(ECMC_EC_ENC_WARNING)
epicsEnvUnset(ECMC_EC_MON_LOWLIM)
epicsEnvUnset(ECMC_EC_MON_HIGHLIM)
epicsEnvUnset(ECMC_EC_MON_HOME_SWITCH)
epicsEnvUnset(ECMC_EC_MON_EXT_INTERLOCK)
epicsEnvUnset(ECMC_MON_AT_TARGET_TOL)
epicsEnvUnset(ECMC_MON_AT_TARGET_TIME)
epicsEnvUnset(ECMC_MON_AT_TARGET_ENA)
epicsEnvUnset(ECMC_MON_LAG_MON_TOL)
epicsEnvUnset(ECMC_MON_LAG_MON_TIME)
epicsEnvUnset(ECMC_MON_LAG_MON_ENA)
epicsEnvUnset(ECMC_MON_VELO_MAX)
epicsEnvUnset(ECMC_MON_VELO_MAX_ENA)
epicsEnvUnset(ECMC_MON_VELO_MAX_DRV_TIME)
epicsEnvUnset(ECMC_MON_VELO_MAX_TRAJ_TIME)
epicsEnvUnset(ECMC_MRES)
epicsEnvUnset(ECMC_JOG_VEL)
epicsEnvUnset(ECMC_JAR)
epicsEnvUnset(ECMC_HOME_PROC)
epicsEnvUnset(ECMC_HOME_POS)
epicsEnvUnset(ECMC_HOME_ACC)
epicsEnvUnset(ECMC_HOME_DEC)
epicsEnvUnset(ECMC_DRV_TYPE)
epicsEnvUnset(ECMC_VELO)
epicsEnvUnset(ECMC_SOFT_LOW_LIM)
epicsEnvUnset(ECMC_SOFT_HIGH_LIM)
epicsEnvUnset(ECMC_HOME_POS_MOVE_ENA)
epicsEnvUnset(ECMC_HOME_POS_MOVE_TARG_POS)
# reset PREFIX
epicsEnvSet("ECMC_PREFIX"      "IOC_TEST:")
epicsEnvSet("ID",       "7")
iocshLoad (/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/configureVirtualAxis.cmd, CONFIG=./cfg/linear.vax, ID=7)
#==============================================================================
# configureVirtualAxis.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD, "'FULL'='DAQ'","ecmcExit Error: ECMC started in DAQ mode. Motion not supported..","#-")
epicsEnvUnset(ECMC_EXE_CMD)
epicsEnvSet("ECMC_PREFIX"      "IOC_TEST:")
iocshLoad ./cfg/linear.vax
#General
epicsEnvSet("ECMC_MOTOR_NAME",            "Axis7")
epicsEnvSet("ECMC_R",                     "Axis7-")
epicsEnvSet("ECMC_AXIS_NO",               "7")
epicsEnvSet("ECMC_DESC",                  "MCU1025 Center Position (7)")
epicsEnvSet("ECMC_EGU",                   "mm")                       # Motor Record Unit
epicsEnvSet("ECMC_PREC",                  "3")                        # Motor Record Precision
epicsEnvSet("ECMC_AXISCONFIG",            "")                         # Extra parameters to driver
epicsEnvSet("ECMC_EC_AXIS_HEALTH",        "")                         # Entry for axis health output (example: ec0.s1.binaryOutput01.0)
epicsEnvSet("ECMC_MOD_RANGE" ,            "0")                        # Modulo range (traj setpoints and encoder values will be in range 0..ECMC_MOD_RANGE)
epicsEnvSet("ECMC_MOD_TYPE",              "0")                        # For positioning and MOD_RANGE>0: 0 = Normal, 1 = Always Fwd, 2 = Always Bwd, 3 = Closest Distance
#Encoder
epicsEnvSet("ECMC_ENC_SCALE_NUM"          "1")
epicsEnvSet("ECMC_ENC_SCALE_DENOM"        "1")
epicsEnvSet("ECMC_ENC_TYPE"               "1")                        # Type: 0=Incremental, 1=Absolute
epicsEnvSet("ECMC_ENC_BITS"               "0")                        # Total bit count of encoder raw data
epicsEnvSet("ECMC_ENC_ABS_BITS",          "0")                        # Absolute bit count (for absolute encoders) always least significant part of ECMC_ENC_BITS
epicsEnvSet("ECMC_ENC_ABS_OFFSET"         "0")                        # Encoder offset in eng units (for absolute encoders)
epicsEnvSet("ECMC_EC_ENC_ACTPOS",         "ec0.s1.ZERO")              # Ethercat entry for actual position input (encoder)
epicsEnvSet("ECMC_EC_ENC_RESET",          "")                         # Reset   (if no encoder reset bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_ALARM_0",        "")                         # Error 0 (if no encoder error bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_ALARM_1",        "")                         # Error 1 (if no encoder error bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_ALARM_2",        "")                         # Error 2 (if no encoder error bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_WARNING",        "")                         # Warning (if no encoder warning bit then leave empty)
#Trajectory
epicsEnvSet("ECMC_VELO",                  "5.0")
epicsEnvSet("ECMC_JOG_VEL",               "5")
epicsEnvSet("ECMC_JAR",                   "0.0")                      # JAR defaults to VELO/ACCL
epicsEnvSet("ECMC_ACCL",                  "0.1")
epicsEnvSet("ECMC_EMERG_DECEL",           "0.1")             # Emergency deceleration
#Homing
epicsEnvSet("ECMC_HOME_PROC",             "3")
epicsEnvSet("ECMC_HOME_POS",              "0.0")
epicsEnvSet("ECMC_HOME_VEL_TO",           "5")
epicsEnvSet("ECMC_HOME_VEL_FRM",          "4")
epicsEnvSet("ECMC_HOME_ACC",              "21")
epicsEnvSet("ECMC_HOME_DEC",              "100")
epicsEnvSet("ECMC_HOME_POS_MOVE_ENA",     "0")                        # Enable move to position after successfull homing 
epicsEnvSet("ECMC_HOME_POS_MOVE_TARG_POS","0")                        # Target position to go to after successfull homing
#Monitoring
# Switches
epicsEnvSet("ECMC_EC_MON_LOWLIM",         "ec0.s1.ONE.0")           #  Ethercat entry for low limit switch input
epicsEnvSet("ECMC_EC_MON_HIGHLIM",        "ec0.s1.ONE.0")           #  Ethercat entry for high limit switch inpuit
epicsEnvSet("ECMC_EC_MON_HOME_SWITCH",    "ec0.s1.ONE.0")           #  Ethercat entry for home switch input
epicsEnvSet("ECMC_EC_MON_EXT_INTERLOCK",  "ec0.s1.ONE.0")           #  Ethercat entry for external interlock input
# Softlimits (disable with 0,0)
epicsEnvSet("ECMC_SOFT_LOW_LIM",          "0")
epicsEnvSet("ECMC_SOFT_HIGH_LIM",         "0")
epicsEnvSet("ECMC_DXLM_ENABLE",           "1")
# Position lag
epicsEnvSet("ECMC_MON_LAG_MON_TOL",       "0.5")
epicsEnvSet("ECMC_MON_LAG_MON_TIME",      "100")
epicsEnvSet("ECMC_MON_LAG_MON_ENA",       "0")
# At target
epicsEnvSet("ECMC_MON_AT_TARGET_TOL",     "0.3")
epicsEnvSet("ECMC_MON_AT_TARGET_TIME",    "100")
epicsEnvSet("ECMC_MON_AT_TARGET_ENA",     "1")
# Velocity
epicsEnvSet("ECMC_MON_VELO_MAX",          "200.0")
epicsEnvSet("ECMC_MON_VELO_MAX_TRAJ_TIME","100")
epicsEnvSet("ECMC_MON_VELO_MAX_DRV_TIME", "200")
epicsEnvSet("ECMC_MON_VELO_MAX_ENA",      "1")
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addVirtualAxis.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addVirtualAxis.cmd
#==============================================================================
# addVirtualAxis.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD, "'FULL'='DAQ'","ecmcExit Error: ECMC started in DAQ mode. Motion not supported..","#-")
epicsEnvUnset(ECMC2022/05/13 08:36:36.235 OK
2022/05/13 08:36:36.235 OK
2022/05/13 08:36:36.235 OK
2022/05/13 08:36:36.235 OK
2022/05/13 08:36:36.235 OK
2022/05/13 08:36:36.235 OK
2022/05/13 08:36:36.235 OK
2022/05/13 08:36:36.235 OK
2022/05/13 08:36:36.235 OK
2022/05/13 08:36:36.235 OK
2022/05/13 08:36:36.235 OK
2022/05/13 08:36:36.235 OK
2022/05/13 08:36:36.235 OK
2022/05/13 08:36:36.235 OK
2022/05/13 08:36:36.235 OK
2022/05/13 08:36:36.235 OK
2022/05/13 08:36:36.236 OK
2022/05/13 08:36:36.236 OK
2022/05/13 08:36:36.236 OK
2022/05/13 08:36:36.236 OK
2022/05/13 08:36:36.236 OK
2022/05/13 08:36:36.236 OK
2022/05/13 08:36:36.236 OK
2022/05/13 08:36:36.236 OK
2022/05/13 08:36:36.236 OK
2022/05/13 08:36:36.236 OK
2022/05/13 08:36:36.236 OK
2022/05/13 08:36:36.236 OK
2022/05/13 08:36:36.236 OK
2022/05/13 08:36:36.236 OK
2022/05/13 08:36:36.236 OK
2022/05/13 08:36:36.236 OK
2022/05/13 08:36:36.236 OK
_EXE_CMD)
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis-records.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis-records.cmd
#==============================================================================
# ecmc_virt_axis-records.cmd
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis.cmd",1)
iocshLoad( /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis.cmd )
#==============================================================================
# ecmc_virt_axis.cmd
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/verifyOrDie.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/verifyOrDie.cmd "EXPR_STR='abs(1)<>0',SUCCESS_STR='ECMC_ENC_SCALE_NUM value OK == 1...',ERROR_STR='ECMC_ENC_SCALE_NUM == 0...'"
#==============================================================================
# verifyOrDie.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD,"abs(1)<>0","# ECMC_ENC_SCALE_NUM value OK == 1...", "ecmcExit Error: ECMC_ENC_SCALE_NUM == 0...")
# ECMC_ENC_SCALE_NUM value OK == 1...
epicsEnvUnset(ECMC_EXE_CMD)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/verifyOrDie.cmd "EXPR_STR='abs(1)<>0',SUCCESS_STR='ECMC_ENC_SCALE_DENOM value OK == 1...',ERROR_STR='ECMC_ENC_SCALE_DENOM == 0...'"
#==============================================================================
# verifyOrDie.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD,"abs(1)<>0","# ECMC_ENC_SCALE_DENOM value OK == 1...", "ecmcExit Error: ECMC_ENC_SCALE_DENOM == 0...")
# ECMC_ENC_SCALE_DENOM value OK == 1...
epicsEnvUnset(ECMC_EXE_CMD)
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/issueWarning.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/issueWarning.cmd "EXPR_STR='-1>0',WARNING_STR='WARNING: ECMC_MRES setting is deprecated and will not be used. (MRES will be calulated instead: ECMC_ENC_SCALE_NUM/ECMC_ENC_SCALE_DENOM).. '"
#==============================================================================
# issueWarning.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD,"-1>0","", "#-")
epicsEnvUnset(ECMC_EXE_CMD)
ecmcConfigOrDie "Cfg.CreateAxis(7,2)"
ecmcConfigOrDie "Cfg.SetAxisTrajStartPos(7,0)"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax7.health")"
ecmcConfigOrDie "Cfg.SetAxisModRange(7, 0)"
ecmcConfigOrDie "Cfg.SetAxisModType(7, 0)"
ecmcConfigOrDie "Cfg.SetAxisEmergDeceleration(7,0.1)"
ecmcConfigOrDie "Cfg.SetAxisVelAccDecTime(7,5.0,0.1)"
ecmcConfigOrDie "Cfg.SetAxisHomeVelTwordsCam(7,5)"
ecmcConfigOrDie "Cfg.SetAxisHomeVelOffCam(7,4)"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ZERO,"ax7.enc.actpos")"
ecmcConfigOrDie "Cfg.SetAxisEncScaleDenom(7,1)"
ecmcConfigOrDie "Cfg.SetAxisEncScaleNum(7,1)"
ecmcConfigOrDie "Cfg.SetAxisEncType(7,1)"
ecmcConfigOrDie "Cfg.SetAxisEncBits(7,0)"
ecmcConfigOrDie "Cfg.SetAxisEncAbsBits(7,0)"
ecmcConfigOrDie "Cfg.SetAxisEncOffset(7,0)"
ecmcConfigOrDie "Cfg.SetAxisEncVelFilterSize(7,100)"
ecmcConfigOrDie "Cfg.SetAxisEncPosFilterSize(7,1)"
ecmcConfigOrDie "Cfg.SetAxisEncPosFilterEnable(7,0)"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax7.enc.reset")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax7.enc.alarm0")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax7.enc.alarm1")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax7.enc.alarm2")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax7.enc.warning")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax7.enc.latchpos")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax7.enc.latchcontrol")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax7.enc.latchstatus")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax7.mon.lowlim")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax7.mon.highlim")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax7.mon.homesensor")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax7.mon.extinterlock")"
ecmcConfigOrDie "Cfg.SetAxisMonAtTargetTol(7,0.3)"
ecmcConfigOrDie "Cfg.SetAxisMonAtTargetTime(7,100)"
ecmcConfigOrDie "Cfg.SetA2022/05/13 08:36:36.236 OK
2022/05/13 08:36:36.236 OK
2022/05/13 08:36:36.236 OK
2022/05/13 08:36:36.236 OK
2022/05/13 08:36:36.236 OK
2022/05/13 08:36:36.236 OK
2022/05/13 08:36:36.236 OK
2022/05/13 08:36:36.236 OK
2022/05/13 08:36:36.236 OK
2022/05/13 08:36:36.236 OK
2022/05/13 08:36:36.236 OK
2022/05/13 08:36:36.236 OK
2022/05/13 08:36:36.237 OK
2022/05/13 08:36:36.237 OK
2022/05/13 08:36:36.237 OK
2022/05/13 08:36:36.237 OK
2022/05/13 08:36:36.237 OK
2022/05/13 08:36:36.237 ecmcMotorRecord:: setIntegerParam(7 motorPowerAutoOnOff_)=2
2022/05/13 08:36:36.237 ecmcMotorRecord:: setDoubleParam(7 motorPowerOnDelay_)=6
2022/05/13 08:36:36.237 ecmcMotorRecord:: setDoubleParam(7 motorPowerOffDelay_=-1
2022/05/13 08:36:36.237 ecmcMotorRecord:: connected(7)
2022/05/13 08:36:36.237 ecmcMotorRecord:: initialPoll(7) status=0
xisMonEnableAtTargetMon(7,1)"
ecmcConfigOrDie "Cfg.SetAxisMonPosLagTol(7,0.5)"
ecmcConfigOrDie "Cfg.SetAxisMonPosLagTime(7,100)"
ecmcConfigOrDie "Cfg.SetAxisMonEnableLagMon(7,0)"
ecmcConfigOrDie "Cfg.SetAxisMonMaxVel(7,200.0)"
ecmcConfigOrDie "Cfg.SetAxisMonEnableMaxVel(7,1)"
ecmcConfigOrDie "Cfg.SetAxisMonMaxVelDriveILDelay(7,200)"
ecmcConfigOrDie "Cfg.SetAxisMonMaxVelTrajILDelay(7,100)"
ecmcConfigOrDie "Cfg.SetAxisSoftLimitPosBwd(7,0)"
ecmcConfigOrDie "Cfg.SetAxisEnableSoftLimitBwd(7,1)"
ecmcConfigOrDie "Cfg.SetAxisSoftLimitPosFwd(7,0)"
ecmcConfigOrDie "Cfg.SetAxisEnableSoftLimitFwd(7,1)"
ecmcConfigOrDie "Cfg.SetAxisMonHomeSwitchPolarity(7,0)"
ecmcConfigOrDie "Cfg.SetAxisHomeLatchCountOffset(7,0)"
ecmcConfigOrDie "Main.M7.fHomePosition=0.0"
ecmcConfigOrDie "Cfg.SetAxisHomePostMoveEnable(7, 0)"
ecmcConfigOrDie "Cfg.SetAxisHomePostMoveTargetPosition(7, 0)"
ecmcMotorRecordCreateAxis(MCU1, "7", "6", "")
ecmcEpicsEnvSetCalc("ECMC_TEMP_SREV","if(abs(1)>0){RESULT:=abs(1);} else {RESULT:=1.0};","%d")
ecmcEpicsEnvSetCalc("ECMC_TEMP_UREV","if(abs(1)>0){RESULT:=abs(1);} else {RESULT:=1.0};","%lf")
ecmcFileExist(ecmcMotorRecord.template,1,1)
dbLoadRecords(ecmcMotorRecord.template, "PREFIX=IOC_TEST:, MOTOR_NAME=Axis7, MOTOR_PORT=MCU1, AXIS_NO=7, DESC=MCU1025 Center Position (7), EGU=mm, PREC=3, VELO=5.0, JVEL=5, JAR=0.0, ACCL=0.1, RDBD=0.3, DLLM=0, DHLM=0, HOMEPROC=3,SREV=1,UREV=1.000000, ")
epicsEnvSet("ECMC_AXISFIELDINIT",  "")
ecmcFileExist(ecmcMotorRecord"home.template",1,1)
dbLoadRecords(ecmcMotorRecord"home.template", "PREFIX=IOC_TEST:, MOTOR_NAME=Axis7, MOTOR_PORT=MCU1, AXIS_NO=7,HOMEPROC=3, HOMEPOS=0.0, HVELTO=5, HVELFRM=4, HOMEACC=21, HOMEDEC=100")
epicsEnvUnset(ECMC_TEMP_SREV)
epicsEnvUnset(ECMC_TEMP_UREV)
ecmcFileExist("ecmcAxis.db",1,1)
dbLoadRecords("ecmcAxis.db","P=IOC_TEST:,AXIS_NAME=Axis7,AXIS_NO=7,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,T_SMP_MS=10,TSE=-2")
ecmcFileExist("ecmcAxisType.db",1,1)
dbLoadRecords("ecmcAxisType.db","P=IOC_TEST:,AXIS_NAME=Axis7,AXIS_TYPE=2")
ecmcFileExist(/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis_unset.cmd,1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis_unset.cmd
#==============================================================================
# ecmc_virt_axis_unset.cmd
epicsEnvUnset(ECMC_AXISCONFIG)
epicsEnvUnset(ECMC_AXISFIELDINIT)
epicsEnvUnset(ECMC_PREC)
epicsEnvUnset(ECMC_EGU)
epicsEnvUnset(ECMC_DESC)
epicsEnvUnset(ECMC_R)
epicsEnvUnset(ECMC_MOTOR_NAME)
epicsEnvUnset(ECMC_EC_AXIS_HEALTH)
epicsEnvUnset(ECMC_MOD_RANGE)
epicsEnvUnset(ECMC_MOD_TYPE)
epicsEnvUnset(ECMC_EMERG_DECEL)
epicsEnvUnset(ECMC_ACCL)
epicsEnvUnset(ECMC_HOME_VEL_TO)
epicsEnvUnset(ECMC_HOME_VEL_FRM)
epicsEnvUnset(ECMC_EC_ENC_ACTPOS)
epicsEnvUnset(ECMC_ENC_SCALE_DENOM)
epicsEnvUnset(ECMC_ENC_SCALE_NUM)
epicsEnvUnset(ECMC_ENC_TYPE)
epicsEnvUnset(ECMC_ENC_BITS)
epicsEnvUnset(ECMC_ENC_ABS_BITS)
epicsEnvUnset(ECMC_ENC_ABS_OFFSET)
epicsEnvUnset(ECMC_ENC_VEL_FILTER_SIZE)
epicsEnvUnset(ECMC_ENC_POS_FILTER_SIZE)
epicsEnvUnset(ECMC_ENC_POS_FILTER_ENABLE)
epicsEnvUnset(ECMC_EC_ENC_RESET)
epicsEnvUnset(ECMC_EC_ENC_ALARM_0)
epicsEnvUnset(ECMC_EC_ENC_ALARM_1)
epicsEnvUnset(ECMC_EC_ENC_ALARM_2)
epicsEnvUnset(ECMC_EC_ENC_WARNING)
epicsEnvUnset(ECMC_EC_MON_LOWLIM)
epicsEnvUnset(ECMC_EC_MON_HIGHLIM)
epicsEnvUnset(ECMC_EC_MON_HOME_SWITCH)
epicsEnvUnset(ECMC_EC_MON_EXT_INTERLOCK)
epicsEnvUnset(ECMC_MON_AT_TARGET_TOL)
epicsEnvUnset(ECMC_MON_AT_TARGET_TIME)
epicsEnvUnset(ECMC_MON_AT_TARGET_ENA)
epicsEnvUnset(ECMC_MON_LAG_MON_TOL)
epicsEnvUnset(ECMC_MON_LAG_MON_TIME)
epicsEnvUnset(ECMC_MON_LAG_MON_ENA)
epicsEnvUnset(ECMC_MON_VELO_MAX)
epicsEnvUnset(ECMC_MON_VELO_MAX_ENA)
epicsEnvUnset(ECMC_MON_VELO_MAX_DRV_TIME)
epicsEnvUnset(ECMC_MON_VELO_MAX_TRAJ_TIME)
epicsEnvUnset(ECMC_MRES)
epicsEnvUnset(ECMC_JOG_VEL)
epicsEnvUnset(ECMC_JAR)
epicsEnvUnset(ECMC_HOME_PROC)
epicsEnvUnset(ECMC_HOME_POS)
epicsEnvUnset(ECMC_HOME_ACC)
epicsEnvUnset(ECMC_HOME_DEC)
epicsEnvUnset(ECMC_DRV_TYPE)
epicsEnvUnset(ECMC_VELO)
epicsEnvUnset(ECMC_SOFT_LOW_LIM)
epicsEnvUnset(ECMC_SOFT_HIGH_LIM)
epicsEnvUnset(ECMC_HOME_POS_MOVE_ENA)
epicsEnvUnset(ECMC_HOME_POS_MOVE_TARG_POS)
# reset PREFIX
epicsEnvSet("ECMC_PREFIX"      "IOC_TEST:")
epicsEnvSet("ID",       "8")
iocshLoad (/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/configureVirtualAxis.cmd, CONFIG=./cfg/linear.vax, ID=8)
#==============================================================================
# configureVirtualAxis.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD, "'FULL'='DAQ'","ecmcExit Error: ECMC started in DAQ mode. Motion not supported..","#-")
epicsEnvUnset(ECMC_EXE_CMD)
epicsEnvSet("ECMC_PREFIX"      "IOC_TEST:")
iocshLoad ./cfg/linear.vax
#General
epicsEnvSet("ECMC_MOTOR_NAME",            "Axis8")
epicsEnvSet("ECMC_R",                     "Axis8-")
epicsEnvSet("ECMC_AXIS_NO",               "8")
epicsEnvSet("ECMC_DESC",                  "MCU1025 Center Position (8)")
epicsEnvSet("ECMC_EGU",                   "mm")                       # Motor Record Unit
epicsEnvSet("ECMC_PREC",                  "3")                        # Motor Record Precision
epicsEnvSet("ECMC_AXISCONFIG",            "")                         # Extra parameters to driver
epicsEnvSet("ECMC_EC_AXIS_HEALTH",        "")                         # Entry for axis health output (example: ec0.s1.binaryOutput01.0)
epicsEnvSet("ECMC_MOD_RANGE" ,            "0")                        # Modulo range (traj setpoints and encoder values will be in range 0..ECMC_MOD_RANGE)
epicsEnvSet("ECMC_MOD_TYPE",              "0")                        # For positioning and MOD_RANGE>0: 0 = Normal, 1 = Always Fwd, 2 = Always Bwd, 3 = Closest Distance
#Encoder
epicsEnvSet("ECMC_ENC_SCALE_NUM"          "1")
epicsEnvSet("ECMC_ENC_SCALE_DENOM"        "1")
epicsEnvSet("ECMC_ENC_TYPE"               "1")                        # Type: 0=Incremental, 1=Absolute
epicsEnvSet("ECMC_ENC_BITS"               "0")                        # Total bit count of encoder raw data
epicsEnvSet("ECMC_ENC_ABS_BITS",          "0")                        # Absolute bit count (for absolute encoders) always least significant part of ECMC_ENC_BITS
epicsEnvSet("ECMC_ENC_ABS_OFFSET"         "0")                        # Encoder offset in eng units (for absolute encoders)
epicsEnvSet("ECMC_EC_ENC_ACTPOS",         "ec0.s1.ZERO")              # Ethercat entry for actual position input (encoder)
epicsEnvSet("ECMC_EC_ENC_RESET",          "")                         # Reset   (if no encoder reset bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_ALARM_0",        "")                         # Error 0 (if no encoder error bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_ALARM_1",        "")                         # Error 1 (if no encoder error bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_ALARM_2",        "")                         # Error 2 (if no encoder error bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_WARNING",        "")                         # Warning (if no encoder warning bit then leave empty)
#Trajectory
epicsEnvSet("ECMC_VELO",                  "5.0")
epicsEnvSet("ECMC_JOG_VEL",               "5")
epicsEnvSet("ECMC_JAR",                   "0.0")                      # JAR defaults to VELO/ACCL
epicsEnvSet("ECMC_ACCL",                  "0.1")
epicsEnvSet("ECMC_EMERG_DECEL",           "0.1")             # Emergency deceleration
#Homing
epicsEnvSet("ECMC_HOME_PROC",             "3")
epicsEnvSet("ECMC_HOME_POS",              "0.0")
epicsEnvSet("ECMC_HOME_VEL_TO",           "5")
epicsEnvSet("ECMC_HOME_VEL_FRM",          "4")
epicsEnvSet("ECMC_HOME_ACC",              "21")
epicsEnvSet("ECMC_HOME_DEC",              "100")
epicsEnvSet("ECMC_HOME_POS_MOVE_ENA",     "0")                        # Enable move to position after successfull homing 
epicsEnvSet("ECMC_HOME_POS_MOVE_TARG_POS","0")                        # Target position to go to after successfull homing
#Monitoring
# Switches
epicsEnvSet("ECMC_EC_MON_LOWLIM",         "ec0.s1.ONE.0")           #  Ethercat entry for low limit switch input
epicsEnvSet("ECMC_EC_MON_HIGHLIM",        "ec0.s1.ONE.0")           #  Ethercat entry for high limit switch inpuit
epicsEnvSet("ECMC_EC_MON_HOME_SWITCH",   2022/05/13 08:36:36.246 OK
2022/05/13 08:36:36.246 OK
2022/05/13 08:36:36.246 OK
2022/05/13 08:36:36.246 OK
2022/05/13 08:36:36.246 OK
2022/05/13 08:36:36.246 OK
2022/05/13 08:36:36.246 OK
2022/05/13 08:36:36.246 OK
2022/05/13 08:36:36.246 OK
2022/05/13 08:36:36.246 OK
2022/05/13 08:36:36.246 OK
 "ec0.s1.ONE.0")           #  Ethercat entry for home switch input
epicsEnvSet("ECMC_EC_MON_EXT_INTERLOCK",  "ec0.s1.ONE.0")           #  Ethercat entry for external interlock input
# Softlimits (disable with 0,0)
epicsEnvSet("ECMC_SOFT_LOW_LIM",          "0")
epicsEnvSet("ECMC_SOFT_HIGH_LIM",         "0")
epicsEnvSet("ECMC_DXLM_ENABLE",           "1")
# Position lag
epicsEnvSet("ECMC_MON_LAG_MON_TOL",       "0.5")
epicsEnvSet("ECMC_MON_LAG_MON_TIME",      "100")
epicsEnvSet("ECMC_MON_LAG_MON_ENA",       "0")
# At target
epicsEnvSet("ECMC_MON_AT_TARGET_TOL",     "0.3")
epicsEnvSet("ECMC_MON_AT_TARGET_TIME",    "100")
epicsEnvSet("ECMC_MON_AT_TARGET_ENA",     "1")
# Velocity
epicsEnvSet("ECMC_MON_VELO_MAX",          "200.0")
epicsEnvSet("ECMC_MON_VELO_MAX_TRAJ_TIME","100")
epicsEnvSet("ECMC_MON_VELO_MAX_DRV_TIME", "200")
epicsEnvSet("ECMC_MON_VELO_MAX_ENA",      "1")
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addVirtualAxis.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addVirtualAxis.cmd
#==============================================================================
# addVirtualAxis.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD, "'FULL'='DAQ'","ecmcExit Error: ECMC started in DAQ mode. Motion not supported..","#-")
epicsEnvUnset(ECMC_EXE_CMD)
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis-records.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis-records.cmd
#==============================================================================
# ecmc_virt_axis-records.cmd
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis.cmd",1)
iocshLoad( /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis.cmd )
#==============================================================================
# ecmc_virt_axis.cmd
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/verifyOrDie.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/verifyOrDie.cmd "EXPR_STR='abs(1)<>0',SUCCESS_STR='ECMC_ENC_SCALE_NUM value OK == 1...',ERROR_STR='ECMC_ENC_SCALE_NUM == 0...'"
#==============================================================================
# verifyOrDie.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD,"abs(1)<>0","# ECMC_ENC_SCALE_NUM value OK == 1...", "ecmcExit Error: ECMC_ENC_SCALE_NUM == 0...")
# ECMC_ENC_SCALE_NUM value OK == 1...
epicsEnvUnset(ECMC_EXE_CMD)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/verifyOrDie.cmd "EXPR_STR='abs(1)<>0',SUCCESS_STR='ECMC_ENC_SCALE_DENOM value OK == 1...',ERROR_STR='ECMC_ENC_SCALE_DENOM == 0...'"
#==============================================================================
# verifyOrDie.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD,"abs(1)<>0","# ECMC_ENC_SCALE_DENOM value OK == 1...", "ecmcExit Error: ECMC_ENC_SCALE_DENOM == 0...")
# ECMC_ENC_SCALE_DENOM value OK == 1...
epicsEnvUnset(ECMC_EXE_CMD)
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/issueWarning.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/issueWarning.cmd "EXPR_STR='-1>0',WARNING_STR='WARNING: ECMC_MRES setting is deprecated and will not be used. (MRES will be calulated instead: ECMC_ENC_SCALE_NUM/ECMC_ENC_SCALE_DENOM).. '"
#==============================================================================
# issueWarning.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD,"-1>0","", "#-")
epicsEnvUnset(ECMC_EXE_CMD)
ecmcConfigOrDie "Cfg.CreateAxis(8,2)"
ecmcConfigOrDie "Cfg.SetAxisTrajStartPos(8,0)"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax8.health")"
ecmcConfigOrDie "Cfg.SetAxisModRange(8, 0)"
ecmcConfigOrDie "Cfg.SetAxisModType(8, 0)"
ecmcConfigOrDie "Cfg.SetAxisEmergDeceleration(8,0.1)"
ecmcConfigOrDie "Cfg.SetAxisVelAccDecTime(8,5.0,0.1)"
ecmcConfigOrDie "Cfg.SetAxisHomeVelTwordsCam(8,5)"
ecmcConfigOrDie "Cfg.SetAxisHomeVelOffCam(8,4)"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ZERO,"ax8.enc.actpos")"
ecmcConfigOrDie "Cfg.SetAxisEncScaleDenom(8,1)"
2022/05/13 08:36:36.246 OK
2022/05/13 08:36:36.246 OK
2022/05/13 08:36:36.246 OK
2022/05/13 08:36:36.247 OK
2022/05/13 08:36:36.247 OK
2022/05/13 08:36:36.247 OK
2022/05/13 08:36:36.247 OK
2022/05/13 08:36:36.247 OK
2022/05/13 08:36:36.247 OK
2022/05/13 08:36:36.247 OK
2022/05/13 08:36:36.247 OK
2022/05/13 08:36:36.247 OK
2022/05/13 08:36:36.247 OK
2022/05/13 08:36:36.247 OK
2022/05/13 08:36:36.247 OK
2022/05/13 08:36:36.247 OK
2022/05/13 08:36:36.247 OK
2022/05/13 08:36:36.248 OK
2022/05/13 08:36:36.248 OK
2022/05/13 08:36:36.248 OK
2022/05/13 08:36:36.248 OK
2022/05/13 08:36:36.248 OK
2022/05/13 08:36:36.248 OK
2022/05/13 08:36:36.248 OK
2022/05/13 08:36:36.248 OK
2022/05/13 08:36:36.248 OK
2022/05/13 08:36:36.248 OK
2022/05/13 08:36:36.248 OK
2022/05/13 08:36:36.248 OK
2022/05/13 08:36:36.249 OK
2022/05/13 08:36:36.249 OK
2022/05/13 08:36:36.249 OK
2022/05/13 08:36:36.249 OK
2022/05/13 08:36:36.249 OK
2022/05/13 08:36:36.249 OK
2022/05/13 08:36:36.249 OK
2022/05/13 08:36:36.249 OK
2022/05/13 08:36:36.249 OK
2022/05/13 08:36:36.249 OK
2022/05/13 08:36:36.249 ecmcMotorRecord:: setIntegerParam(8 motorPowerAutoOnOff_)=2
2022/05/13 08:36:36.249 ecmcMotorRecord:: setDoubleParam(8 motorPowerOnDelay_)=6
2022/05/13 08:36:36.249 ecmcMotorRecord:: setDoubleParam(8 motorPowerOffDelay_=-1
2022/05/13 08:36:36.249 ecmcMotorRecord:: connected(8)
2022/05/13 08:36:36.249 ecmcMotorRecord:: initialPoll(8) status=0
ecmcConfigOrDie "Cfg.SetAxisEncScaleNum(8,1)"
ecmcConfigOrDie "Cfg.SetAxisEncType(8,1)"
ecmcConfigOrDie "Cfg.SetAxisEncBits(8,0)"
ecmcConfigOrDie "Cfg.SetAxisEncAbsBits(8,0)"
ecmcConfigOrDie "Cfg.SetAxisEncOffset(8,0)"
ecmcConfigOrDie "Cfg.SetAxisEncVelFilterSize(8,100)"
ecmcConfigOrDie "Cfg.SetAxisEncPosFilterSize(8,1)"
ecmcConfigOrDie "Cfg.SetAxisEncPosFilterEnable(8,0)"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax8.enc.reset")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax8.enc.alarm0")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax8.enc.alarm1")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax8.enc.alarm2")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax8.enc.warning")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax8.enc.latchpos")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax8.enc.latchcontrol")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax8.enc.latchstatus")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax8.mon.lowlim")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax8.mon.highlim")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax8.mon.homesensor")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax8.mon.extinterlock")"
ecmcConfigOrDie "Cfg.SetAxisMonAtTargetTol(8,0.3)"
ecmcConfigOrDie "Cfg.SetAxisMonAtTargetTime(8,100)"
ecmcConfigOrDie "Cfg.SetAxisMonEnableAtTargetMon(8,1)"
ecmcConfigOrDie "Cfg.SetAxisMonPosLagTol(8,0.5)"
ecmcConfigOrDie "Cfg.SetAxisMonPosLagTime(8,100)"
ecmcConfigOrDie "Cfg.SetAxisMonEnableLagMon(8,0)"
ecmcConfigOrDie "Cfg.SetAxisMonMaxVel(8,200.0)"
ecmcConfigOrDie "Cfg.SetAxisMonEnableMaxVel(8,1)"
ecmcConfigOrDie "Cfg.SetAxisMonMaxVelDriveILDelay(8,200)"
ecmcConfigOrDie "Cfg.SetAxisMonMaxVelTrajILDelay(8,100)"
ecmcConfigOrDie "Cfg.SetAxisSoftLimitPosBwd(8,0)"
ecmcConfigOrDie "Cfg.SetAxisEnableSoftLimitBwd(8,1)"
ecmcConfigOrDie "Cfg.SetAxisSoftLimitPosFwd(8,0)"
ecmcConfigOrDie "Cfg.SetAxisEnableSoftLimitFwd(8,1)"
ecmcConfigOrDie "Cfg.SetAxisMonHomeSwitchPolarity(8,0)"
ecmcConfigOrDie "Cfg.SetAxisHomeLatchCountOffset(8,0)"
ecmcConfigOrDie "Main.M8.fHomePosition=0.0"
ecmcConfigOrDie "Cfg.SetAxisHomePostMoveEnable(8, 0)"
ecmcConfigOrDie "Cfg.SetAxisHomePostMoveTargetPosition(8, 0)"
ecmcMotorRecordCreateAxis(MCU1, "8", "6", "")
ecmcEpicsEnvSetCalc("ECMC_TEMP_SREV","if(abs(1)>0){RESULT:=abs(1);} else {RESULT:=1.0};","%d")
ecmcEpicsEnvSetCalc("ECMC_TEMP_UREV","if(abs(1)>0){RESULT:=abs(1);} else {RESULT:=1.0};","%lf")
ecmcFileExist(ecmcMotorRecord.template,1,1)
dbLoadRecords(ecmcMotorRecord.template, "PREFIX=IOC_TEST:, MOTOR_NAME=Axis8, MOTOR_PORT=MCU1, AXIS_NO=8, DESC=MCU1025 Center Position (8), EGU=mm, PREC=3, VELO=5.0, JVEL=5, JAR=0.0, ACCL=0.1, RDBD=0.3, DLLM=0, DHLM=0, HOMEPROC=3,SREV=1,UREV=1.000000, ")
epicsEnvSet("ECMC_AXISFIELDINIT",  "")
ecmcFileExist(ecmcMotorRecord"home.template",1,1)
dbLoadRecords(ecmcMotorRecord"home.template", "PREFIX=IOC_TEST:, MOTOR_NAME=Axis8, MOTOR_PORT=MCU1, AXIS_NO=8,HOMEPROC=3, HOMEPOS=0.0, HVELTO=5, HVELFRM=4, HOMEACC=21, HOMEDEC=100")
epicsEnvUnset(ECMC_TEMP_SREV)
epicsEnvUnset(ECMC_TEMP_UREV)
ecmcFileExist("ecmcAxis.db",1,1)
dbLoadRecords("ecmcAxis.db","P=IOC_TEST:,AXIS_NAME=Axis8,AXIS_NO=8,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,T_SMP_MS=10,TSE=-2")
ecmcFileExist("ecmcAxisType.db",1,1)
dbLoadRecords("ecmcAxisType.db","P=IOC_TEST:,AXIS_NAME=Axis8,AXIS_TYPE=2")
ecmcFileExist(/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis_unset.cmd,1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis_unset.cmd
#==============================================================================
# ecmc_virt_axis_unset.cmd
epicsEnvUnset(ECMC_AXISCONFIG)
epicsEnvUnset(ECMC_AXISFIELDINIT)
epicsEnvUnset(ECMC_PREC)
epicsEnvUnset(ECMC_EGU)
epicsEnvUnset(ECMC_DESC)
epicsEnvUnset(ECMC_R)
epicsEnvUnset(ECMC_MOTOR_NAME)
epicsEnvUnset(ECMC_EC_AXIS_HEALTH)
epicsEnvUnset(ECMC_MOD_RANGE)
epicsEnvUnset(ECMC_MOD_TYPE)
epicsEnvUnset(ECMC_EMERG_DECEL)
epicsEnvUnset(ECMC_ACCL)
epicsEnvUnset(ECMC_HOME_VEL_TO)
epicsEnvUnset(ECMC_HOME_VEL_FRM)
epicsEnvUnset(ECMC_EC_ENC_ACTPOS)
epicsEnvUnset(ECMC_ENC_SCALE_DENOM)
epicsEnvUnset(ECMC_ENC_SCALE_NUM)
epicsEnvUnset(ECMC_ENC_TYPE)
epicsEnvUnset(ECMC_ENC_BITS)
epicsEnvUnset(ECMC_ENC_ABS_BITS)
epicsEnvUnset(ECMC_ENC_ABS_OFFSET)
epicsEnvUnset(ECMC_ENC_VEL_FILTER_SIZE)
epicsEnvUnset(ECMC_ENC_POS_FILTER_SIZE)
epicsEnvUnset(ECMC_ENC_POS_FILTER_ENABLE)
epicsEnvUnset(ECMC_EC_ENC_RESET)
epicsEnvUnset(ECMC_EC_ENC_ALARM_0)
epicsEnvUnset(ECMC_EC_ENC_ALARM_1)
epicsEnvUnset(ECMC_EC_ENC_ALARM_2)
epicsEnvUnset(ECMC_EC_ENC_WARNING)
epicsEnvUnset(ECMC_EC_MON_LOWLIM)
epicsEnvUnset(ECMC_EC_MON_HIGHLIM)
epicsEnvUnset(ECMC_EC_MON_HOME_SWITCH)
epicsEnvUnset(ECMC_EC_MON_EXT_INTERLOCK)
epicsEnvUnset(ECMC_MON_AT_TARGET_TOL)
epicsEnvUnset(ECMC_MON_AT_TARGET_TIME)
epicsEnvUnset(ECMC_MON_AT_TARGET_ENA)
epicsEnvUnset(ECMC_MON_LAG_MON_TOL)
epicsEnvUnset(ECMC_MON_LAG_MON_TIME)
epicsEnvUnset(ECMC_MON_LAG_MON_ENA)
epicsEnvUnset(ECMC_MON_VELO_MAX)
epicsEnvUnset(ECMC_MON_VELO_MAX_ENA)
epicsEnvUnset(ECMC_MON_VELO_MAX_DRV_TIME)
epicsEnvUnset(ECMC_MON_VELO_MAX_TRAJ_TIME)
epicsEnvUnset(ECMC_MRES)
epicsEnvUnset(ECMC_JOG_VEL)
epicsEnvUnset(ECMC_JAR)
epicsEnvUnset(ECMC_HOME_PROC)
epicsEnvUnset(ECMC_HOME_POS)
epicsEnvUnset(ECMC_HOME_ACC)
epicsEnvUnset(ECMC_HOME_DEC)
epicsEnvUnset(ECMC_DRV_TYPE)
epicsEnvUnset(ECMC_VELO)
epicsEnvUnset(ECMC_SOFT_LOW_LIM)
epicsEnvUnset(ECMC_SOFT_HIGH_LIM)
epicsEnvUnset(ECMC_HOME_POS_MOVE_ENA)
epicsEnvUnset(ECMC_HOME_POS_MOVE_TARG_POS)
# reset PREFIX
epicsEnvSet("ECMC_PREFIX"      "IOC_TEST:")
epicsEnvSet("ID",       "9")
iocshLoad (/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/configureVirtualAxis.cmd, CONFIG=./cfg/linear.vax, ID=9)
#==============================================================================
# configureVirtualAxis.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD, "'FULL'='DAQ'","ecmcExit Error: ECMC started in DAQ mode. Motion not supported..","#-")
epicsEnvUnset(ECMC_EXE_CMD)
epicsEnvSet("ECMC_PREFIX"      "IOC_TEST:")
iocshLoad ./cfg/linear.vax
#General
epicsEnvSet("ECMC_MOTOR_NAME",            "Axis9")
epicsEnvSet("ECMC_R",                     "Axis9-")
epicsEnvSet("ECMC_AXIS_NO",               "9")
epicsEnvSet("ECMC_DESC",                  "MCU1025 Center Position (9)")
epicsEnvSet("ECMC_EGU",                   "mm")                       # Motor Record Unit
epicsEnvSet("ECMC_PREC",                  "3")                        # Motor Record Precision
epicsEnvSet("ECMC_AXISCONFIG",            "")                         # Extra parameters to driver
epicsEnvSet("ECMC_EC_AXIS_HEALTH",        "")                         # Entry for axis health output (example: ec0.s1.binaryOutput01.0)
epicsEnvSet("ECMC_MOD_RANGE" ,            "0")                        # Modulo range (traj setpoints and encoder values will be in range 0..ECMC_MOD_RANGE)
epicsEnvSet("ECMC_MOD_TYPE",              "0")                        # For positioning and MOD_RANGE>0: 0 = Normal, 1 = Always Fwd, 2 = Always Bwd, 3 = Closest Distance
#Encoder
epicsEnvSet("ECMC_ENC_SCALE_NUM"          "1")
epicsEnvSet("ECMC_ENC_SCALE_DENOM"        "1")
epicsEnvSet("ECMC_ENC_TYPE"               "1")                        # Type: 0=Incremental, 1=Absolute
epicsEnvSet("ECMC_ENC_BITS"               "0")                        # Total bit count of encoder raw data
epicsEnvSet("ECMC_ENC_ABS_BITS",          "0")                        # Absolute bit count (for absolute encoders) always least significant part of ECMC_ENC_BITS
epicsEnvSet("ECMC_ENC_ABS_OFFSET"         "0")                        # Encoder offset in eng units (for absolute encoders)
epicsEnvSet("ECMC_EC_ENC_ACTPOS",         "ec0.s1.ZERO")              # Ethercat entry for actual position input (encoder)
epicsEnvSet("ECMC_EC_ENC_RESET",          "")                         # Reset   (if no encoder reset bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_ALARM_0",        "")                         # Error 0 (if no encoder error bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_ALARM_1",        "")                         # Error 1 (if no encoder error bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_ALARM_2",        "")                         # Error 2 (if no encoder error bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_WARNING",        "")                         # Warning (if no encoder warning bit then leave empty)
#Trajectory
epicsEnvSet("ECMC_VELO",                  "5.0")
epicsEnvSet("ECMC_JOG_VEL",               "5")
epicsEnvSet("ECMC_JAR",                   "0.0")                      # JAR defaults to VELO/ACCL
epicsEnvSet("ECMC_ACCL",                  "0.1")
epicsEnvSet("ECMC_EMERG_DECEL",           "0.1")             # Emergency deceleration
#Homing
epicsEnvSet("ECMC_HOME_PROC",             "3")
epicsEnvSet("ECMC_HOME_POS",              "0.0")
epicsEnvSet("ECMC_HOME_VEL_TO",           "5")
epicsEnvSet("ECMC_HOME_VEL_FRM",          "4")
epicsEnvSet("ECMC_HOME_ACC",              "21")
epicsEnvSet("ECMC_HOME_DEC",              "100")
epicsEnvSet("ECMC_HOME_POS_MOVE_ENA",     "0")                        # Enable move to position after successfull homing 
epicsEnvSet("ECMC_HOME_POS_MOVE_TARG_POS","0")                        # Target position to go to after successfull homing
#Monitoring
# Switches
epicsEnvSet("ECMC_EC_MON_LOWLIM",         "ec0.s1.ONE.0")           #  Ethercat entry for low limit switch input
epicsEnvSet("ECMC_EC_MON_HIGHLIM",        "ec0.s1.ONE.0")           #  Ethercat entry for high limit switch inpuit
epicsEnvSet("ECMC_EC_MON_HOME_SWITCH",    "ec0.s1.ONE.0")           #  Ethercat entry for home switch input
epicsEnvSet("ECMC_EC_MON_EXT_INTERLOCK",  "ec0.s1.ONE.0")           #  Ethercat entry for external interlock input
# Softlimits (disable with 0,0)
epicsEnvSet("ECMC_SOFT_LOW_LIM",          "0")
epicsEnvSet("ECMC_SOFT_HIGH_LIM",         "0")
epicsEnvSet("ECMC_DXLM_ENABLE",           "1")
# Position lag
epicsEnvSet("ECMC_MON_LAG_MON_TOL",       "0.5")
epicsEnvSet("ECMC_MON_LAG_MON_TIME",      "100")
epicsEnvSet("ECMC_MON_LAG_MON_ENA",       "0")
# At target
epicsEnvSet("ECMC_MON_AT_TARGET_TOL",     "0.3")
epicsEnvSet("ECMC_MON_AT_TARGET_TIME",    "100")
epicsEnvSet("ECMC_MON_AT_TARGET_ENA",     "1")
# Velocity
epicsEnvSet("ECMC_MON_VELO_MAX",          "200.0")
epicsEnvSet("ECMC_MON_VELO_MAX_TRAJ_TIME","100")
epicsEnvSet("ECMC_MON_VELO_MAX_DRV_TIME", "200")
epicsEnvSet("ECMC_MON_VELO_MAX_ENA",      "1")
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addVirtualAxis.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addVirtualAxis.cmd
#==============================================================================
# addVirtualAxis.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD, "'FULL'='DAQ'","ecmcExit Error: ECMC started in DAQ mode. Motion not supported..","#-")
epicsEnvUnset(ECMC_EXE_CMD)
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis-records.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis-records.cmd
#==============================================================================
# ecmc_virt_axis-records.cmd
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis.cmd",1)
iocshLoad( /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis.cmd )
#==============================================================================
# ecmc_virt_axis.cmd
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/verifyOrDie.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/verifyOrDie.cmd "EXPR_STR='abs(1)<>0',SUCCESS_STR='ECMC_ENC_SCALE_NUM value OK == 1...',ERROR_STR='ECMC_ENC_SCALE_NUM == 0...'"
#==============================================================================
# verifyOrDie.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD,"abs(1)<>0","# ECMC_ENC_SCALE_NUM value OK == 1...", "ecmcExit Error: ECMC_ENC_SCALE_NUM == 0...")
# ECMC_ENC_SCALE_NUM value OK == 1...
epicsEnvUnset(ECMC_EXE_CMD)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/verifyOrDie.cmd "EXPR_STR='abs(1)<>0',SUCCESS_STR='ECMC_ENC_SCALE_DENOM value OK == 1...',ERROR_STR='ECMC_ENC_SCALE_DENOM == 0...'"
#==============================================================================
# verifyOr2022/05/13 08:36:36.257 OK
2022/05/13 08:36:36.258 OK
2022/05/13 08:36:36.258 OK
2022/05/13 08:36:36.258 OK
2022/05/13 08:36:36.258 OK
2022/05/13 08:36:36.258 OK
2022/05/13 08:36:36.258 OK
2022/05/13 08:36:36.258 OK
2022/05/13 08:36:36.258 OK
2022/05/13 08:36:36.258 OK
2022/05/13 08:36:36.258 OK
2022/05/13 08:36:36.258 OK
2022/05/13 08:36:36.258 OK
2022/05/13 08:36:36.258 OK
2022/05/13 08:36:36.259 OK
2022/05/13 08:36:36.259 OK
2022/05/13 08:36:36.259 OK
2022/05/13 08:36:36.259 OK
2022/05/13 08:36:36.259 OK
2022/05/13 08:36:36.259 OK
2022/05/13 08:36:36.259 OK
2022/05/13 08:36:36.259 OK
2022/05/13 08:36:36.259 OK
2022/05/13 08:36:36.259 OK
2022/05/13 08:36:36.259 OK
2022/05/13 08:36:36.259 OK
2022/05/13 08:36:36.259 OK
2022/05/13 08:36:36.259 OK
2022/05/13 08:36:36.260 OK
2022/05/13 08:36:36.260 OK
2022/05/13 08:36:36.260 OK
2022/05/13 08:36:36.260 OK
2022/05/13 08:36:36.260 OK
2022/05/13 08:36:36.260 OK
2022/05/13 08:36:36.260 OK
2022/05/13 08:36:36.260 OK
2022/05/13 08:36:36.260 OK
2022/05/13 08:36:36.260 OK
2022/05/13 08:36:36.260 OK
2022/05/13 08:36:36.260 OK
2022/05/13 08:36:36.260 OK
2022/05/13 08:36:36.260 OK
2022/05/13 08:36:36.261 OK
2022/05/13 08:36:36.261 OK
2022/05/13 08:36:36.261 OK
2022/05/13 08:36:36.261 OK
2022/05/13 08:36:36.261 OK
2022/05/13 08:36:36.261 OK
2022/05/13 08:36:36.261 OK
2022/05/13 08:36:36.261 OK
2022/05/13 08:36:36.261 ecmcMotorRecord:: setIntegerParam(9 motorPowerAutoOnOff_)=2
2022/05/13 08:36:36.261 ecmcMotorRecord:: setDoubleParam(9 motorPowerOnDelay_)=6
2022/05/13 08:36:36.261 ecmcMotorRecord:: setDoubleParam(9 motorPowerOffDelay_=-1
2022/05/13 08:36:36.261 ecmcMotorRecord:: connected(9)
2022/05/13 08:36:36.261 ecmcMotorRecord:: initialPoll(9) status=0
Die.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD,"abs(1)<>0","# ECMC_ENC_SCALE_DENOM value OK == 1...", "ecmcExit Error: ECMC_ENC_SCALE_DENOM == 0...")
# ECMC_ENC_SCALE_DENOM value OK == 1...
epicsEnvUnset(ECMC_EXE_CMD)
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/issueWarning.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/issueWarning.cmd "EXPR_STR='-1>0',WARNING_STR='WARNING: ECMC_MRES setting is deprecated and will not be used. (MRES will be calulated instead: ECMC_ENC_SCALE_NUM/ECMC_ENC_SCALE_DENOM).. '"
#==============================================================================
# issueWarning.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD,"-1>0","", "#-")
epicsEnvUnset(ECMC_EXE_CMD)
ecmcConfigOrDie "Cfg.CreateAxis(9,2)"
ecmcConfigOrDie "Cfg.SetAxisTrajStartPos(9,0)"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax9.health")"
ecmcConfigOrDie "Cfg.SetAxisModRange(9, 0)"
ecmcConfigOrDie "Cfg.SetAxisModType(9, 0)"
ecmcConfigOrDie "Cfg.SetAxisEmergDeceleration(9,0.1)"
ecmcConfigOrDie "Cfg.SetAxisVelAccDecTime(9,5.0,0.1)"
ecmcConfigOrDie "Cfg.SetAxisHomeVelTwordsCam(9,5)"
ecmcConfigOrDie "Cfg.SetAxisHomeVelOffCam(9,4)"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ZERO,"ax9.enc.actpos")"
ecmcConfigOrDie "Cfg.SetAxisEncScaleDenom(9,1)"
ecmcConfigOrDie "Cfg.SetAxisEncScaleNum(9,1)"
ecmcConfigOrDie "Cfg.SetAxisEncType(9,1)"
ecmcConfigOrDie "Cfg.SetAxisEncBits(9,0)"
ecmcConfigOrDie "Cfg.SetAxisEncAbsBits(9,0)"
ecmcConfigOrDie "Cfg.SetAxisEncOffset(9,0)"
ecmcConfigOrDie "Cfg.SetAxisEncVelFilterSize(9,100)"
ecmcConfigOrDie "Cfg.SetAxisEncPosFilterSize(9,1)"
ecmcConfigOrDie "Cfg.SetAxisEncPosFilterEnable(9,0)"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax9.enc.reset")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax9.enc.alarm0")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax9.enc.alarm1")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax9.enc.alarm2")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax9.enc.warning")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax9.enc.latchpos")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax9.enc.latchcontrol")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax9.enc.latchstatus")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax9.mon.lowlim")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax9.mon.highlim")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax9.mon.homesensor")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax9.mon.extinterlock")"
ecmcConfigOrDie "Cfg.SetAxisMonAtTargetTol(9,0.3)"
ecmcConfigOrDie "Cfg.SetAxisMonAtTargetTime(9,100)"
ecmcConfigOrDie "Cfg.SetAxisMonEnableAtTargetMon(9,1)"
ecmcConfigOrDie "Cfg.SetAxisMonPosLagTol(9,0.5)"
ecmcConfigOrDie "Cfg.SetAxisMonPosLagTime(9,100)"
ecmcConfigOrDie "Cfg.SetAxisMonEnableLagMon(9,0)"
ecmcConfigOrDie "Cfg.SetAxisMonMaxVel(9,200.0)"
ecmcConfigOrDie "Cfg.SetAxisMonEnableMaxVel(9,1)"
ecmcConfigOrDie "Cfg.SetAxisMonMaxVelDriveILDelay(9,200)"
ecmcConfigOrDie "Cfg.SetAxisMonMaxVelTrajILDelay(9,100)"
ecmcConfigOrDie "Cfg.SetAxisSoftLimitPosBwd(9,0)"
ecmcConfigOrDie "Cfg.SetAxisEnableSoftLimitBwd(9,1)"
ecmcConfigOrDie "Cfg.SetAxisSoftLimitPosFwd(9,0)"
ecmcConfigOrDie "Cfg.SetAxisEnableSoftLimitFwd(9,1)"
ecmcConfigOrDie "Cfg.SetAxisMonHomeSwitchPolarity(9,0)"
ecmcConfigOrDie "Cfg.SetAxisHomeLatchCountOffset(9,0)"
ecmcConfigOrDie "Main.M9.fHomePosition=0.0"
ecmcConfigOrDie "Cfg.SetAxisHomePostMoveEnable(9, 0)"
ecmcConfigOrDie "Cfg.SetAxisHomePostMoveTargetPosition(9, 0)"
ecmcMotorRecordCreateAxis(MCU1, "9", "6", "")
ecmcEpicsEnvSetCalc("ECMC_TEMP_SREV","if(abs(1)>0){RESULT:=abs(1);} else {RESULT:=1.0};","%d")
ecmcEpicsEnvSetCalc("ECMC_TEMP_UREV","if(abs(1)>0){RESULT:=abs(1);} else {RESULT:=1.0};","%lf")
ecmcFileExist(ecmcMotorRecord.template,1,1)
dbLoadRecords(ecmcMotorRecord.template, "PREFIX=IOC_TEST:, MOTOR_NAME=Axis9, MOTOR_PORT=MCU1, AXIS_NO=9, DESC=MCU1025 Center Position (9), EGU=mm, PREC=3, VELO=5.0, JVEL=5, JAR=0.0, ACCL=0.1, RDBD=0.3, DLLM=0, DHLM=0, HOMEPROC=3,SREV=1,UREV=1.000000, ")
epicsEnvSet("ECMC_AXISFIELDINIT",  "")
ecmcFileExist(ecmcMotorRecord"home.template",1,1)
dbLoadRecords(ecmcMotorRecord"home.template", "PREFIX=IOC_TEST:, MOTOR_NAME=Axis9, MOTOR_PORT=MCU1, AXIS_NO=9,HOMEPROC=3, HOMEPOS=0.0, HVELTO=5, HVELFRM=4, HOMEACC=21, HOMEDEC=100")
epicsEnvUnset(ECMC_TEMP_SREV)
epicsEnvUnset(ECMC_TEMP_UREV)
ecmcFileExist("ecmcAxis.db",1,1)
dbLoadRecords("ecmcAxis.db","P=IOC_TEST:,AXIS_NAME=Axis9,AXIS_NO=9,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,T_SMP_MS=10,TSE=-2")
ecmcFileExist("ecmcAxisType.db",1,1)
dbLoadRecords("ecmcAxisType.db","P=IOC_TEST:,AXIS_NAME=Axis9,AXIS_TYPE=2")
ecmcFileExist(/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis_unset.cmd,1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis_unset.cmd
#==============================================================================
# ecmc_virt_axis_unset.cmd
epicsEnvUnset(ECMC_AXISCONFIG)
epicsEnvUnset(ECMC_AXISFIELDINIT)
epicsEnvUnset(ECMC_PREC)
epicsEnvUnset(ECMC_EGU)
epicsEnvUnset(ECMC_DESC)
epicsEnvUnset(ECMC_R)
epicsEnvUnset(ECMC_MOTOR_NAME)
epicsEnvUnset(ECMC_EC_AXIS_HEALTH)
epicsEnvUnset(ECMC_MOD_RANGE)
epicsEnvUnset(ECMC_MOD_TYPE)
epicsEnvUnset(ECMC_EMERG_DECEL)
epicsEnvUnset(ECMC_ACCL)
epicsEnvUnset(ECMC_HOME_VEL_TO)
epicsEnvUnset(ECMC_HOME_VEL_FRM)
epicsEnvUnset(ECMC_EC_ENC_ACTPOS)
epicsEnvUnset(ECMC_ENC_SCALE_DENOM)
epicsEnvUnset(ECMC_ENC_SCALE_NUM)
epicsEnvUnset(ECMC_ENC_TYPE)
epicsEnvUnset(ECMC_ENC_BITS)
epicsEnvUnset(ECMC_ENC_ABS_BITS)
epicsEnvUnset(ECMC_ENC_ABS_OFFSET)
epicsEnvUnset(ECMC_ENC_VEL_FILTER_SIZE)
epicsEnvUnset(ECMC_ENC_POS_FILTER_SIZE)
epicsEnvUnset(ECMC_ENC_POS_FILTER_ENABLE)
epicsEnvUnset(ECMC_EC_ENC_RESET)
epicsEnvUnset(ECMC_EC_ENC_ALARM_0)
epicsEnvUnset(ECMC_EC_ENC_ALARM_1)
epicsEnvUnset(ECMC_EC_ENC_ALARM_2)
epicsEnvUnset(ECMC_EC_ENC_WARNING)
epicsEnvUnset(ECMC_EC_MON_LOWLIM)
epicsEnvUnset(ECMC_EC_MON_HIGHLIM)
epicsEnvUnset(ECMC_EC_MON_HOME_SWITCH)
epicsEnvUnset(ECMC_EC_MON_EXT_INTERLOCK)
epicsEnvUnset(ECMC_MON_AT_TARGET_TOL)
epicsEnvUnset(ECMC_MON_AT_TARGET_TIME)
epicsEnvUnset(ECMC_MON_AT_TARGET_ENA)
epicsEnvUnset(ECMC_MON_LAG_MON_TOL)
epicsEnvUnset(ECMC_MON_LAG_MON_TIME)
epicsEnvUnset(ECMC_MON_LAG_MON_ENA)
epicsEnvUnset(ECMC_MON_VELO_MAX)
epicsEnvUnset(ECMC_MON_VELO_MAX_ENA)
epicsEnvUnset(ECMC_MON_VELO_MAX_DRV_TIME)
epicsEnvUnset(ECMC_MON_VELO_MAX_TRAJ_TIME)
epicsEnvUnset(ECMC_MRES)
epicsEnvUnset(ECMC_JOG_VEL)
epicsEnvUnset(ECMC_JAR)
epicsEnvUnset(ECMC_HOME_PROC)
epicsEnvUnset(ECMC_HOME_POS)
epicsEnvUnset(ECMC_HOME_ACC)
epicsEnvUnset(ECMC_HOME_DEC)
epicsEnvUnset(ECMC_DRV_TYPE)
epicsEnvUnset(ECMC_VELO)
epicsEnvUnset(ECMC_SOFT_LOW_LIM)
epicsEnvUnset(ECMC_SOFT_HIGH_LIM)
epicsEnvUnset(ECMC_HOME_POS_MOVE_ENA)
epicsEnvUnset(ECMC_HOME_POS_MOVE_TARG_POS)
# reset PREFIX
epicsEnvSet("ECMC_PREFIX"      "IOC_TEST:")
epicsEnvSet("ID",       "10")
iocshLoad (/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/configureVirtualAxis.cmd, CONFIG=./cfg/linear.vax, ID=10)
#==============================================================================
# configureVirtualAxis.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD, "'FULL'='DAQ'","ecmcExit Error: ECMC started in DAQ mode. Motion not supported..","#-")
epicsEnvUnset(ECMC_EXE_CMD)
epicsEnvSet("ECMC_PREFIX"      "IOC_TEST:")
iocshLoad ./cfg/linear.vax
#General
epicsEnvSet("ECMC_MOTOR_NAME",            "Axis10")
epicsEnvSet("ECMC_R",                     "Axis10-")
epicsEnvSet("ECMC_AXIS_NO",               "10")
epicsEnvSet("ECMC_DESC",                  "MCU1025 Center Position (10)")
epicsEnvSet("ECMC_EGU",                   "mm")                       # Motor Record Unit
epicsEnvSet("ECMC_PREC",                  "3")                        # Motor Record Precision
epicsEnvSet("ECMC_AXISCONFIG",            "")                         # Extra parameters to driver
epicsEnvSet("ECMC_EC_AXIS_HEALTH",        "")                         # Entry for axis health output (example: ec0.s1.binaryOutput01.0)
epicsEnvSet("ECMC_MOD_RANGE" ,            "0")                        # Modulo range (traj setpoints and encoder values will be in range 0..ECMC_MOD_RANGE)
epicsEnvSet("ECMC_MOD_TYPE",              "0")                        # For positioning and MOD_RANGE>0: 0 = Normal, 1 = Always Fwd, 2 = Always Bwd, 3 = Closest Distance
#Encoder
epicsEnvSet("ECMC_ENC_SCALE_NUM"          "1")
epicsEnvSet("ECMC_ENC_SCALE_DENOM"        "1")
epicsEnvSet("ECMC_ENC_TYPE"               "1")                        # Type: 0=Incremental, 1=Absolute
epicsEnvSet("ECMC_ENC_BITS"               "0")                        # Total bit count of encoder raw data
epicsEnvSet("ECMC_ENC_ABS_BITS",          "0")                        # Absolute bit count (for absolute encoders) always least significant part of ECMC_ENC_BITS
epicsEnvSet("ECMC_ENC_ABS_OFFSET"         "0")                        # Encoder offset in eng units (for absolute encoders)
epicsEnvSet("ECMC_EC_ENC_ACTPOS",         "ec0.s1.ZERO")              # Ethercat entry for actual position input (encoder)
epicsEnvSet("ECMC_EC_ENC_RESET",          "")                         # Reset   (if no encoder reset bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_ALARM_0",        "")                         # Error 0 (if no encoder error bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_ALARM_1",        "")                         # Error 1 (if no encoder error bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_ALARM_2",        "")                         # Error 2 (if no encoder error bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_WARNING",        "")                         # Warning (if no encoder warning bit then leave empty)
#Trajectory
epicsEnvSet("ECMC_VELO",                  "5.0")
epicsEnvSet("ECMC_JOG_VEL",               "5")
epicsEnvSet("ECMC_JAR",                   "0.0")                      # JAR defaults to VELO/ACCL
epicsEnvSet("ECMC_ACCL",                  "0.1")
epicsEnvSet("ECMC_EMERG_DECEL",           "0.1")             # Emergency deceleration
#Homing
epicsEnvSet("ECMC_HOME_PROC",             "3")
epicsEnvSet("ECMC_HOME_POS",              "0.0")
epicsEnvSet("ECMC_HOME_VEL_TO",           "5")
epicsEnvSet("ECMC_HOME_VEL_FRM",          "4")
epicsEnvSet("ECMC_HOME_ACC",              "21")
epicsEnvSet("ECMC_HOME_DEC",              "100")
epicsEnvSet("ECMC_HOME_POS_MOVE_ENA",     "0")                        # Enable move to position after successfull homing 
epicsEnvSet("ECMC_HOME_POS_MOVE_TARG_POS","0")                        # Target position to go to after successfull homing
#Monitoring
# Switches
epicsEnvSet("ECMC_EC_MON_LOWLIM",         "ec0.s1.ONE.0")           #  Ethercat entry for low limit switch input
epicsEnvSet("ECMC_EC_MON_HIGHLIM",        "ec0.s1.ONE.0")           #  Ethercat entry for high limit switch inpuit
epicsEnvSet("ECMC_EC_MON_HOME_SWITCH",    "ec0.s1.ONE.0")           #  Ethercat entry for home switch input
epicsEnvSet("ECMC_EC_MON_EXT_INTERLOCK",  "ec0.s1.ONE.0")           #  Ethercat entry for external interlock input
# Softlimits (disable with 0,0)
epicsEnvSet("ECMC_SOFT_LOW_LIM",          "0")
epicsEnvSet("ECMC_SOFT_HIGH_LIM",         "0")
epicsEnvSet("ECMC_DXLM_ENABLE",           "1")
# Position lag
epicsEnvSet("ECMC_MON_LAG_MON_TOL",       "0.5")
epicsEnvSet("ECMC_MON_LAG_MON_TIME",      "100")
epicsEnvSet("ECMC_MON_LAG_MON_ENA",       "0")
# At target
epicsEnvSet("ECMC_MON_AT_TARGET_TOL",     "0.3")
epicsEnvSet("ECMC_MON_AT_TARGET_TIME",    "100")
epicsEnvSet("ECMC_MON_AT_TARGET_ENA",     "1")
# Velocity
epicsEnvSet("ECMC_MON_VELO_MAX",          "200.0")
epicsEnvSet("ECMC_MON_VELO_MAX_TRAJ_TIME","100")
epicsEnvSet("ECMC_MON_VELO_MAX_DRV_TIME", "200")
epicsEnvSet("ECMC_MON_VELO_MAX_ENA",      "1")
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addVirtualAxis.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addVirtualAxis.cmd
#==============================================================================
# addVirtualAxis.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD, "'FULL'='DAQ'","ecmcExit Error: ECMC started in DAQ mode. Motion not supported..","#-")
epicsEnvUnset(ECMC_EXE_CMD)
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis-records.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ec2022/05/13 08:36:36.269 OK
2022/05/13 08:36:36.270 OK
2022/05/13 08:36:36.270 OK
2022/05/13 08:36:36.270 OK
2022/05/13 08:36:36.270 OK
2022/05/13 08:36:36.270 OK
2022/05/13 08:36:36.270 OK
2022/05/13 08:36:36.270 OK
2022/05/13 08:36:36.270 OK
2022/05/13 08:36:36.270 OK
2022/05/13 08:36:36.270 OK
2022/05/13 08:36:36.270 OK
2022/05/13 08:36:36.270 OK
2022/05/13 08:36:36.270 OK
2022/05/13 08:36:36.270 OK
2022/05/13 08:36:36.271 OK
2022/05/13 08:36:36.271 OK
2022/05/13 08:36:36.271 OK
2022/05/13 08:36:36.271 OK
2022/05/13 08:36:36.271 OK
2022/05/13 08:36:36.271 OK
2022/05/13 08:36:36.271 OK
2022/05/13 08:36:36.271 OK
2022/05/13 08:36:36.271 OK
2022/05/13 08:36:36.271 OK
2022/05/13 08:36:36.271 OK
2022/05/13 08:36:36.271 OK
2022/05/13 08:36:36.271 OK
2022/05/13 08:36:36.271 OK
2022/05/13 08:36:36.271 OK
2022/05/13 08:36:36.271 OK
2022/05/13 08:36:36.271 OK
2022/05/13 08:36:36.271 OK
2022/05/13 08:36:36.271 OK
2022/05/13 08:36:36.271 OK
2022/05/13 08:36:36.271 OK
mccfg/7.0.1+0/ecmc_virt_axis-records.cmd
#==============================================================================
# ecmc_virt_axis-records.cmd
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis.cmd",1)
iocshLoad( /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis.cmd )
#==============================================================================
# ecmc_virt_axis.cmd
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/verifyOrDie.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/verifyOrDie.cmd "EXPR_STR='abs(1)<>0',SUCCESS_STR='ECMC_ENC_SCALE_NUM value OK == 1...',ERROR_STR='ECMC_ENC_SCALE_NUM == 0...'"
#==============================================================================
# verifyOrDie.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD,"abs(1)<>0","# ECMC_ENC_SCALE_NUM value OK == 1...", "ecmcExit Error: ECMC_ENC_SCALE_NUM == 0...")
# ECMC_ENC_SCALE_NUM value OK == 1...
epicsEnvUnset(ECMC_EXE_CMD)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/verifyOrDie.cmd "EXPR_STR='abs(1)<>0',SUCCESS_STR='ECMC_ENC_SCALE_DENOM value OK == 1...',ERROR_STR='ECMC_ENC_SCALE_DENOM == 0...'"
#==============================================================================
# verifyOrDie.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD,"abs(1)<>0","# ECMC_ENC_SCALE_DENOM value OK == 1...", "ecmcExit Error: ECMC_ENC_SCALE_DENOM == 0...")
# ECMC_ENC_SCALE_DENOM value OK == 1...
epicsEnvUnset(ECMC_EXE_CMD)
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/issueWarning.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/issueWarning.cmd "EXPR_STR='-1>0',WARNING_STR='WARNING: ECMC_MRES setting is deprecated and will not be used. (MRES will be calulated instead: ECMC_ENC_SCALE_NUM/ECMC_ENC_SCALE_DENOM).. '"
#==============================================================================
# issueWarning.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD,"-1>0","", "#-")
epicsEnvUnset(ECMC_EXE_CMD)
ecmcConfigOrDie "Cfg.CreateAxis(10,2)"
ecmcConfigOrDie "Cfg.SetAxisTrajStartPos(10,0)"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax10.health")"
ecmcConfigOrDie "Cfg.SetAxisModRange(10, 0)"
ecmcConfigOrDie "Cfg.SetAxisModType(10, 0)"
ecmcConfigOrDie "Cfg.SetAxisEmergDeceleration(10,0.1)"
ecmcConfigOrDie "Cfg.SetAxisVelAccDecTime(10,5.0,0.1)"
ecmcConfigOrDie "Cfg.SetAxisHomeVelTwordsCam(10,5)"
ecmcConfigOrDie "Cfg.SetAxisHomeVelOffCam(10,4)"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ZERO,"ax10.enc.actpos")"
ecmcConfigOrDie "Cfg.SetAxisEncScaleDenom(10,1)"
ecmcConfigOrDie "Cfg.SetAxisEncScaleNum(10,1)"
ecmcConfigOrDie "Cfg.SetAxisEncType(10,1)"
ecmcConfigOrDie "Cfg.SetAxisEncBits(10,0)"
ecmcConfigOrDie "Cfg.SetAxisEncAbsBits(10,0)"
ecmcConfigOrDie "Cfg.SetAxisEncOffset(10,0)"
ecmcConfigOrDie "Cfg.SetAxisEncVelFilterSize(10,100)"
ecmcConfigOrDie "Cfg.SetAxisEncPosFilterSize(10,1)"
ecmcConfigOrDie "Cfg.SetAxisEncPosFilterEnable(10,0)"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax10.enc.reset")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax10.enc.alarm0")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax10.enc.alarm1")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax10.enc.alarm2")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax10.enc.warning")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax10.enc.latchpos")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax10.enc.latchcontrol")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax10.enc.latchstatus")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax10.mon.lowlim")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax10.mon.highlim")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax10.mon.homesensor")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax10.mon.extinterlock")"
ecmcConfigOrDie "Cfg.SetAxisMonAtTargetTol(10,0.3)"
ecmcConfigOrDie "Cfg.SetAxisMonAtTargetTime(10,100)"
ecmcConfigOrDie "Cfg.SetAxisMonEnableAtTargetMon(10,1)"
ecmcConfigOrDie "Cfg.SetAxisMonPosLagTol(10,0.5)"
ecmcConfigOrDie "Cfg.SetAxisMonPosLagTime(10,100)"
e2022/05/13 08:36:36.271 OK
2022/05/13 08:36:36.271 OK
2022/05/13 08:36:36.271 OK
2022/05/13 08:36:36.271 OK
2022/05/13 08:36:36.271 OK
2022/05/13 08:36:36.272 OK
2022/05/13 08:36:36.272 OK
2022/05/13 08:36:36.272 OK
2022/05/13 08:36:36.272 OK
2022/05/13 08:36:36.272 OK
2022/05/13 08:36:36.272 OK
2022/05/13 08:36:36.272 OK
2022/05/13 08:36:36.272 OK
2022/05/13 08:36:36.272 OK
2022/05/13 08:36:36.272 ecmcMotorRecord:: setIntegerParam(10 motorPowerAutoOnOff_)=2
2022/05/13 08:36:36.273 ecmcMotorRecord:: setDoubleParam(10 motorPowerOnDelay_)=6
2022/05/13 08:36:36.273 ecmcMotorRecord:: setDoubleParam(10 motorPowerOffDelay_=-1
2022/05/13 08:36:36.273 ecmcMotorRecord:: connected(10)
2022/05/13 08:36:36.273 ecmcMotorRecord:: initialPoll(10) status=0
cmcConfigOrDie "Cfg.SetAxisMonEnableLagMon(10,0)"
ecmcConfigOrDie "Cfg.SetAxisMonMaxVel(10,200.0)"
ecmcConfigOrDie "Cfg.SetAxisMonEnableMaxVel(10,1)"
ecmcConfigOrDie "Cfg.SetAxisMonMaxVelDriveILDelay(10,200)"
ecmcConfigOrDie "Cfg.SetAxisMonMaxVelTrajILDelay(10,100)"
ecmcConfigOrDie "Cfg.SetAxisSoftLimitPosBwd(10,0)"
ecmcConfigOrDie "Cfg.SetAxisEnableSoftLimitBwd(10,1)"
ecmcConfigOrDie "Cfg.SetAxisSoftLimitPosFwd(10,0)"
ecmcConfigOrDie "Cfg.SetAxisEnableSoftLimitFwd(10,1)"
ecmcConfigOrDie "Cfg.SetAxisMonHomeSwitchPolarity(10,0)"
ecmcConfigOrDie "Cfg.SetAxisHomeLatchCountOffset(10,0)"
ecmcConfigOrDie "Main.M10.fHomePosition=0.0"
ecmcConfigOrDie "Cfg.SetAxisHomePostMoveEnable(10, 0)"
ecmcConfigOrDie "Cfg.SetAxisHomePostMoveTargetPosition(10, 0)"
ecmcMotorRecordCreateAxis(MCU1, "10", "6", "")
ecmcEpicsEnvSetCalc("ECMC_TEMP_SREV","if(abs(1)>0){RESULT:=abs(1);} else {RESULT:=1.0};","%d")
ecmcEpicsEnvSetCalc("ECMC_TEMP_UREV","if(abs(1)>0){RESULT:=abs(1);} else {RESULT:=1.0};","%lf")
ecmcFileExist(ecmcMotorRecord.template,1,1)
dbLoadRecords(ecmcMotorRecord.template, "PREFIX=IOC_TEST:, MOTOR_NAME=Axis10, MOTOR_PORT=MCU1, AXIS_NO=10, DESC=MCU1025 Center Position (10), EGU=mm, PREC=3, VELO=5.0, JVEL=5, JAR=0.0, ACCL=0.1, RDBD=0.3, DLLM=0, DHLM=0, HOMEPROC=3,SREV=1,UREV=1.000000, ")
epicsEnvSet("ECMC_AXISFIELDINIT",  "")
ecmcFileExist(ecmcMotorRecord"home.template",1,1)
dbLoadRecords(ecmcMotorRecord"home.template", "PREFIX=IOC_TEST:, MOTOR_NAME=Axis10, MOTOR_PORT=MCU1, AXIS_NO=10,HOMEPROC=3, HOMEPOS=0.0, HVELTO=5, HVELFRM=4, HOMEACC=21, HOMEDEC=100")
epicsEnvUnset(ECMC_TEMP_SREV)
epicsEnvUnset(ECMC_TEMP_UREV)
ecmcFileExist("ecmcAxis.db",1,1)
dbLoadRecords("ecmcAxis.db","P=IOC_TEST:,AXIS_NAME=Axis10,AXIS_NO=10,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,T_SMP_MS=10,TSE=-2")
ecmcFileExist("ecmcAxisType.db",1,1)
dbLoadRecords("ecmcAxisType.db","P=IOC_TEST:,AXIS_NAME=Axis10,AXIS_TYPE=2")
ecmcFileExist(/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis_unset.cmd,1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis_unset.cmd
#==============================================================================
# ecmc_virt_axis_unset.cmd
epicsEnvUnset(ECMC_AXISCONFIG)
epicsEnvUnset(ECMC_AXISFIELDINIT)
epicsEnvUnset(ECMC_PREC)
epicsEnvUnset(ECMC_EGU)
epicsEnvUnset(ECMC_DESC)
epicsEnvUnset(ECMC_R)
epicsEnvUnset(ECMC_MOTOR_NAME)
epicsEnvUnset(ECMC_EC_AXIS_HEALTH)
epicsEnvUnset(ECMC_MOD_RANGE)
epicsEnvUnset(ECMC_MOD_TYPE)
epicsEnvUnset(ECMC_EMERG_DECEL)
epicsEnvUnset(ECMC_ACCL)
epicsEnvUnset(ECMC_HOME_VEL_TO)
epicsEnvUnset(ECMC_HOME_VEL_FRM)
epicsEnvUnset(ECMC_EC_ENC_ACTPOS)
epicsEnvUnset(ECMC_ENC_SCALE_DENOM)
epicsEnvUnset(ECMC_ENC_SCALE_NUM)
epicsEnvUnset(ECMC_ENC_TYPE)
epicsEnvUnset(ECMC_ENC_BITS)
epicsEnvUnset(ECMC_ENC_ABS_BITS)
epicsEnvUnset(ECMC_ENC_ABS_OFFSET)
epicsEnvUnset(ECMC_ENC_VEL_FILTER_SIZE)
epicsEnvUnset(ECMC_ENC_POS_FILTER_SIZE)
epicsEnvUnset(ECMC_ENC_POS_FILTER_ENABLE)
epicsEnvUnset(ECMC_EC_ENC_RESET)
epicsEnvUnset(ECMC_EC_ENC_ALARM_0)
epicsEnvUnset(ECMC_EC_ENC_ALARM_1)
epicsEnvUnset(ECMC_EC_ENC_ALARM_2)
epicsEnvUnset(ECMC_EC_ENC_WARNING)
epicsEnvUnset(ECMC_EC_MON_LOWLIM)
epicsEnvUnset(ECMC_EC_MON_HIGHLIM)
epicsEnvUnset(ECMC_EC_MON_HOME_SWITCH)
epicsEnvUnset(ECMC_EC_MON_EXT_INTERLOCK)
epicsEnvUnset(ECMC_MON_AT_TARGET_TOL)
epicsEnvUnset(ECMC_MON_AT_TARGET_TIME)
epicsEnvUnset(ECMC_MON_AT_TARGET_ENA)
epicsEnvUnset(ECMC_MON_LAG_MON_TOL)
epicsEnvUnset(ECMC_MON_LAG_MON_TIME)
epicsEnvUnset(ECMC_MON_LAG_MON_ENA)
epicsEnvUnset(ECMC_MON_VELO_MAX)
epicsEnvUnset(ECMC_MON_VELO_MAX_ENA)
epicsEnvUnset(ECMC_MON_VELO_MAX_DRV_TIME)
epicsEnvUnset(ECMC_MON_VELO_MAX_TRAJ_TIME)
epicsEnvUnset(ECMC_MRES)
epicsEnvUnset(ECMC_JOG_VEL)
epicsEnvUnset(ECMC_JAR)
epicsEnvUnset(ECMC_HOME_PROC)
epicsEnvUnset(ECMC_HOME_POS)
epicsEnvUnset(ECMC_HOME_ACC)
epicsEnvUnset(ECMC_HOME_DEC)
epicsEnvUnset(ECMC_DRV_TYPE)
epicsEnvUnset(ECMC_VELO)
epicsEnvUnset(ECMC_SOFT_LOW_LIM)
epicsEnvUnset(ECMC_SOFT_HIGH_LIM)
epicsEnvUnset(ECMC_HOME_POS_MOVE_ENA)
epicsEnvUnset(ECMC_HOME_POS_MOVE_TARG_POS)
# reset PREFIX
epicsEnvSet("ECMC_PREFIX"      "IOC_TEST:")
epicsEnvSet("ID",       "11")
iocshLoad (/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/configureVirtualAxis.cmd, CONFIG=./cfg/linear.vax, ID=11)
#==============================================================================
# configureVirtualAxis.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD, "'FULL'='DAQ'","ecmcExit Error: ECMC started in DAQ mode. Motion not supported..","#-")
epicsEnvUnset(ECMC_EXE_CMD)
epicsEnvSet("ECMC_PREFIX"      "IOC_TEST:")
iocshLoad ./cfg/linear.vax
#General
epicsEnvSet("ECMC_MOTOR_NAME",            "Axis11")
epicsEnvSet("ECMC_R",                     "Axis11-")
epicsEnvSet("ECMC_AXIS_NO",               "11")
epicsEnvSet("ECMC_DESC",                  "MCU1025 Center Position (11)")
epicsEnvSet("ECMC_EGU",                   "mm")                       # Motor Record Unit
epicsEnvSet("ECMC_PREC",                  "3")                        # Motor Record Precision
epicsEnvSet("ECMC_AXISCONFIG",            "")                         # Extra parameters to driver
epicsEnvSet("ECMC_EC_AXIS_HEALTH",        "")                         # Entry for axis health output (example: ec0.s1.binaryOutput01.0)
epicsEnvSet("ECMC_MOD_RANGE" ,            "0")                        # Modulo range (traj setpoints and encoder values will be in range 0..ECMC_MOD_RANGE)
epicsEnvSet("ECMC_MOD_TYPE",              "0")                        # For positioning and MOD_RANGE>0: 0 = Normal, 1 = Always Fwd, 2 = Always Bwd, 3 = Closest Distance
#Encoder
epicsEnvSet("ECMC_ENC_SCALE_NUM"          "1")
epicsEnvSet("ECMC_ENC_SCALE_DENOM"        "1")
epicsEnvSet("ECMC_ENC_TYPE"               "1")                        # Type: 0=Incremental, 1=Absolute
epicsEnvSet("ECMC_ENC_BITS"               "0")                        # Total bit count of encoder raw data
epicsEnvSet("ECMC_ENC_ABS_BITS",          "0")                        # Absolute bit count (for absolute encoders) always least significant part of ECMC_ENC_BITS
epicsEnvSet("ECMC_ENC_ABS_OFFSET"         "0")                        # Encoder offset in eng units (for absolute encoders)
epicsEnvSet("ECMC_EC_ENC_ACTPOS",         "ec0.s1.ZERO")              # Ethercat entry for actual position input (encoder)
epicsEnvSet("ECMC_EC_ENC_RESET",          "")                         # Reset   (if no encoder reset bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_ALARM_0",        "")                         # Error 0 (if no encoder error bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_ALARM_1",        "")                         # Error 1 (if no encoder error bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_ALARM_2",        "")                         # Error 2 (if no encoder error bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_WARNING",        "")                         # Warning (if no encoder warning bit then leave empty)
#Trajectory
epicsEnvSet("ECMC_VELO",                  "5.0")
epicsEnvSet("ECMC_JOG_VEL",               "5")
epicsEnvSet("ECMC_JAR",                   "0.0")                      # JAR defaults to VELO/ACCL
epicsEnvSet("ECMC_ACCL",                  "0.1")
epicsEnvSet("ECMC_EMERG_DECEL",           "0.1")             # Emergency deceleration
#Homing
epicsEnvSet("ECMC_HOME_PROC",             "3")
epicsEnvSet("ECMC_HOME_POS",              "0.0")
epicsEnvSet("ECMC_HOME_VEL_TO",           "5")
epicsEnvSet("ECMC_HOME_VEL_FRM",          "4")
epicsEnvSet("ECMC_HOME_ACC",              "21")
epicsEnvSet("ECMC_HOME_DEC",              "100")
epicsEnvSet("ECMC_HOME_POS_MOVE_ENA",     "0")                        # Enable move to position after successfull homing 
epicsEnvSet("ECMC_HOME_POS_MOVE_TARG_POS","0")                        # Target position to go to after successfull homing
#Monitoring
# Switches
epicsEnvSet("ECMC_EC_MON_LOWLIM",         "ec0.s1.ONE.0")           #  Ethercat entry for low limit switch input
epicsEnvSet("ECMC_EC_MON_HIGHLIM",        "ec0.s1.ONE.0")           #  Ethercat entry for high limit switch inpuit
epicsEnvSet("ECMC_EC_MON_HOME_SWITCH",    "ec0.s1.ONE.0")           #  Ethercat entry for home switch input
epicsEnvSet("ECMC_EC_MON_EXT_INTER2022/05/13 08:36:36.281 OK
2022/05/13 08:36:36.281 OK
2022/05/13 08:36:36.281 OK
2022/05/13 08:36:36.281 OK
2022/05/13 08:36:36.281 OK
2022/05/13 08:36:36.281 OK
2022/05/13 08:36:36.281 OK
2022/05/13 08:36:36.281 OK
2022/05/13 08:36:36.281 OK
2022/05/13 08:36:36.281 OK
2022/05/13 08:36:36.281 OK
2022/05/13 08:36:36.281 OK
2022/05/13 08:36:36.281 OK
LOCK",  "ec0.s1.ONE.0")           #  Ethercat entry for external interlock input
# Softlimits (disable with 0,0)
epicsEnvSet("ECMC_SOFT_LOW_LIM",          "0")
epicsEnvSet("ECMC_SOFT_HIGH_LIM",         "0")
epicsEnvSet("ECMC_DXLM_ENABLE",           "1")
# Position lag
epicsEnvSet("ECMC_MON_LAG_MON_TOL",       "0.5")
epicsEnvSet("ECMC_MON_LAG_MON_TIME",      "100")
epicsEnvSet("ECMC_MON_LAG_MON_ENA",       "0")
# At target
epicsEnvSet("ECMC_MON_AT_TARGET_TOL",     "0.3")
epicsEnvSet("ECMC_MON_AT_TARGET_TIME",    "100")
epicsEnvSet("ECMC_MON_AT_TARGET_ENA",     "1")
# Velocity
epicsEnvSet("ECMC_MON_VELO_MAX",          "200.0")
epicsEnvSet("ECMC_MON_VELO_MAX_TRAJ_TIME","100")
epicsEnvSet("ECMC_MON_VELO_MAX_DRV_TIME", "200")
epicsEnvSet("ECMC_MON_VELO_MAX_ENA",      "1")
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addVirtualAxis.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addVirtualAxis.cmd
#==============================================================================
# addVirtualAxis.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD, "'FULL'='DAQ'","ecmcExit Error: ECMC started in DAQ mode. Motion not supported..","#-")
epicsEnvUnset(ECMC_EXE_CMD)
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis-records.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis-records.cmd
#==============================================================================
# ecmc_virt_axis-records.cmd
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis.cmd",1)
iocshLoad( /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis.cmd )
#==============================================================================
# ecmc_virt_axis.cmd
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/verifyOrDie.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/verifyOrDie.cmd "EXPR_STR='abs(1)<>0',SUCCESS_STR='ECMC_ENC_SCALE_NUM value OK == 1...',ERROR_STR='ECMC_ENC_SCALE_NUM == 0...'"
#==============================================================================
# verifyOrDie.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD,"abs(1)<>0","# ECMC_ENC_SCALE_NUM value OK == 1...", "ecmcExit Error: ECMC_ENC_SCALE_NUM == 0...")
# ECMC_ENC_SCALE_NUM value OK == 1...
epicsEnvUnset(ECMC_EXE_CMD)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/verifyOrDie.cmd "EXPR_STR='abs(1)<>0',SUCCESS_STR='ECMC_ENC_SCALE_DENOM value OK == 1...',ERROR_STR='ECMC_ENC_SCALE_DENOM == 0...'"
#==============================================================================
# verifyOrDie.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD,"abs(1)<>0","# ECMC_ENC_SCALE_DENOM value OK == 1...", "ecmcExit Error: ECMC_ENC_SCALE_DENOM == 0...")
# ECMC_ENC_SCALE_DENOM value OK == 1...
epicsEnvUnset(ECMC_EXE_CMD)
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/issueWarning.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/issueWarning.cmd "EXPR_STR='-1>0',WARNING_STR='WARNING: ECMC_MRES setting is deprecated and will not be used. (MRES will be calulated instead: ECMC_ENC_SCALE_NUM/ECMC_ENC_SCALE_DENOM).. '"
#==============================================================================
# issueWarning.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD,"-1>0","", "#-")
epicsEnvUnset(ECMC_EXE_CMD)
ecmcConfigOrDie "Cfg.CreateAxis(11,2)"
ecmcConfigOrDie "Cfg.SetAxisTrajStartPos(11,0)"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax11.health")"
ecmcConfigOrDie "Cfg.SetAxisModRange(11, 0)"
ecmcConfigOrDie "Cfg.SetAxisModType(11, 0)"
ecmcConfigOrDie "Cfg.SetAxisEmergDeceleration(11,0.1)"
ecmcConfigOrDie "Cfg.SetAxisVelAccDecTime(11,5.0,0.1)"
ecmcConfigOrDie "Cfg.SetAxisHomeVelTwordsCam(11,5)"
ecmcConfigOrDie "Cfg.SetAxisHomeVelOffCam(11,4)"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ZERO,"ax11.enc.actpos")"
ecmcConfigOrDie "Cfg.SetAxisEncScaleDenom(11,1)"
ecmcConfigOrDie "Cfg.SetAxisEncScaleNum(11,1)"
ecmcConfigOrDie "Cfg.SetAxisEncType(11,1)"
2022/05/13 08:36:36.281 OK
2022/05/13 08:36:36.281 OK
2022/05/13 08:36:36.281 OK
2022/05/13 08:36:36.281 OK
2022/05/13 08:36:36.281 OK
2022/05/13 08:36:36.281 OK
2022/05/13 08:36:36.281 OK
2022/05/13 08:36:36.281 OK
2022/05/13 08:36:36.281 OK
2022/05/13 08:36:36.281 OK
2022/05/13 08:36:36.281 OK
2022/05/13 08:36:36.281 OK
2022/05/13 08:36:36.281 OK
2022/05/13 08:36:36.281 OK
2022/05/13 08:36:36.281 OK
2022/05/13 08:36:36.282 OK
2022/05/13 08:36:36.282 OK
2022/05/13 08:36:36.282 OK
2022/05/13 08:36:36.282 OK
2022/05/13 08:36:36.282 OK
2022/05/13 08:36:36.282 OK
2022/05/13 08:36:36.282 OK
2022/05/13 08:36:36.282 OK
2022/05/13 08:36:36.283 OK
2022/05/13 08:36:36.283 OK
2022/05/13 08:36:36.283 OK
2022/05/13 08:36:36.283 OK
2022/05/13 08:36:36.283 OK
2022/05/13 08:36:36.283 OK
2022/05/13 08:36:36.283 OK
2022/05/13 08:36:36.283 OK
2022/05/13 08:36:36.283 OK
2022/05/13 08:36:36.283 OK
2022/05/13 08:36:36.283 OK
2022/05/13 08:36:36.283 OK
2022/05/13 08:36:36.283 OK
2022/05/13 08:36:36.283 OK
2022/05/13 08:36:36.283 ecmcMotorRecord:: setIntegerParam(11 motorPowerAutoOnOff_)=2
2022/05/13 08:36:36.283 ecmcMotorRecord:: setDoubleParam(11 motorPowerOnDelay_)=6
2022/05/13 08:36:36.283 ecmcMotorRecord:: setDoubleParam(11 motorPowerOffDelay_=-1
2022/05/13 08:36:36.283 ecmcMotorRecord:: connected(11)
2022/05/13 08:36:36.283 ecmcMotorRecord:: initialPoll(11) status=0
ecmcConfigOrDie "Cfg.SetAxisEncBits(11,0)"
ecmcConfigOrDie "Cfg.SetAxisEncAbsBits(11,0)"
ecmcConfigOrDie "Cfg.SetAxisEncOffset(11,0)"
ecmcConfigOrDie "Cfg.SetAxisEncVelFilterSize(11,100)"
ecmcConfigOrDie "Cfg.SetAxisEncPosFilterSize(11,1)"
ecmcConfigOrDie "Cfg.SetAxisEncPosFilterEnable(11,0)"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax11.enc.reset")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax11.enc.alarm0")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax11.enc.alarm1")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax11.enc.alarm2")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax11.enc.warning")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax11.enc.latchpos")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax11.enc.latchcontrol")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax11.enc.latchstatus")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax11.mon.lowlim")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax11.mon.highlim")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax11.mon.homesensor")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax11.mon.extinterlock")"
ecmcConfigOrDie "Cfg.SetAxisMonAtTargetTol(11,0.3)"
ecmcConfigOrDie "Cfg.SetAxisMonAtTargetTime(11,100)"
ecmcConfigOrDie "Cfg.SetAxisMonEnableAtTargetMon(11,1)"
ecmcConfigOrDie "Cfg.SetAxisMonPosLagTol(11,0.5)"
ecmcConfigOrDie "Cfg.SetAxisMonPosLagTime(11,100)"
ecmcConfigOrDie "Cfg.SetAxisMonEnableLagMon(11,0)"
ecmcConfigOrDie "Cfg.SetAxisMonMaxVel(11,200.0)"
ecmcConfigOrDie "Cfg.SetAxisMonEnableMaxVel(11,1)"
ecmcConfigOrDie "Cfg.SetAxisMonMaxVelDriveILDelay(11,200)"
ecmcConfigOrDie "Cfg.SetAxisMonMaxVelTrajILDelay(11,100)"
ecmcConfigOrDie "Cfg.SetAxisSoftLimitPosBwd(11,0)"
ecmcConfigOrDie "Cfg.SetAxisEnableSoftLimitBwd(11,1)"
ecmcConfigOrDie "Cfg.SetAxisSoftLimitPosFwd(11,0)"
ecmcConfigOrDie "Cfg.SetAxisEnableSoftLimitFwd(11,1)"
ecmcConfigOrDie "Cfg.SetAxisMonHomeSwitchPolarity(11,0)"
ecmcConfigOrDie "Cfg.SetAxisHomeLatchCountOffset(11,0)"
ecmcConfigOrDie "Main.M11.fHomePosition=0.0"
ecmcConfigOrDie "Cfg.SetAxisHomePostMoveEnable(11, 0)"
ecmcConfigOrDie "Cfg.SetAxisHomePostMoveTargetPosition(11, 0)"
ecmcMotorRecordCreateAxis(MCU1, "11", "6", "")
ecmcEpicsEnvSetCalc("ECMC_TEMP_SREV","if(abs(1)>0){RESULT:=abs(1);} else {RESULT:=1.0};","%d")
ecmcEpicsEnvSetCalc("ECMC_TEMP_UREV","if(abs(1)>0){RESULT:=abs(1);} else {RESULT:=1.0};","%lf")
ecmcFileExist(ecmcMotorRecord.template,1,1)
dbLoadRecords(ecmcMotorRecord.template, "PREFIX=IOC_TEST:, MOTOR_NAME=Axis11, MOTOR_PORT=MCU1, AXIS_NO=11, DESC=MCU1025 Center Position (11), EGU=mm, PREC=3, VELO=5.0, JVEL=5, JAR=0.0, ACCL=0.1, RDBD=0.3, DLLM=0, DHLM=0, HOMEPROC=3,SREV=1,UREV=1.000000, ")
epicsEnvSet("ECMC_AXISFIELDINIT",  "")
ecmcFileExist(ecmcMotorRecord"home.template",1,1)
dbLoadRecords(ecmcMotorRecord"home.template", "PREFIX=IOC_TEST:, MOTOR_NAME=Axis11, MOTOR_PORT=MCU1, AXIS_NO=11,HOMEPROC=3, HOMEPOS=0.0, HVELTO=5, HVELFRM=4, HOMEACC=21, HOMEDEC=100")
epicsEnvUnset(ECMC_TEMP_SREV)
epicsEnvUnset(ECMC_TEMP_UREV)
ecmcFileExist("ecmcAxis.db",1,1)
dbLoadRecords("ecmcAxis.db","P=IOC_TEST:,AXIS_NAME=Axis11,AXIS_NO=11,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,T_SMP_MS=10,TSE=-2")
ecmcFileExist("ecmcAxisType.db",1,1)
dbLoadRecords("ecmcAxisType.db","P=IOC_TEST:,AXIS_NAME=Axis11,AXIS_TYPE=2")
ecmcFileExist(/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis_unset.cmd,1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis_unset.cmd
#==============================================================================
# ecmc_virt_axis_unset.cmd
epicsEnvUnset(ECMC_AXISCONFIG)
epicsEnvUnset(ECMC_AXISFIELDINIT)
epicsEnvUnset(ECMC_PREC)
epicsEnvUnset(ECMC_EGU)
epicsEnvUnset(ECMC_DESC)
epicsEnvUnset(ECMC_R)
epicsEnvUnset(ECMC_MOTOR_NAME)
epicsEnvUnset(ECMC_EC_AXIS_HEALTH)
epicsEnvUnset(ECMC_MOD_RANGE)
epicsEnvUnset(ECMC_MOD_TYPE)
epicsEnvUnset(ECMC_EMERG_DECEL)
epicsEnvUnset(ECMC_ACCL)
epicsEnvUnset(ECMC_HOME_VEL_TO)
epicsEnvUnset(ECMC_HOME_VEL_FRM)
epicsEnvUnset(ECMC_EC_ENC_ACTPOS)
epicsEnvUnset(ECMC_ENC_SCALE_DENOM)
epicsEnvUnset(ECMC_ENC_SCALE_NUM)
epicsEnvUnset(ECMC_ENC_TYPE)
epicsEnvUnset(ECMC_ENC_BITS)
epicsEnvUnset(ECMC_ENC_ABS_BITS)
epicsEnvUnset(ECMC_ENC_ABS_OFFSET)
epicsEnvUnset(ECMC_ENC_VEL_FILTER_SIZE)
epicsEnvUnset(ECMC_ENC_POS_FILTER_SIZE)
epicsEnvUnset(ECMC_ENC_POS_FILTER_ENABLE)
epicsEnvUnset(ECMC_EC_ENC_RESET)
epicsEnvUnset(ECMC_EC_ENC_ALARM_0)
epicsEnvUnset(ECMC_EC_ENC_ALARM_1)
epicsEnvUnset(ECMC_EC_ENC_ALARM_2)
epicsEnvUnset(ECMC_EC_ENC_WARNING)
epicsEnvUnset(ECMC_EC_MON_LOWLIM)
epicsEnvUnset(ECMC_EC_MON_HIGHLIM)
epicsEnvUnset(ECMC_EC_MON_HOME_SWITCH)
epicsEnvUnset(ECMC_EC_MON_EXT_INTERLOCK)
epicsEnvUnset(ECMC_MON_AT_TARGET_TOL)
epicsEnvUnset(ECMC_MON_AT_TARGET_TIME)
epicsEnvUnset(ECMC_MON_AT_TARGET_ENA)
epicsEnvUnset(ECMC_MON_LAG_MON_TOL)
epicsEnvUnset(ECMC_MON_LAG_MON_TIME)
epicsEnvUnset(ECMC_MON_LAG_MON_ENA)
epicsEnvUnset(ECMC_MON_VELO_MAX)
epicsEnvUnset(ECMC_MON_VELO_MAX_ENA)
epicsEnvUnset(ECMC_MON_VELO_MAX_DRV_TIME)
epicsEnvUnset(ECMC_MON_VELO_MAX_TRAJ_TIME)
epicsEnvUnset(ECMC_MRES)
epicsEnvUnset(ECMC_JOG_VEL)
epicsEnvUnset(ECMC_JAR)
epicsEnvUnset(ECMC_HOME_PROC)
epicsEnvUnset(ECMC_HOME_POS)
epicsEnvUnset(ECMC_HOME_ACC)
epicsEnvUnset(ECMC_HOME_DEC)
epicsEnvUnset(ECMC_DRV_TYPE)
epicsEnvUnset(ECMC_VELO)
epicsEnvUnset(ECMC_SOFT_LOW_LIM)
epicsEnvUnset(ECMC_SOFT_HIGH_LIM)
epicsEnvUnset(ECMC_HOME_POS_MOVE_ENA)
epicsEnvUnset(ECMC_HOME_POS_MOVE_TARG_POS)
# reset PREFIX
epicsEnvSet("ECMC_PREFIX"      "IOC_TEST:")
epicsEnvSet("ID",       "12")
iocshLoad (/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/configureVirtualAxis.cmd, CONFIG=./cfg/linear.vax, ID=12)
#==============================================================================
# configureVirtualAxis.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD, "'FULL'='DAQ'","ecmcExit Error: ECMC started in DAQ mode. Motion not supported..","#-")
epicsEnvUnset(ECMC_EXE_CMD)
epicsEnvSet("ECMC_PREFIX"      "IOC_TEST:")
iocshLoad ./cfg/linear.vax
#General
epicsEnvSet("ECMC_MOTOR_NAME",            "Axis12")
epicsEnvSet("ECMC_R",                     "Axis12-")
epicsEnvSet("ECMC_AXIS_NO",               "12")
epicsEnvSet("ECMC_DESC",                  "MCU1025 Center Position (12)")
epicsEnvSet("ECMC_EGU",                   "mm")                       # Motor Record Unit
epicsEnvSet("ECMC_PREC",                  "3")                        # Motor Record Precision
epicsEnvSet("ECMC_AXISCONFIG",            "")                         # Extra parameters to driver
epicsEnvSet("ECMC_EC_AXIS_HEALTH",        "")                         # Entry for axis health output (example: ec0.s1.binaryOutput01.0)
epicsEnvSet("ECMC_MOD_RANGE" ,            "0")                        # Modulo range (traj setpoints and encoder values will be in range 0..ECMC_MOD_RANGE)
epicsEnvSet("ECMC_MOD_TYPE",              "0")                        # For positioning and MOD_RANGE>0: 0 = Normal, 1 = Always Fwd, 2 = Always Bwd, 3 = Closest Distance
#Encoder
epicsEnvSet("ECMC_ENC_SCALE_NUM"          "1")
epicsEnvSet("ECMC_ENC_SCALE_DENOM"        "1")
epicsEnvSet("ECMC_ENC_TYPE"               "1")                        # Type: 0=Incremental, 1=Absolute
epicsEnvSet("ECMC_ENC_BITS"               "0")                        # Total bit count of encoder raw data
epicsEnvSet("ECMC_ENC_ABS_BITS",          "0")                        # Absolute bit count (for absolute encoders) always least significant part of ECMC_ENC_BITS
epicsEnvSet("ECMC_ENC_ABS_OFFSET"         "0")                        # Encoder offset in eng units (for absolute encoders)
epicsEnvSet("ECMC_EC_ENC_ACTPOS",         "ec0.s1.ZERO")              # Ethercat entry for actual position input (encoder)
epicsEnvSet("ECMC_EC_ENC_RESET",          "")                         # Reset   (if no encoder reset bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_ALARM_0",        "")                         # Error 0 (if no encoder error bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_ALARM_1",        "")                         # Error 1 (if no encoder error bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_ALARM_2",        "")                         # Error 2 (if no encoder error bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_WARNING",        "")                         # Warning (if no encoder warning bit then leave empty)
#Trajectory
epicsEnvSet("ECMC_VELO",                  "5.0")
epicsEnvSet("ECMC_JOG_VEL",               "5")
epicsEnvSet("ECMC_JAR",                   "0.0")                      # JAR defaults to VELO/ACCL
epicsEnvSet("ECMC_ACCL",                  "0.1")
epicsEnvSet("ECMC_EMERG_DECEL",           "0.1")             # Emergency deceleration
#Homing
epicsEnvSet("ECMC_HOME_PROC",             "3")
epicsEnvSet("ECMC_HOME_POS",              "0.0")
epicsEnvSet("ECMC_HOME_VEL_TO",           "5")
epicsEnvSet("ECMC_HOME_VEL_FRM",          "4")
epicsEnvSet("ECMC_HOME_ACC",              "21")
epicsEnvSet("ECMC_HOME_DEC",              "100")
epicsEnvSet("ECMC_HOME_POS_MOVE_ENA",     "0")                        # Enable move to position after successfull homing 
epicsEnvSet("ECMC_HOME_POS_MOVE_TARG_POS","0")                        # Target position to go to after successfull homing
#Monitoring
# Switches
epicsEnvSet("ECMC_EC_MON_LOWLIM",         "ec0.s1.ONE.0")           #  Ethercat entry for low limit switch input
epicsEnvSet("ECMC_EC_MON_HIGHLIM",        "ec0.s1.ONE.0")           #  Ethercat entry for high limit switch inpuit
epicsEnvSet("ECMC_EC_MON_HOME_SWITCH",    "ec0.s1.ONE.0")           #  Ethercat entry for home switch input
epicsEnvSet("ECMC_EC_MON_EXT_INTERLOCK",  "ec0.s1.ONE.0")           #  Ethercat entry for external interlock input
# Softlimits (disable with 0,0)
epicsEnvSet("ECMC_SOFT_LOW_LIM",          "0")
epicsEnvSet("ECMC_SOFT_HIGH_LIM",         "0")
epicsEnvSet("ECMC_DXLM_ENABLE",           "1")
# Position lag
epicsEnvSet("ECMC_MON_LAG_MON_TOL",       "0.5")
epicsEnvSet("ECMC_MON_LAG_MON_TIME",      "100")
epicsEnvSet("ECMC_MON_LAG_MON_ENA",       "0")
# At target
epicsEnvSet("ECMC_MON_AT_TARGET_TOL",     "0.3")
epicsEnvSet("ECMC_MON_AT_TARGET_TIME",    "100")
epicsEnvSet("ECMC_MON_AT_TARGET_ENA",     "1")
# Velocity
epicsEnvSet("ECMC_MON_VELO_MAX",          "200.0")
epicsEnvSet("ECMC_MON_VELO_MAX_TRAJ_TIME","100")
epicsEnvSet("ECMC_MON_VELO_MAX_DRV_TIME", "200")
epicsEnvSet("ECMC_MON_VELO_MAX_ENA",      "1")
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addVirtualAxis.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addVirtualAxis.cmd
#==============================================================================
# addVirtualAxis.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD, "'FULL'='DAQ'","ecmcExit Error: ECMC started in DAQ mode. Motion not supported..","#-")
epicsEnvUnset(ECMC_EXE_CMD)
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis-records.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis-records.cmd
#==============================================================================
# ecmc_virt_axis-records.cmd
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis.cmd",1)
iocshLoad( /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis.cmd )
#==============================================================================
# ecmc_virt_axis.cmd
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/verifyOrDie.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/verifyOrDie.cmd "EXPR_STR='abs(1)<>0',SUCCESS_STR='ECMC_ENC_SCALE_NUM value OK == 1...',ERROR_STR='ECMC_ENC_SCALE_NUM == 0...'"
#==============================================================================
# verifyOrDie.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD,"abs(1)<>0","# ECMC_ENC_SCALE_NUM value OK == 1...", "ecmcExit Error: ECMC_ENC_SCALE_NUM == 0...")
# ECMC_ENC_SCALE_NUM value OK == 1...
epicsEnvUnset(ECMC_EXE_CMD)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/verifyOrDie.cmd "EXPR_STR='abs(1)<>0',SUCCESS_STR='ECMC_ENC_SCALE_DENOM value OK == 1...',ERROR_STR='ECMC_ENC_SCALE_DENOM == 0...'"
#==============================================================================
# verifyOrDie.cmd
ecmcEpicsEnvSetCalcTernary(E2022/05/13 08:36:36.292 OK
2022/05/13 08:36:36.292 OK
2022/05/13 08:36:36.292 OK
2022/05/13 08:36:36.292 OK
2022/05/13 08:36:36.292 OK
2022/05/13 08:36:36.292 OK
2022/05/13 08:36:36.292 OK
2022/05/13 08:36:36.292 OK
2022/05/13 08:36:36.292 OK
2022/05/13 08:36:36.292 OK
2022/05/13 08:36:36.292 OK
2022/05/13 08:36:36.292 OK
2022/05/13 08:36:36.292 OK
2022/05/13 08:36:36.293 OK
2022/05/13 08:36:36.293 OK
2022/05/13 08:36:36.293 OK
2022/05/13 08:36:36.293 OK
2022/05/13 08:36:36.293 OK
2022/05/13 08:36:36.293 OK
2022/05/13 08:36:36.293 OK
2022/05/13 08:36:36.293 OK
2022/05/13 08:36:36.293 OK
2022/05/13 08:36:36.293 OK
2022/05/13 08:36:36.293 OK
2022/05/13 08:36:36.293 OK
2022/05/13 08:36:36.293 OK
2022/05/13 08:36:36.293 OK
2022/05/13 08:36:36.293 OK
2022/05/13 08:36:36.294 OK
2022/05/13 08:36:36.294 OK
2022/05/13 08:36:36.294 OK
2022/05/13 08:36:36.294 OK
2022/05/13 08:36:36.294 OK
2022/05/13 08:36:36.294 OK
2022/05/13 08:36:36.294 OK
2022/05/13 08:36:36.294 OK
2022/05/13 08:36:36.294 OK
2022/05/13 08:36:36.294 OK
2022/05/13 08:36:36.294 OK
2022/05/13 08:36:36.294 OK
2022/05/13 08:36:36.294 OK
2022/05/13 08:36:36.295 OK
2022/05/13 08:36:36.295 OK
2022/05/13 08:36:36.295 OK
2022/05/13 08:36:36.295 OK
2022/05/13 08:36:36.295 OK
2022/05/13 08:36:36.295 OK
2022/05/13 08:36:36.295 OK
2022/05/13 08:36:36.295 OK
2022/05/13 08:36:36.295 OK
2022/05/13 08:36:36.295 ecmcMotorRecord:: setIntegerParam(12 motorPowerAutoOnOff_)=2
2022/05/13 08:36:36.295 ecmcMotorRecord:: setDoubleParam(12 motorPowerOnDelay_)=6
2022/05/13 08:36:36.295 ecmcMotorRecord:: setDoubleParam(12 motorPowerOffDelay_=-1
2022/05/13 08:36:36.295 ecmcMotorRecord:: connected(12)
2022/05/13 08:36:36.295 ecmcMotorRecord:: initialPoll(12) status=0
CMC_EXE_CMD,"abs(1)<>0","# ECMC_ENC_SCALE_DENOM value OK == 1...", "ecmcExit Error: ECMC_ENC_SCALE_DENOM == 0...")
# ECMC_ENC_SCALE_DENOM value OK == 1...
epicsEnvUnset(ECMC_EXE_CMD)
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/issueWarning.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/issueWarning.cmd "EXPR_STR='-1>0',WARNING_STR='WARNING: ECMC_MRES setting is deprecated and will not be used. (MRES will be calulated instead: ECMC_ENC_SCALE_NUM/ECMC_ENC_SCALE_DENOM).. '"
#==============================================================================
# issueWarning.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD,"-1>0","", "#-")
epicsEnvUnset(ECMC_EXE_CMD)
ecmcConfigOrDie "Cfg.CreateAxis(12,2)"
ecmcConfigOrDie "Cfg.SetAxisTrajStartPos(12,0)"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax12.health")"
ecmcConfigOrDie "Cfg.SetAxisModRange(12, 0)"
ecmcConfigOrDie "Cfg.SetAxisModType(12, 0)"
ecmcConfigOrDie "Cfg.SetAxisEmergDeceleration(12,0.1)"
ecmcConfigOrDie "Cfg.SetAxisVelAccDecTime(12,5.0,0.1)"
ecmcConfigOrDie "Cfg.SetAxisHomeVelTwordsCam(12,5)"
ecmcConfigOrDie "Cfg.SetAxisHomeVelOffCam(12,4)"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ZERO,"ax12.enc.actpos")"
ecmcConfigOrDie "Cfg.SetAxisEncScaleDenom(12,1)"
ecmcConfigOrDie "Cfg.SetAxisEncScaleNum(12,1)"
ecmcConfigOrDie "Cfg.SetAxisEncType(12,1)"
ecmcConfigOrDie "Cfg.SetAxisEncBits(12,0)"
ecmcConfigOrDie "Cfg.SetAxisEncAbsBits(12,0)"
ecmcConfigOrDie "Cfg.SetAxisEncOffset(12,0)"
ecmcConfigOrDie "Cfg.SetAxisEncVelFilterSize(12,100)"
ecmcConfigOrDie "Cfg.SetAxisEncPosFilterSize(12,1)"
ecmcConfigOrDie "Cfg.SetAxisEncPosFilterEnable(12,0)"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax12.enc.reset")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax12.enc.alarm0")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax12.enc.alarm1")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax12.enc.alarm2")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax12.enc.warning")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax12.enc.latchpos")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax12.enc.latchcontrol")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax12.enc.latchstatus")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax12.mon.lowlim")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax12.mon.highlim")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax12.mon.homesensor")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax12.mon.extinterlock")"
ecmcConfigOrDie "Cfg.SetAxisMonAtTargetTol(12,0.3)"
ecmcConfigOrDie "Cfg.SetAxisMonAtTargetTime(12,100)"
ecmcConfigOrDie "Cfg.SetAxisMonEnableAtTargetMon(12,1)"
ecmcConfigOrDie "Cfg.SetAxisMonPosLagTol(12,0.5)"
ecmcConfigOrDie "Cfg.SetAxisMonPosLagTime(12,100)"
ecmcConfigOrDie "Cfg.SetAxisMonEnableLagMon(12,0)"
ecmcConfigOrDie "Cfg.SetAxisMonMaxVel(12,200.0)"
ecmcConfigOrDie "Cfg.SetAxisMonEnableMaxVel(12,1)"
ecmcConfigOrDie "Cfg.SetAxisMonMaxVelDriveILDelay(12,200)"
ecmcConfigOrDie "Cfg.SetAxisMonMaxVelTrajILDelay(12,100)"
ecmcConfigOrDie "Cfg.SetAxisSoftLimitPosBwd(12,0)"
ecmcConfigOrDie "Cfg.SetAxisEnableSoftLimitBwd(12,1)"
ecmcConfigOrDie "Cfg.SetAxisSoftLimitPosFwd(12,0)"
ecmcConfigOrDie "Cfg.SetAxisEnableSoftLimitFwd(12,1)"
ecmcConfigOrDie "Cfg.SetAxisMonHomeSwitchPolarity(12,0)"
ecmcConfigOrDie "Cfg.SetAxisHomeLatchCountOffset(12,0)"
ecmcConfigOrDie "Main.M12.fHomePosition=0.0"
ecmcConfigOrDie "Cfg.SetAxisHomePostMoveEnable(12, 0)"
ecmcConfigOrDie "Cfg.SetAxisHomePostMoveTargetPosition(12, 0)"
ecmcMotorRecordCreateAxis(MCU1, "12", "6", "")
ecmcEpicsEnvSetCalc("ECMC_TEMP_SREV","if(abs(1)>0){RESULT:=abs(1);} else {RESULT:=1.0};","%d")
ecmcEpicsEnvSetCalc("ECMC_TEMP_UREV","if(abs(1)>0){RESULT:=abs(1);} else {RESULT:=1.0};","%lf")
ecmcFileExist(ecmcMotorRecord.template,1,1)
dbLoadRecords(ecmcMotorRecord.template, "PREFIX=IOC_TEST:, MOTOR_NAME=Axis12, MOTOR_PORT=MCU1, AXIS_NO=12, DESC=MCU1025 Center Position (12), EGU=mm, PREC=3, VELO=5.0, JVEL=5, JAR=0.0, ACCL=0.1, RDBD=0.3, DLLM=0, DHLM=0, HOMEPROC=3,SREV=1,UREV=1.000000, ")
epicsEnvSet("ECMC_AXISFIELDINIT",  "")
ecmcFileExist(ecmcMotorRecord"home.template",1,1)
dbLoadRecords(ecmcMotorRecord"home.template", "PREFIX=IOC_TEST:, MOTOR_NAME=Axis12, MOTOR_PORT=MCU1, AXIS_NO=12,HOMEPROC=3, HOMEPOS=0.0, HVELTO=5, HVELFRM=4, HOMEACC=21, HOMEDEC=100")
epicsEnvUnset(ECMC_TEMP_SREV)
epicsEnvUnset(ECMC_TEMP_UREV)
ecmcFileExist("ecmcAxis.db",1,1)
dbLoadRecords("ecmcAxis.db","P=IOC_TEST:,AXIS_NAME=Axis12,AXIS_NO=12,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,T_SMP_MS=10,TSE=-2")
ecmcFileExist("ecmcAxisType.db",1,1)
dbLoadRecords("ecmcAxisType.db","P=IOC_TEST:,AXIS_NAME=Axis12,AXIS_TYPE=2")
ecmcFileExist(/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis_unset.cmd,1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis_unset.cmd
#==============================================================================
# ecmc_virt_axis_unset.cmd
epicsEnvUnset(ECMC_AXISCONFIG)
epicsEnvUnset(ECMC_AXISFIELDINIT)
epicsEnvUnset(ECMC_PREC)
epicsEnvUnset(ECMC_EGU)
epicsEnvUnset(ECMC_DESC)
epicsEnvUnset(ECMC_R)
epicsEnvUnset(ECMC_MOTOR_NAME)
epicsEnvUnset(ECMC_EC_AXIS_HEALTH)
epicsEnvUnset(ECMC_MOD_RANGE)
epicsEnvUnset(ECMC_MOD_TYPE)
epicsEnvUnset(ECMC_EMERG_DECEL)
epicsEnvUnset(ECMC_ACCL)
epicsEnvUnset(ECMC_HOME_VEL_TO)
epicsEnvUnset(ECMC_HOME_VEL_FRM)
epicsEnvUnset(ECMC_EC_ENC_ACTPOS)
epicsEnvUnset(ECMC_ENC_SCALE_DENOM)
epicsEnvUnset(ECMC_ENC_SCALE_NUM)
epicsEnvUnset(ECMC_ENC_TYPE)
epicsEnvUnset(ECMC_ENC_BITS)
epicsEnvUnset(ECMC_ENC_ABS_BITS)
epicsEnvUnset(ECMC_ENC_ABS_OFFSET)
epicsEnvUnset(ECMC_ENC_VEL_FILTER_SIZE)
epicsEnvUnset(ECMC_ENC_POS_FILTER_SIZE)
epicsEnvUnset(ECMC_ENC_POS_FILTER_ENABLE)
epicsEnvUnset(ECMC_EC_ENC_RESET)
epicsEnvUnset(ECMC_EC_ENC_ALARM_0)
epicsEnvUnset(ECMC_EC_ENC_ALARM_1)
epicsEnvUnset(ECMC_EC_ENC_ALARM_2)
epicsEnvUnset(ECMC_EC_ENC_WARNING)
epicsEnvUnset(ECMC_EC_MON_LOWLIM)
epicsEnvUnset(ECMC_EC_MON_HIGHLIM)
epicsEnvUnset(ECMC_EC_MON_HOME_SWITCH)
epicsEnvUnset(ECMC_EC_MON_EXT_INTERLOCK)
epicsEnvUnset(ECMC_MON_AT_TARGET_TOL)
epicsEnvUnset(ECMC_MON_AT_TARGET_TIME)
epicsEnvUnset(ECMC_MON_AT_TARGET_ENA)
epicsEnvUnset(ECMC_MON_LAG_MON_TOL)
epicsEnvUnset(ECMC_MON_LAG_MON_TIME)
epicsEnvUnset(ECMC_MON_LAG_MON_ENA)
epicsEnvUnset(ECMC_MON_VELO_MAX)
epicsEnvUnset(ECMC_MON_VELO_MAX_ENA)
epicsEnvUnset(ECMC_MON_VELO_MAX_DRV_TIME)
epicsEnvUnset(ECMC_MON_VELO_MAX_TRAJ_TIME)
epicsEnvUnset(ECMC_MRES)
epicsEnvUnset(ECMC_JOG_VEL)
epicsEnvUnset(ECMC_JAR)
epicsEnvUnset(ECMC_HOME_PROC)
epicsEnvUnset(ECMC_HOME_POS)
epicsEnvUnset(ECMC_HOME_ACC)
epicsEnvUnset(ECMC_HOME_DEC)
epicsEnvUnset(ECMC_DRV_TYPE)
epicsEnvUnset(ECMC_VELO)
epicsEnvUnset(ECMC_SOFT_LOW_LIM)
epicsEnvUnset(ECMC_SOFT_HIGH_LIM)
epicsEnvUnset(ECMC_HOME_POS_MOVE_ENA)
epicsEnvUnset(ECMC_HOME_POS_MOVE_TARG_POS)
# reset PREFIX
epicsEnvSet("ECMC_PREFIX"      "IOC_TEST:")
epicsEnvSet("ID",       "13")
iocshLoad (/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/configureVirtualAxis.cmd, CONFIG=./cfg/linear.vax, ID=13)
#==============================================================================
# configureVirtualAxis.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD, "'FULL'='DAQ'","ecmcExit Error: ECMC started in DAQ mode. Motion not supported..","#-")
epicsEnvUnset(ECMC_EXE_CMD)
epicsEnvSet("ECMC_PREFIX"      "IOC_TEST:")
iocshLoad ./cfg/linear.vax
#General
epicsEnvSet("ECMC_MOTOR_NAME",            "Axis13")
epicsEnvSet("ECMC_R",                     "Axis13-")
epicsEnvSet("ECMC_AXIS_NO",               "13")
epicsEnvSet("ECMC_DESC",                  "MCU1025 Center Position (13)")
epicsEnvSet("ECMC_EGU",                   "mm")                       # Motor Record Unit
epicsEnvSet("ECMC_PREC",                  "3")                        # Motor Record Precision
epicsEnvSet("ECMC_AXISCONFIG",            "")                         # Extra parameters to driver
epicsEnvSet("ECMC_EC_AXIS_HEALTH",        "")                         # Entry for axis health output (example: ec0.s1.binaryOutput01.0)
epicsEnvSet("ECMC_MOD_RANGE" ,            "0")                        # Modulo range (traj setpoints and encoder values will be in range 0..ECMC_MOD_RANGE)
epicsEnvSet("ECMC_MOD_TYPE",              "0")                        # For positioning and MOD_RANGE>0: 0 = Normal, 1 = Always Fwd, 2 = Always Bwd, 3 = Closest Distance
#Encoder
epicsEnvSet("ECMC_ENC_SCALE_NUM"          "1")
epicsEnvSet("ECMC_ENC_SCALE_DENOM"        "1")
epicsEnvSet("ECMC_ENC_TYPE"               "1")                        # Type: 0=Incremental, 1=Absolute
epicsEnvSet("ECMC_ENC_BITS"               "0")                        # Total bit count of encoder raw data
epicsEnvSet("ECMC_ENC_ABS_BITS",          "0")                        # Absolute bit count (for absolute encoders) always least significant part of ECMC_ENC_BITS
epicsEnvSet("ECMC_ENC_ABS_OFFSET"         "0")                        # Encoder offset in eng units (for absolute encoders)
epicsEnvSet("ECMC_EC_ENC_ACTPOS",         "ec0.s1.ZERO")              # Ethercat entry for actual position input (encoder)
epicsEnvSet("ECMC_EC_ENC_RESET",          "")                         # Reset   (if no encoder reset bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_ALARM_0",        "")                         # Error 0 (if no encoder error bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_ALARM_1",        "")                         # Error 1 (if no encoder error bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_ALARM_2",        "")                         # Error 2 (if no encoder error bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_WARNING",        "")                         # Warning (if no encoder warning bit then leave empty)
#Trajectory
epicsEnvSet("ECMC_VELO",                  "5.0")
epicsEnvSet("ECMC_JOG_VEL",               "5")
epicsEnvSet("ECMC_JAR",                   "0.0")                      # JAR defaults to VELO/ACCL
epicsEnvSet("ECMC_ACCL",                  "0.1")
epicsEnvSet("ECMC_EMERG_DECEL",           "0.1")             # Emergency deceleration
#Homing
epicsEnvSet("ECMC_HOME_PROC",             "3")
epicsEnvSet("ECMC_HOME_POS",              "0.0")
epicsEnvSet("ECMC_HOME_VEL_TO",           "5")
epicsEnvSet("ECMC_HOME_VEL_FRM",          "4")
epicsEnvSet("ECMC_HOME_ACC",              "21")
epicsEnvSet("ECMC_HOME_DEC",              "100")
epicsEnvSet("ECMC_HOME_POS_MOVE_ENA",     "0")                        # Enable move to position after successfull homing 
epicsEnvSet("ECMC_HOME_POS_MOVE_TARG_POS","0")                        # Target position to go to after successfull homing
#Monitoring
# Switches
epicsEnvSet("ECMC_EC_MON_LOWLIM",         "ec0.s1.ONE.0")           #  Ethercat entry for low limit switch input
epicsEnvSet("ECMC_EC_MON_HIGHLIM",        "ec0.s1.ONE.0")           #  Ethercat entry for high limit switch inpuit
epicsEnvSet("ECMC_EC_MON_HOME_SWITCH",    "ec0.s1.ONE.0")           #  Ethercat entry for home switch input
epicsEnvSet("ECMC_EC_MON_EXT_INTERLOCK",  "ec0.s1.ONE.0")           #  Ethercat entry for external interlock input
# Softlimits (disable with 0,0)
epicsEnvSet("ECMC_SOFT_LOW_LIM",          "0")
epicsEnvSet("ECMC_SOFT_HIGH_LIM",         "0")
epicsEnvSet("ECMC_DXLM_ENABLE",           "1")
# Position lag
epicsEnvSet("ECMC_MON_LAG_MON_TOL",       "0.5")
epicsEnvSet("ECMC_MON_LAG_MON_TIME",      "100")
epicsEnvSet("ECMC_MON_LAG_MON_ENA",       "0")
# At target
epicsEnvSet("ECMC_MON_AT_TARGET_TOL",     "0.3")
epicsEnvSet("ECMC_MON_AT_TARGET_TIME",    "100")
epicsEnvSet("ECMC_MON_AT_TARGET_ENA",     "1")
# Velocity
epicsEnvSet("ECMC_MON_VELO_MAX",          "200.0")
epicsEnvSet("ECMC_MON_VELO_MAX_TRAJ_TIME","100")
epicsEnvSet("ECMC_MON_VELO_MAX_DRV_TIME", "200")
epicsEnvSet("ECMC_MON_VELO_MAX_ENA",      "1")
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addVirtualAxis.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addVirtualAxis.cmd
#==============================================================================
# addVirtualAxis.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD, "'FULL'='DAQ'","ecmcExit Error: ECMC started in DAQ mode. Motion not supported..","#-")
epicsEnvUnset(ECMC_EXE_CMD)
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis-records.cmd",1)
iocshLoad /epics/base-7.0.5/re2022/05/13 08:36:36.303 OK
2022/05/13 08:36:36.303 OK
2022/05/13 08:36:36.304 OK
2022/05/13 08:36:36.304 OK
2022/05/13 08:36:36.304 OK
2022/05/13 08:36:36.304 OK
2022/05/13 08:36:36.304 OK
2022/05/13 08:36:36.304 OK
2022/05/13 08:36:36.304 OK
2022/05/13 08:36:36.304 OK
2022/05/13 08:36:36.304 OK
2022/05/13 08:36:36.304 OK
2022/05/13 08:36:36.304 OK
2022/05/13 08:36:36.304 OK
2022/05/13 08:36:36.304 OK
2022/05/13 08:36:36.305 OK
2022/05/13 08:36:36.305 OK
2022/05/13 08:36:36.305 OK
2022/05/13 08:36:36.305 OK
2022/05/13 08:36:36.305 OK
2022/05/13 08:36:36.305 OK
2022/05/13 08:36:36.305 OK
2022/05/13 08:36:36.305 OK
2022/05/13 08:36:36.305 OK
2022/05/13 08:36:36.305 OK
2022/05/13 08:36:36.305 OK
2022/05/13 08:36:36.305 OK
2022/05/13 08:36:36.305 OK
2022/05/13 08:36:36.305 OK
2022/05/13 08:36:36.305 OK
2022/05/13 08:36:36.306 OK
2022/05/13 08:36:36.306 OK
2022/05/13 08:36:36.306 OK
2022/05/13 08:36:36.306 OK
2022/05/13 08:36:36.306 OK
quire/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis-records.cmd
#==============================================================================
# ecmc_virt_axis-records.cmd
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis.cmd",1)
iocshLoad( /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis.cmd )
#==============================================================================
# ecmc_virt_axis.cmd
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/verifyOrDie.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/verifyOrDie.cmd "EXPR_STR='abs(1)<>0',SUCCESS_STR='ECMC_ENC_SCALE_NUM value OK == 1...',ERROR_STR='ECMC_ENC_SCALE_NUM == 0...'"
#==============================================================================
# verifyOrDie.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD,"abs(1)<>0","# ECMC_ENC_SCALE_NUM value OK == 1...", "ecmcExit Error: ECMC_ENC_SCALE_NUM == 0...")
# ECMC_ENC_SCALE_NUM value OK == 1...
epicsEnvUnset(ECMC_EXE_CMD)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/verifyOrDie.cmd "EXPR_STR='abs(1)<>0',SUCCESS_STR='ECMC_ENC_SCALE_DENOM value OK == 1...',ERROR_STR='ECMC_ENC_SCALE_DENOM == 0...'"
#==============================================================================
# verifyOrDie.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD,"abs(1)<>0","# ECMC_ENC_SCALE_DENOM value OK == 1...", "ecmcExit Error: ECMC_ENC_SCALE_DENOM == 0...")
# ECMC_ENC_SCALE_DENOM value OK == 1...
epicsEnvUnset(ECMC_EXE_CMD)
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/issueWarning.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/issueWarning.cmd "EXPR_STR='-1>0',WARNING_STR='WARNING: ECMC_MRES setting is deprecated and will not be used. (MRES will be calulated instead: ECMC_ENC_SCALE_NUM/ECMC_ENC_SCALE_DENOM).. '"
#==============================================================================
# issueWarning.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD,"-1>0","", "#-")
epicsEnvUnset(ECMC_EXE_CMD)
ecmcConfigOrDie "Cfg.CreateAxis(13,2)"
ecmcConfigOrDie "Cfg.SetAxisTrajStartPos(13,0)"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax13.health")"
ecmcConfigOrDie "Cfg.SetAxisModRange(13, 0)"
ecmcConfigOrDie "Cfg.SetAxisModType(13, 0)"
ecmcConfigOrDie "Cfg.SetAxisEmergDeceleration(13,0.1)"
ecmcConfigOrDie "Cfg.SetAxisVelAccDecTime(13,5.0,0.1)"
ecmcConfigOrDie "Cfg.SetAxisHomeVelTwordsCam(13,5)"
ecmcConfigOrDie "Cfg.SetAxisHomeVelOffCam(13,4)"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ZERO,"ax13.enc.actpos")"
ecmcConfigOrDie "Cfg.SetAxisEncScaleDenom(13,1)"
ecmcConfigOrDie "Cfg.SetAxisEncScaleNum(13,1)"
ecmcConfigOrDie "Cfg.SetAxisEncType(13,1)"
ecmcConfigOrDie "Cfg.SetAxisEncBits(13,0)"
ecmcConfigOrDie "Cfg.SetAxisEncAbsBits(13,0)"
ecmcConfigOrDie "Cfg.SetAxisEncOffset(13,0)"
ecmcConfigOrDie "Cfg.SetAxisEncVelFilterSize(13,100)"
ecmcConfigOrDie "Cfg.SetAxisEncPosFilterSize(13,1)"
ecmcConfigOrDie "Cfg.SetAxisEncPosFilterEnable(13,0)"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax13.enc.reset")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax13.enc.alarm0")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax13.enc.alarm1")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax13.enc.alarm2")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax13.enc.warning")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax13.enc.latchpos")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax13.enc.latchcontrol")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax13.enc.latchstatus")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax13.mon.lowlim")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax13.mon.highlim")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax13.mon.homesensor")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax13.mon.extinterlock")"
ecmcConfigOrDie "Cfg.SetAxisMonAtTargetTol(13,0.3)"
ecmcConfigOrDie "Cfg.SetAxisMonAtTargetTime(13,100)"
ecmcConfigOrDie "Cfg.SetAxisMonEnableAtTargetMon(13,1)"
ecmcConfigOrDie "Cfg.SetAxisMonPosLagTol(13,0.5)"
ecmcConfigOrDie "Cfg.SetAxisM2022/05/13 08:36:36.306 OK
2022/05/13 08:36:36.306 OK
2022/05/13 08:36:36.306 OK
2022/05/13 08:36:36.306 OK
2022/05/13 08:36:36.306 OK
2022/05/13 08:36:36.306 OK
2022/05/13 08:36:36.306 OK
2022/05/13 08:36:36.306 OK
2022/05/13 08:36:36.306 OK
2022/05/13 08:36:36.306 OK
2022/05/13 08:36:36.306 OK
2022/05/13 08:36:36.306 OK
2022/05/13 08:36:36.306 OK
2022/05/13 08:36:36.306 OK
2022/05/13 08:36:36.306 OK
2022/05/13 08:36:36.306 ecmcMotorRecord:: setIntegerParam(13 motorPowerAutoOnOff_)=2
2022/05/13 08:36:36.307 ecmcMotorRecord:: setDoubleParam(13 motorPowerOnDelay_)=6
2022/05/13 08:36:36.307 ecmcMotorRecord:: setDoubleParam(13 motorPowerOffDelay_=-1
2022/05/13 08:36:36.307 ecmcMotorRecord:: connected(13)
2022/05/13 08:36:36.307 ecmcMotorRecord:: initialPoll(13) status=0
onPosLagTime(13,100)"
ecmcConfigOrDie "Cfg.SetAxisMonEnableLagMon(13,0)"
ecmcConfigOrDie "Cfg.SetAxisMonMaxVel(13,200.0)"
ecmcConfigOrDie "Cfg.SetAxisMonEnableMaxVel(13,1)"
ecmcConfigOrDie "Cfg.SetAxisMonMaxVelDriveILDelay(13,200)"
ecmcConfigOrDie "Cfg.SetAxisMonMaxVelTrajILDelay(13,100)"
ecmcConfigOrDie "Cfg.SetAxisSoftLimitPosBwd(13,0)"
ecmcConfigOrDie "Cfg.SetAxisEnableSoftLimitBwd(13,1)"
ecmcConfigOrDie "Cfg.SetAxisSoftLimitPosFwd(13,0)"
ecmcConfigOrDie "Cfg.SetAxisEnableSoftLimitFwd(13,1)"
ecmcConfigOrDie "Cfg.SetAxisMonHomeSwitchPolarity(13,0)"
ecmcConfigOrDie "Cfg.SetAxisHomeLatchCountOffset(13,0)"
ecmcConfigOrDie "Main.M13.fHomePosition=0.0"
ecmcConfigOrDie "Cfg.SetAxisHomePostMoveEnable(13, 0)"
ecmcConfigOrDie "Cfg.SetAxisHomePostMoveTargetPosition(13, 0)"
ecmcMotorRecordCreateAxis(MCU1, "13", "6", "")
ecmcEpicsEnvSetCalc("ECMC_TEMP_SREV","if(abs(1)>0){RESULT:=abs(1);} else {RESULT:=1.0};","%d")
ecmcEpicsEnvSetCalc("ECMC_TEMP_UREV","if(abs(1)>0){RESULT:=abs(1);} else {RESULT:=1.0};","%lf")
ecmcFileExist(ecmcMotorRecord.template,1,1)
dbLoadRecords(ecmcMotorRecord.template, "PREFIX=IOC_TEST:, MOTOR_NAME=Axis13, MOTOR_PORT=MCU1, AXIS_NO=13, DESC=MCU1025 Center Position (13), EGU=mm, PREC=3, VELO=5.0, JVEL=5, JAR=0.0, ACCL=0.1, RDBD=0.3, DLLM=0, DHLM=0, HOMEPROC=3,SREV=1,UREV=1.000000, ")
epicsEnvSet("ECMC_AXISFIELDINIT",  "")
ecmcFileExist(ecmcMotorRecord"home.template",1,1)
dbLoadRecords(ecmcMotorRecord"home.template", "PREFIX=IOC_TEST:, MOTOR_NAME=Axis13, MOTOR_PORT=MCU1, AXIS_NO=13,HOMEPROC=3, HOMEPOS=0.0, HVELTO=5, HVELFRM=4, HOMEACC=21, HOMEDEC=100")
epicsEnvUnset(ECMC_TEMP_SREV)
epicsEnvUnset(ECMC_TEMP_UREV)
ecmcFileExist("ecmcAxis.db",1,1)
dbLoadRecords("ecmcAxis.db","P=IOC_TEST:,AXIS_NAME=Axis13,AXIS_NO=13,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,T_SMP_MS=10,TSE=-2")
ecmcFileExist("ecmcAxisType.db",1,1)
dbLoadRecords("ecmcAxisType.db","P=IOC_TEST:,AXIS_NAME=Axis13,AXIS_TYPE=2")
ecmcFileExist(/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis_unset.cmd,1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis_unset.cmd
#==============================================================================
# ecmc_virt_axis_unset.cmd
epicsEnvUnset(ECMC_AXISCONFIG)
epicsEnvUnset(ECMC_AXISFIELDINIT)
epicsEnvUnset(ECMC_PREC)
epicsEnvUnset(ECMC_EGU)
epicsEnvUnset(ECMC_DESC)
epicsEnvUnset(ECMC_R)
epicsEnvUnset(ECMC_MOTOR_NAME)
epicsEnvUnset(ECMC_EC_AXIS_HEALTH)
epicsEnvUnset(ECMC_MOD_RANGE)
epicsEnvUnset(ECMC_MOD_TYPE)
epicsEnvUnset(ECMC_EMERG_DECEL)
epicsEnvUnset(ECMC_ACCL)
epicsEnvUnset(ECMC_HOME_VEL_TO)
epicsEnvUnset(ECMC_HOME_VEL_FRM)
epicsEnvUnset(ECMC_EC_ENC_ACTPOS)
epicsEnvUnset(ECMC_ENC_SCALE_DENOM)
epicsEnvUnset(ECMC_ENC_SCALE_NUM)
epicsEnvUnset(ECMC_ENC_TYPE)
epicsEnvUnset(ECMC_ENC_BITS)
epicsEnvUnset(ECMC_ENC_ABS_BITS)
epicsEnvUnset(ECMC_ENC_ABS_OFFSET)
epicsEnvUnset(ECMC_ENC_VEL_FILTER_SIZE)
epicsEnvUnset(ECMC_ENC_POS_FILTER_SIZE)
epicsEnvUnset(ECMC_ENC_POS_FILTER_ENABLE)
epicsEnvUnset(ECMC_EC_ENC_RESET)
epicsEnvUnset(ECMC_EC_ENC_ALARM_0)
epicsEnvUnset(ECMC_EC_ENC_ALARM_1)
epicsEnvUnset(ECMC_EC_ENC_ALARM_2)
epicsEnvUnset(ECMC_EC_ENC_WARNING)
epicsEnvUnset(ECMC_EC_MON_LOWLIM)
epicsEnvUnset(ECMC_EC_MON_HIGHLIM)
epicsEnvUnset(ECMC_EC_MON_HOME_SWITCH)
epicsEnvUnset(ECMC_EC_MON_EXT_INTERLOCK)
epicsEnvUnset(ECMC_MON_AT_TARGET_TOL)
epicsEnvUnset(ECMC_MON_AT_TARGET_TIME)
epicsEnvUnset(ECMC_MON_AT_TARGET_ENA)
epicsEnvUnset(ECMC_MON_LAG_MON_TOL)
epicsEnvUnset(ECMC_MON_LAG_MON_TIME)
epicsEnvUnset(ECMC_MON_LAG_MON_ENA)
epicsEnvUnset(ECMC_MON_VELO_MAX)
epicsEnvUnset(ECMC_MON_VELO_MAX_ENA)
epicsEnvUnset(ECMC_MON_VELO_MAX_DRV_TIME)
epicsEnvUnset(ECMC_MON_VELO_MAX_TRAJ_TIME)
epicsEnvUnset(ECMC_MRES)
epicsEnvUnset(ECMC_JOG_VEL)
epicsEnvUnset(ECMC_JAR)
epicsEnvUnset(ECMC_HOME_PROC)
epicsEnvUnset(ECMC_HOME_POS)
epicsEnvUnset(ECMC_HOME_ACC)
epicsEnvUnset(ECMC_HOME_DEC)
epicsEnvUnset(ECMC_DRV_TYPE)
epicsEnvUnset(ECMC_VELO)
epicsEnvUnset(ECMC_SOFT_LOW_LIM)
epicsEnvUnset(ECMC_SOFT_HIGH_LIM)
epicsEnvUnset(ECMC_HOME_POS_MOVE_ENA)
epicsEnvUnset(ECMC_HOME_POS_MOVE_TARG_POS)
# reset PREFIX
epicsEnvSet("ECMC_PREFIX"      "IOC_TEST:")
epicsEnvSet("ID",       "14")
iocshLoad (/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/configureVirtualAxis.cmd, CONFIG=./cfg/linear.vax, ID=14)
#==============================================================================
# configureVirtualAxis.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD, "'FULL'='DAQ'","ecmcExit Error: ECMC started in DAQ mode. Motion not supported..","#-")
epicsEnvUnset(ECMC_EXE_CMD)
epicsEnvSet("ECMC_PREFIX"      "IOC_TEST:")
iocshLoad ./cfg/linear.vax
#General
epicsEnvSet("ECMC_MOTOR_NAME",            "Axis14")
epicsEnvSet("ECMC_R",                     "Axis14-")
epicsEnvSet("ECMC_AXIS_NO",               "14")
epicsEnvSet("ECMC_DESC",                  "MCU1025 Center Position (14)")
epicsEnvSet("ECMC_EGU",                   "mm")                       # Motor Record Unit
epicsEnvSet("ECMC_PREC",                  "3")                        # Motor Record Precision
epicsEnvSet("ECMC_AXISCONFIG",            "")                         # Extra parameters to driver
epicsEnvSet("ECMC_EC_AXIS_HEALTH",        "")                         # Entry for axis health output (example: ec0.s1.binaryOutput01.0)
epicsEnvSet("ECMC_MOD_RANGE" ,            "0")                        # Modulo range (traj setpoints and encoder values will be in range 0..ECMC_MOD_RANGE)
epicsEnvSet("ECMC_MOD_TYPE",              "0")                        # For positioning and MOD_RANGE>0: 0 = Normal, 1 = Always Fwd, 2 = Always Bwd, 3 = Closest Distance
#Encoder
epicsEnvSet("ECMC_ENC_SCALE_NUM"          "1")
epicsEnvSet("ECMC_ENC_SCALE_DENOM"        "1")
epicsEnvSet("ECMC_ENC_TYPE"               "1")                        # Type: 0=Incremental, 1=Absolute
epicsEnvSet("ECMC_ENC_BITS"               "0")                        # Total bit count of encoder raw data
epicsEnvSet("ECMC_ENC_ABS_BITS",          "0")                        # Absolute bit count (for absolute encoders) always least significant part of ECMC_ENC_BITS
epicsEnvSet("ECMC_ENC_ABS_OFFSET"         "0")                        # Encoder offset in eng units (for absolute encoders)
epicsEnvSet("ECMC_EC_ENC_ACTPOS",         "ec0.s1.ZERO")              # Ethercat entry for actual position input (encoder)
epicsEnvSet("ECMC_EC_ENC_RESET",          "")                         # Reset   (if no encoder reset bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_ALARM_0",        "")                         # Error 0 (if no encoder error bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_ALARM_1",        "")                         # Error 1 (if no encoder error bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_ALARM_2",        "")                         # Error 2 (if no encoder error bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_WARNING",        "")                         # Warning (if no encoder warning bit then leave empty)
#Trajectory
epicsEnvSet("ECMC_VELO",                  "5.0")
epicsEnvSet("ECMC_JOG_VEL",               "5")
epicsEnvSet("ECMC_JAR",                   "0.0")                      # JAR defaults to VELO/ACCL
epicsEnvSet("ECMC_ACCL",                  "0.1")
epicsEnvSet("ECMC_EMERG_DECEL",           "0.1")             # Emergency deceleration
#Homing
epicsEnvSet("ECMC_HOME_PROC",             "3")
epicsEnvSet("ECMC_HOME_POS",              "0.0")
epicsEnvSet("ECMC_HOME_VEL_TO",           "5")
epicsEnvSet("ECMC_HOME_VEL_FRM",          "4")
epicsEnvSet("ECMC_HOME_ACC",              "21")
epicsEnvSet("ECMC_HOME_DEC",              "100")
epicsEnvSet("ECMC_HOME_POS_MOVE_ENA",     "0")                        # Enable move to position after successfull homing 
epicsEnvSet("ECMC_HOME_POS_MOVE_TARG_POS","0")                        # Target position to go to after successfull homing
#Monitoring
# Switches
epicsEnvSet("ECMC_EC_MON_LOWLIM",         "ec0.s1.ONE.0")           #  Ethercat entry for low limit switch input
epicsEnvSet("ECMC_EC_MON_HIGHLIM",        "ec0.s1.ONE.0")           #  Ethercat entry for high limit switch inpuit
epicsEnvSet("ECMC_EC_MON_HOME_SWITCH",    "ec0.s1.ONE.0")           #  Ethercat entry for home switch input
epicsEnvSet2022/05/13 08:36:36.315 OK
2022/05/13 08:36:36.315 OK
2022/05/13 08:36:36.315 OK
2022/05/13 08:36:36.315 OK
2022/05/13 08:36:36.315 OK
2022/05/13 08:36:36.315 OK
2022/05/13 08:36:36.315 OK
2022/05/13 08:36:36.315 OK
2022/05/13 08:36:36.315 OK
2022/05/13 08:36:36.315 OK
2022/05/13 08:36:36.315 OK
2022/05/13 08:36:36.315 OK
("ECMC_EC_MON_EXT_INTERLOCK",  "ec0.s1.ONE.0")           #  Ethercat entry for external interlock input
# Softlimits (disable with 0,0)
epicsEnvSet("ECMC_SOFT_LOW_LIM",          "0")
epicsEnvSet("ECMC_SOFT_HIGH_LIM",         "0")
epicsEnvSet("ECMC_DXLM_ENABLE",           "1")
# Position lag
epicsEnvSet("ECMC_MON_LAG_MON_TOL",       "0.5")
epicsEnvSet("ECMC_MON_LAG_MON_TIME",      "100")
epicsEnvSet("ECMC_MON_LAG_MON_ENA",       "0")
# At target
epicsEnvSet("ECMC_MON_AT_TARGET_TOL",     "0.3")
epicsEnvSet("ECMC_MON_AT_TARGET_TIME",    "100")
epicsEnvSet("ECMC_MON_AT_TARGET_ENA",     "1")
# Velocity
epicsEnvSet("ECMC_MON_VELO_MAX",          "200.0")
epicsEnvSet("ECMC_MON_VELO_MAX_TRAJ_TIME","100")
epicsEnvSet("ECMC_MON_VELO_MAX_DRV_TIME", "200")
epicsEnvSet("ECMC_MON_VELO_MAX_ENA",      "1")
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addVirtualAxis.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addVirtualAxis.cmd
#==============================================================================
# addVirtualAxis.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD, "'FULL'='DAQ'","ecmcExit Error: ECMC started in DAQ mode. Motion not supported..","#-")
epicsEnvUnset(ECMC_EXE_CMD)
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis-records.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis-records.cmd
#==============================================================================
# ecmc_virt_axis-records.cmd
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis.cmd",1)
iocshLoad( /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis.cmd )
#==============================================================================
# ecmc_virt_axis.cmd
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/verifyOrDie.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/verifyOrDie.cmd "EXPR_STR='abs(1)<>0',SUCCESS_STR='ECMC_ENC_SCALE_NUM value OK == 1...',ERROR_STR='ECMC_ENC_SCALE_NUM == 0...'"
#==============================================================================
# verifyOrDie.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD,"abs(1)<>0","# ECMC_ENC_SCALE_NUM value OK == 1...", "ecmcExit Error: ECMC_ENC_SCALE_NUM == 0...")
# ECMC_ENC_SCALE_NUM value OK == 1...
epicsEnvUnset(ECMC_EXE_CMD)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/verifyOrDie.cmd "EXPR_STR='abs(1)<>0',SUCCESS_STR='ECMC_ENC_SCALE_DENOM value OK == 1...',ERROR_STR='ECMC_ENC_SCALE_DENOM == 0...'"
#==============================================================================
# verifyOrDie.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD,"abs(1)<>0","# ECMC_ENC_SCALE_DENOM value OK == 1...", "ecmcExit Error: ECMC_ENC_SCALE_DENOM == 0...")
# ECMC_ENC_SCALE_DENOM value OK == 1...
epicsEnvUnset(ECMC_EXE_CMD)
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/issueWarning.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/issueWarning.cmd "EXPR_STR='-1>0',WARNING_STR='WARNING: ECMC_MRES setting is deprecated and will not be used. (MRES will be calulated instead: ECMC_ENC_SCALE_NUM/ECMC_ENC_SCALE_DENOM).. '"
#==============================================================================
# issueWarning.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD,"-1>0","", "#-")
epicsEnvUnset(ECMC_EXE_CMD)
ecmcConfigOrDie "Cfg.CreateAxis(14,2)"
ecmcConfigOrDie "Cfg.SetAxisTrajStartPos(14,0)"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax14.health")"
ecmcConfigOrDie "Cfg.SetAxisModRange(14, 0)"
ecmcConfigOrDie "Cfg.SetAxisModType(14, 0)"
ecmcConfigOrDie "Cfg.SetAxisEmergDeceleration(14,0.1)"
ecmcConfigOrDie "Cfg.SetAxisVelAccDecTime(14,5.0,0.1)"
ecmcConfigOrDie "Cfg.SetAxisHomeVelTwordsCam(14,5)"
ecmcConfigOrDie "Cfg.SetAxisHomeVelOffCam(14,4)"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ZERO,"ax14.enc.actpos")"
ecmcConfigOrDie "Cfg.SetAxisEncScaleDenom(14,1)"
ecmcConfigOrDie "Cfg.SetAxisEncScaleNum(14,1)"
ecmcConfigOrDie "Cfg2022/05/13 08:36:36.316 OK
2022/05/13 08:36:36.316 OK
2022/05/13 08:36:36.316 OK
2022/05/13 08:36:36.316 OK
2022/05/13 08:36:36.316 OK
2022/05/13 08:36:36.316 OK
2022/05/13 08:36:36.316 OK
2022/05/13 08:36:36.316 OK
2022/05/13 08:36:36.316 OK
2022/05/13 08:36:36.316 OK
2022/05/13 08:36:36.316 OK
2022/05/13 08:36:36.316 OK
2022/05/13 08:36:36.316 OK
2022/05/13 08:36:36.316 OK
2022/05/13 08:36:36.316 OK
2022/05/13 08:36:36.316 OK
2022/05/13 08:36:36.316 OK
2022/05/13 08:36:36.316 OK
2022/05/13 08:36:36.316 OK
2022/05/13 08:36:36.316 OK
2022/05/13 08:36:36.316 OK
2022/05/13 08:36:36.316 OK
2022/05/13 08:36:36.316 OK
2022/05/13 08:36:36.316 OK
2022/05/13 08:36:36.316 OK
2022/05/13 08:36:36.316 OK
2022/05/13 08:36:36.317 OK
2022/05/13 08:36:36.317 OK
2022/05/13 08:36:36.317 OK
2022/05/13 08:36:36.317 OK
2022/05/13 08:36:36.317 OK
2022/05/13 08:36:36.317 OK
2022/05/13 08:36:36.317 OK
2022/05/13 08:36:36.317 OK
2022/05/13 08:36:36.317 OK
2022/05/13 08:36:36.317 OK
2022/05/13 08:36:36.317 OK
2022/05/13 08:36:36.317 OK
2022/05/13 08:36:36.317 ecmcMotorRecord:: setIntegerParam(14 motorPowerAutoOnOff_)=2
2022/05/13 08:36:36.317 ecmcMotorRecord:: setDoubleParam(14 motorPowerOnDelay_)=6
2022/05/13 08:36:36.317 ecmcMotorRecord:: setDoubleParam(14 motorPowerOffDelay_=-1
2022/05/13 08:36:36.318 ecmcMotorRecord:: connected(14)
2022/05/13 08:36:36.318 ecmcMotorRecord:: initialPoll(14) status=0
.SetAxisEncType(14,1)"
ecmcConfigOrDie "Cfg.SetAxisEncBits(14,0)"
ecmcConfigOrDie "Cfg.SetAxisEncAbsBits(14,0)"
ecmcConfigOrDie "Cfg.SetAxisEncOffset(14,0)"
ecmcConfigOrDie "Cfg.SetAxisEncVelFilterSize(14,100)"
ecmcConfigOrDie "Cfg.SetAxisEncPosFilterSize(14,1)"
ecmcConfigOrDie "Cfg.SetAxisEncPosFilterEnable(14,0)"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax14.enc.reset")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax14.enc.alarm0")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax14.enc.alarm1")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax14.enc.alarm2")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax14.enc.warning")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax14.enc.latchpos")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax14.enc.latchcontrol")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax14.enc.latchstatus")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax14.mon.lowlim")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax14.mon.highlim")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax14.mon.homesensor")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax14.mon.extinterlock")"
ecmcConfigOrDie "Cfg.SetAxisMonAtTargetTol(14,0.3)"
ecmcConfigOrDie "Cfg.SetAxisMonAtTargetTime(14,100)"
ecmcConfigOrDie "Cfg.SetAxisMonEnableAtTargetMon(14,1)"
ecmcConfigOrDie "Cfg.SetAxisMonPosLagTol(14,0.5)"
ecmcConfigOrDie "Cfg.SetAxisMonPosLagTime(14,100)"
ecmcConfigOrDie "Cfg.SetAxisMonEnableLagMon(14,0)"
ecmcConfigOrDie "Cfg.SetAxisMonMaxVel(14,200.0)"
ecmcConfigOrDie "Cfg.SetAxisMonEnableMaxVel(14,1)"
ecmcConfigOrDie "Cfg.SetAxisMonMaxVelDriveILDelay(14,200)"
ecmcConfigOrDie "Cfg.SetAxisMonMaxVelTrajILDelay(14,100)"
ecmcConfigOrDie "Cfg.SetAxisSoftLimitPosBwd(14,0)"
ecmcConfigOrDie "Cfg.SetAxisEnableSoftLimitBwd(14,1)"
ecmcConfigOrDie "Cfg.SetAxisSoftLimitPosFwd(14,0)"
ecmcConfigOrDie "Cfg.SetAxisEnableSoftLimitFwd(14,1)"
ecmcConfigOrDie "Cfg.SetAxisMonHomeSwitchPolarity(14,0)"
ecmcConfigOrDie "Cfg.SetAxisHomeLatchCountOffset(14,0)"
ecmcConfigOrDie "Main.M14.fHomePosition=0.0"
ecmcConfigOrDie "Cfg.SetAxisHomePostMoveEnable(14, 0)"
ecmcConfigOrDie "Cfg.SetAxisHomePostMoveTargetPosition(14, 0)"
ecmcMotorRecordCreateAxis(MCU1, "14", "6", "")
ecmcEpicsEnvSetCalc("ECMC_TEMP_SREV","if(abs(1)>0){RESULT:=abs(1);} else {RESULT:=1.0};","%d")
ecmcEpicsEnvSetCalc("ECMC_TEMP_UREV","if(abs(1)>0){RESULT:=abs(1);} else {RESULT:=1.0};","%lf")
ecmcFileExist(ecmcMotorRecord.template,1,1)
dbLoadRecords(ecmcMotorRecord.template, "PREFIX=IOC_TEST:, MOTOR_NAME=Axis14, MOTOR_PORT=MCU1, AXIS_NO=14, DESC=MCU1025 Center Position (14), EGU=mm, PREC=3, VELO=5.0, JVEL=5, JAR=0.0, ACCL=0.1, RDBD=0.3, DLLM=0, DHLM=0, HOMEPROC=3,SREV=1,UREV=1.000000, ")
epicsEnvSet("ECMC_AXISFIELDINIT",  "")
ecmcFileExist(ecmcMotorRecord"home.template",1,1)
dbLoadRecords(ecmcMotorRecord"home.template", "PREFIX=IOC_TEST:, MOTOR_NAME=Axis14, MOTOR_PORT=MCU1, AXIS_NO=14,HOMEPROC=3, HOMEPOS=0.0, HVELTO=5, HVELFRM=4, HOMEACC=21, HOMEDEC=100")
epicsEnvUnset(ECMC_TEMP_SREV)
epicsEnvUnset(ECMC_TEMP_UREV)
ecmcFileExist("ecmcAxis.db",1,1)
dbLoadRecords("ecmcAxis.db","P=IOC_TEST:,AXIS_NAME=Axis14,AXIS_NO=14,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,T_SMP_MS=10,TSE=-2")
ecmcFileExist("ecmcAxisType.db",1,1)
dbLoadRecords("ecmcAxisType.db","P=IOC_TEST:,AXIS_NAME=Axis14,AXIS_TYPE=2")
ecmcFileExist(/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis_unset.cmd,1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis_unset.cmd
#==============================================================================
# ecmc_virt_axis_unset.cmd
epicsEnvUnset(ECMC_AXISCONFIG)
epicsEnvUnset(ECMC_AXISFIELDINIT)
epicsEnvUnset(ECMC_PREC)
epicsEnvUnset(ECMC_EGU)
epicsEnvUnset(ECMC_DESC)
epicsEnvUnset(ECMC_R)
epicsEnvUnset(ECMC_MOTOR_NAME)
epicsEnvUnset(ECMC_EC_AXIS_HEALTH)
epicsEnvUnset(ECMC_MOD_RANGE)
epicsEnvUnset(ECMC_MOD_TYPE)
epicsEnvUnset(ECMC_EMERG_DECEL)
epicsEnvUnset(ECMC_ACCL)
epicsEnvUnset(ECMC_HOME_VEL_TO)
epicsEnvUnset(ECMC_HOME_VEL_FRM)
epicsEnvUnset(ECMC_EC_ENC_ACTPOS)
epicsEnvUnset(ECMC_ENC_SCALE_DENOM)
epicsEnvUnset(ECMC_ENC_SCALE_NUM)
epicsEnvUnset(ECMC_ENC_TYPE)
epicsEnvUnset(ECMC_ENC_BITS)
epicsEnvUnset(ECMC_ENC_ABS_BITS)
epicsEnvUnset(ECMC_ENC_ABS_OFFSET)
epicsEnvUnset(ECMC_ENC_VEL_FILTER_SIZE)
epicsEnvUnset(ECMC_ENC_POS_FILTER_SIZE)
epicsEnvUnset(ECMC_ENC_POS_FILTER_ENABLE)
epicsEnvUnset(ECMC_EC_ENC_RESET)
epicsEnvUnset(ECMC_EC_ENC_ALARM_0)
epicsEnvUnset(ECMC_EC_ENC_ALARM_1)
epicsEnvUnset(ECMC_EC_ENC_ALARM_2)
epicsEnvUnset(ECMC_EC_ENC_WARNING)
epicsEnvUnset(ECMC_EC_MON_LOWLIM)
epicsEnvUnset(ECMC_EC_MON_HIGHLIM)
epicsEnvUnset(ECMC_EC_MON_HOME_SWITCH)
epicsEnvUnset(ECMC_EC_MON_EXT_INTERLOCK)
epicsEnvUnset(ECMC_MON_AT_TARGET_TOL)
epicsEnvUnset(ECMC_MON_AT_TARGET_TIME)
epicsEnvUnset(ECMC_MON_AT_TARGET_ENA)
epicsEnvUnset(ECMC_MON_LAG_MON_TOL)
epicsEnvUnset(ECMC_MON_LAG_MON_TIME)
epicsEnvUnset(ECMC_MON_LAG_MON_ENA)
epicsEnvUnset(ECMC_MON_VELO_MAX)
epicsEnvUnset(ECMC_MON_VELO_MAX_ENA)
epicsEnvUnset(ECMC_MON_VELO_MAX_DRV_TIME)
epicsEnvUnset(ECMC_MON_VELO_MAX_TRAJ_TIME)
epicsEnvUnset(ECMC_MRES)
epicsEnvUnset(ECMC_JOG_VEL)
epicsEnvUnset(ECMC_JAR)
epicsEnvUnset(ECMC_HOME_PROC)
epicsEnvUnset(ECMC_HOME_POS)
epicsEnvUnset(ECMC_HOME_ACC)
epicsEnvUnset(ECMC_HOME_DEC)
epicsEnvUnset(ECMC_DRV_TYPE)
epicsEnvUnset(ECMC_VELO)
epicsEnvUnset(ECMC_SOFT_LOW_LIM)
epicsEnvUnset(ECMC_SOFT_HIGH_LIM)
epicsEnvUnset(ECMC_HOME_POS_MOVE_ENA)
epicsEnvUnset(ECMC_HOME_POS_MOVE_TARG_POS)
# reset PREFIX
epicsEnvSet("ECMC_PREFIX"      "IOC_TEST:")
epicsEnvSet("ID",       "15")
iocshLoad (/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/configureVirtualAxis.cmd, CONFIG=./cfg/linear.vax, ID=15)
#==============================================================================
# configureVirtualAxis.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD, "'FULL'='DAQ'","ecmcExit Error: ECMC started in DAQ mode. Motion not supported..","#-")
epicsEnvUnset(ECMC_EXE_CMD)
epicsEnvSet("ECMC_PREFIX"      "IOC_TEST:")
iocshLoad ./cfg/linear.vax
#General
epicsEnvSet("ECMC_MOTOR_NAME",            "Axis15")
epicsEnvSet("ECMC_R",                     "Axis15-")
epicsEnvSet("ECMC_AXIS_NO",               "15")
epicsEnvSet("ECMC_DESC",                  "MCU1025 Center Position (15)")
epicsEnvSet("ECMC_EGU",                   "mm")                       # Motor Record Unit
epicsEnvSet("ECMC_PREC",                  "3")                        # Motor Record Precision
epicsEnvSet("ECMC_AXISCONFIG",            "")                         # Extra parameters to driver
epicsEnvSet("ECMC_EC_AXIS_HEALTH",        "")                         # Entry for axis health output (example: ec0.s1.binaryOutput01.0)
epicsEnvSet("ECMC_MOD_RANGE" ,            "0")                        # Modulo range (traj setpoints and encoder values will be in range 0..ECMC_MOD_RANGE)
epicsEnvSet("ECMC_MOD_TYPE",              "0")                        # For positioning and MOD_RANGE>0: 0 = Normal, 1 = Always Fwd, 2 = Always Bwd, 3 = Closest Distance
#Encoder
epicsEnvSet("ECMC_ENC_SCALE_NUM"          "1")
epicsEnvSet("ECMC_ENC_SCALE_DENOM"        "1")
epicsEnvSet("ECMC_ENC_TYPE"               "1")                        # Type: 0=Incremental, 1=Absolute
epicsEnvSet("ECMC_ENC_BITS"               "0")                        # Total bit count of encoder raw data
epicsEnvSet("ECMC_ENC_ABS_BITS",          "0")                        # Absolute bit count (for absolute encoders) always least significant part of ECMC_ENC_BITS
epicsEnvSet("ECMC_ENC_ABS_OFFSET"         "0")                        # Encoder offset in eng units (for absolute encoders)
epicsEnvSet("ECMC_EC_ENC_ACTPOS",         "ec0.s1.ZERO")              # Ethercat entry for actual position input (encoder)
epicsEnvSet("ECMC_EC_ENC_RESET",          "")                         # Reset   (if no encoder reset bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_ALARM_0",        "")                         # Error 0 (if no encoder error bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_ALARM_1",        "")                         # Error 1 (if no encoder error bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_ALARM_2",        "")                         # Error 2 (if no encoder error bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_WARNING",        "")                         # Warning (if no encoder warning bit then leave empty)
#Trajectory
epicsEnvSet("ECMC_VELO",                  "5.0")
epicsEnvSet("ECMC_JOG_VEL",               "5")
epicsEnvSet("ECMC_JAR",                   "0.0")                      # JAR defaults to VELO/ACCL
epicsEnvSet("ECMC_ACCL",                  "0.1")
epicsEnvSet("ECMC_EMERG_DECEL",           "0.1")             # Emergency deceleration
#Homing
epicsEnvSet("ECMC_HOME_PROC",             "3")
epicsEnvSet("ECMC_HOME_POS",              "0.0")
epicsEnvSet("ECMC_HOME_VEL_TO",           "5")
epicsEnvSet("ECMC_HOME_VEL_FRM",          "4")
epicsEnvSet("ECMC_HOME_ACC",              "21")
epicsEnvSet("ECMC_HOME_DEC",              "100")
epicsEnvSet("ECMC_HOME_POS_MOVE_ENA",     "0")                        # Enable move to position after successfull homing 
epicsEnvSet("ECMC_HOME_POS_MOVE_TARG_POS","0")                        # Target position to go to after successfull homing
#Monitoring
# Switches
epicsEnvSet("ECMC_EC_MON_LOWLIM",         "ec0.s1.ONE.0")           #  Ethercat entry for low limit switch input
epicsEnvSet("ECMC_EC_MON_HIGHLIM",        "ec0.s1.ONE.0")           #  Ethercat entry for high limit switch inpuit
epicsEnvSet("ECMC_EC_MON_HOME_SWITCH",    "ec0.s1.ONE.0")           #  Ethercat entry for home switch input
epicsEnvSet("ECMC_EC_MON_EXT_INTERLOCK",  "ec0.s1.ONE.0")           #  Ethercat entry for external interlock input
# Softlimits (disable with 0,0)
epicsEnvSet("ECMC_SOFT_LOW_LIM",          "0")
epicsEnvSet("ECMC_SOFT_HIGH_LIM",         "0")
epicsEnvSet("ECMC_DXLM_ENABLE",           "1")
# Position lag
epicsEnvSet("ECMC_MON_LAG_MON_TOL",       "0.5")
epicsEnvSet("ECMC_MON_LAG_MON_TIME",      "100")
epicsEnvSet("ECMC_MON_LAG_MON_ENA",       "0")
# At target
epicsEnvSet("ECMC_MON_AT_TARGET_TOL",     "0.3")
epicsEnvSet("ECMC_MON_AT_TARGET_TIME",    "100")
epicsEnvSet("ECMC_MON_AT_TARGET_ENA",     "1")
# Velocity
epicsEnvSet("ECMC_MON_VELO_MAX",          "200.0")
epicsEnvSet("ECMC_MON_VELO_MAX_TRAJ_TIME","100")
epicsEnvSet("ECMC_MON_VELO_MAX_DRV_TIME", "200")
epicsEnvSet("ECMC_MON_VELO_MAX_ENA",      "1")
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addVirtualAxis.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addVirtualAxis.cmd
#==============================================================================
# addVirtualAxis.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD, "'FULL'='DAQ'","ecmcExit Error: ECMC started in DAQ mode. Motion not supported..","#-")
epicsEnvUnset(ECMC_EXE_CMD)
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis-records.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis-records.cmd
#==============================================================================
# ecmc_virt_axis-records.cmd
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis.cmd",1)
iocshLoad( /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis.cmd )
#==============================================================================
# ecmc_virt_axis.cmd
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/verifyOrDie.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/verifyOrDie.cmd "EXPR_STR='abs(1)<>0',SUCCESS_STR='ECMC_ENC_SCALE_NUM value OK == 1...',ERROR_STR='ECMC_ENC_SCALE_NUM == 0...'"
#==============================================================================
# verifyOrDie.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD,"abs(1)<>0","# ECMC_ENC_SCALE_NUM value OK == 1...", "ecmcExit Error: ECMC_ENC_SCALE_NUM == 0...")
# ECMC_ENC_SCALE_NUM value OK == 1...
epicsEnvUnset(ECMC_EXE_CMD)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/verifyOrDie.cmd "EXPR_STR='abs(1)<>0',SUCCESS_STR='ECMC_ENC_SCALE_DENOM value OK == 1...',ERROR_STR='ECMC_ENC_SCALE_DENOM == 0...'"
#==============================================================================
# verifyOrDie.cmd
ecmcE2022/05/13 08:36:36.326 OK
2022/05/13 08:36:36.326 OK
2022/05/13 08:36:36.326 OK
2022/05/13 08:36:36.326 OK
2022/05/13 08:36:36.326 OK
2022/05/13 08:36:36.326 OK
2022/05/13 08:36:36.326 OK
2022/05/13 08:36:36.326 OK
2022/05/13 08:36:36.326 OK
2022/05/13 08:36:36.326 OK
2022/05/13 08:36:36.326 OK
2022/05/13 08:36:36.326 OK
2022/05/13 08:36:36.326 OK
2022/05/13 08:36:36.326 OK
2022/05/13 08:36:36.327 OK
2022/05/13 08:36:36.327 OK
2022/05/13 08:36:36.327 OK
2022/05/13 08:36:36.327 OK
2022/05/13 08:36:36.327 OK
2022/05/13 08:36:36.327 OK
2022/05/13 08:36:36.327 OK
2022/05/13 08:36:36.327 OK
2022/05/13 08:36:36.327 OK
2022/05/13 08:36:36.327 OK
2022/05/13 08:36:36.327 OK
2022/05/13 08:36:36.327 OK
2022/05/13 08:36:36.327 OK
2022/05/13 08:36:36.327 OK
2022/05/13 08:36:36.327 OK
2022/05/13 08:36:36.327 OK
2022/05/13 08:36:36.327 OK
2022/05/13 08:36:36.327 OK
2022/05/13 08:36:36.327 OK
2022/05/13 08:36:36.327 OK
2022/05/13 08:36:36.327 OK
2022/05/13 08:36:36.327 OK
2022/05/13 08:36:36.327 OK
2022/05/13 08:36:36.327 OK
2022/05/13 08:36:36.327 OK
2022/05/13 08:36:36.328 OK
2022/05/13 08:36:36.328 OK
2022/05/13 08:36:36.328 OK
2022/05/13 08:36:36.328 OK
2022/05/13 08:36:36.328 OK
2022/05/13 08:36:36.328 OK
2022/05/13 08:36:36.328 OK
2022/05/13 08:36:36.328 OK
2022/05/13 08:36:36.328 OK
2022/05/13 08:36:36.328 OK
2022/05/13 08:36:36.328 OK
2022/05/13 08:36:36.328 ecmcMotorRecord:: setIntegerParam(15 motorPowerAutoOnOff_)=2
2022/05/13 08:36:36.328 ecmcMotorRecord:: setDoubleParam(15 motorPowerOnDelay_)=6
2022/05/13 08:36:36.328 ecmcMotorRecord:: setDoubleParam(15 motorPowerOffDelay_=-1
2022/05/13 08:36:36.328 ecmcMotorRecord:: connected(15)
2022/05/13 08:36:36.328 ecmcMotorRecord:: initialPoll(15) status=0
picsEnvSetCalcTernary(ECMC_EXE_CMD,"abs(1)<>0","# ECMC_ENC_SCALE_DENOM value OK == 1...", "ecmcExit Error: ECMC_ENC_SCALE_DENOM == 0...")
# ECMC_ENC_SCALE_DENOM value OK == 1...
epicsEnvUnset(ECMC_EXE_CMD)
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/issueWarning.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/issueWarning.cmd "EXPR_STR='-1>0',WARNING_STR='WARNING: ECMC_MRES setting is deprecated and will not be used. (MRES will be calulated instead: ECMC_ENC_SCALE_NUM/ECMC_ENC_SCALE_DENOM).. '"
#==============================================================================
# issueWarning.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD,"-1>0","", "#-")
epicsEnvUnset(ECMC_EXE_CMD)
ecmcConfigOrDie "Cfg.CreateAxis(15,2)"
ecmcConfigOrDie "Cfg.SetAxisTrajStartPos(15,0)"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax15.health")"
ecmcConfigOrDie "Cfg.SetAxisModRange(15, 0)"
ecmcConfigOrDie "Cfg.SetAxisModType(15, 0)"
ecmcConfigOrDie "Cfg.SetAxisEmergDeceleration(15,0.1)"
ecmcConfigOrDie "Cfg.SetAxisVelAccDecTime(15,5.0,0.1)"
ecmcConfigOrDie "Cfg.SetAxisHomeVelTwordsCam(15,5)"
ecmcConfigOrDie "Cfg.SetAxisHomeVelOffCam(15,4)"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ZERO,"ax15.enc.actpos")"
ecmcConfigOrDie "Cfg.SetAxisEncScaleDenom(15,1)"
ecmcConfigOrDie "Cfg.SetAxisEncScaleNum(15,1)"
ecmcConfigOrDie "Cfg.SetAxisEncType(15,1)"
ecmcConfigOrDie "Cfg.SetAxisEncBits(15,0)"
ecmcConfigOrDie "Cfg.SetAxisEncAbsBits(15,0)"
ecmcConfigOrDie "Cfg.SetAxisEncOffset(15,0)"
ecmcConfigOrDie "Cfg.SetAxisEncVelFilterSize(15,100)"
ecmcConfigOrDie "Cfg.SetAxisEncPosFilterSize(15,1)"
ecmcConfigOrDie "Cfg.SetAxisEncPosFilterEnable(15,0)"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax15.enc.reset")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax15.enc.alarm0")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax15.enc.alarm1")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax15.enc.alarm2")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax15.enc.warning")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax15.enc.latchpos")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax15.enc.latchcontrol")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax15.enc.latchstatus")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax15.mon.lowlim")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax15.mon.highlim")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax15.mon.homesensor")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax15.mon.extinterlock")"
ecmcConfigOrDie "Cfg.SetAxisMonAtTargetTol(15,0.3)"
ecmcConfigOrDie "Cfg.SetAxisMonAtTargetTime(15,100)"
ecmcConfigOrDie "Cfg.SetAxisMonEnableAtTargetMon(15,1)"
ecmcConfigOrDie "Cfg.SetAxisMonPosLagTol(15,0.5)"
ecmcConfigOrDie "Cfg.SetAxisMonPosLagTime(15,100)"
ecmcConfigOrDie "Cfg.SetAxisMonEnableLagMon(15,0)"
ecmcConfigOrDie "Cfg.SetAxisMonMaxVel(15,200.0)"
ecmcConfigOrDie "Cfg.SetAxisMonEnableMaxVel(15,1)"
ecmcConfigOrDie "Cfg.SetAxisMonMaxVelDriveILDelay(15,200)"
ecmcConfigOrDie "Cfg.SetAxisMonMaxVelTrajILDelay(15,100)"
ecmcConfigOrDie "Cfg.SetAxisSoftLimitPosBwd(15,0)"
ecmcConfigOrDie "Cfg.SetAxisEnableSoftLimitBwd(15,1)"
ecmcConfigOrDie "Cfg.SetAxisSoftLimitPosFwd(15,0)"
ecmcConfigOrDie "Cfg.SetAxisEnableSoftLimitFwd(15,1)"
ecmcConfigOrDie "Cfg.SetAxisMonHomeSwitchPolarity(15,0)"
ecmcConfigOrDie "Cfg.SetAxisHomeLatchCountOffset(15,0)"
ecmcConfigOrDie "Main.M15.fHomePosition=0.0"
ecmcConfigOrDie "Cfg.SetAxisHomePostMoveEnable(15, 0)"
ecmcConfigOrDie "Cfg.SetAxisHomePostMoveTargetPosition(15, 0)"
ecmcMotorRecordCreateAxis(MCU1, "15", "6", "")
ecmcEpicsEnvSetCalc("ECMC_TEMP_SREV","if(abs(1)>0){RESULT:=abs(1);} else {RESULT:=1.0};","%d")
ecmcEpicsEnvSetCalc("ECMC_TEMP_UREV","if(abs(1)>0){RESULT:=abs(1);} else {RESULT:=1.0};","%lf")
ecmcFileExist(ecmcMotorRecord.template,1,1)
dbLoadRecords(ecmcMotorRecord.template, "PREFIX=IOC_TEST:, MOTOR_NAME=Axis15, MOTOR_PORT=MCU1, AXIS_NO=15, DESC=MCU1025 Center Position (15), EGU=mm, PREC=3, VELO=5.0, JVEL=5, JAR=0.0, ACCL=0.1, RDBD=0.3, DLLM=0, DHLM=0, HOMEPROC=3,SREV=1,UREV=1.000000, ")
epicsEnvSet("ECMC_AXISFIELDINIT",  "")
ecmcFileExist(ecmcMotorRecord"home.template",1,1)
dbLoadRecords(ecmcMotorRecord"home.template", "PREFIX=IOC_TEST:, MOTOR_NAME=Axis15, MOTOR_PORT=MCU1, AXIS_NO=15,HOMEPROC=3, HOMEPOS=0.0, HVELTO=5, HVELFRM=4, HOMEACC=21, HOMEDEC=100")
epicsEnvUnset(ECMC_TEMP_SREV)
epicsEnvUnset(ECMC_TEMP_UREV)
ecmcFileExist("ecmcAxis.db",1,1)
dbLoadRecords("ecmcAxis.db","P=IOC_TEST:,AXIS_NAME=Axis15,AXIS_NO=15,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,T_SMP_MS=10,TSE=-2")
ecmcFileExist("ecmcAxisType.db",1,1)
dbLoadRecords("ecmcAxisType.db","P=IOC_TEST:,AXIS_NAME=Axis15,AXIS_TYPE=2")
ecmcFileExist(/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis_unset.cmd,1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis_unset.cmd
#==============================================================================
# ecmc_virt_axis_unset.cmd
epicsEnvUnset(ECMC_AXISCONFIG)
epicsEnvUnset(ECMC_AXISFIELDINIT)
epicsEnvUnset(ECMC_PREC)
epicsEnvUnset(ECMC_EGU)
epicsEnvUnset(ECMC_DESC)
epicsEnvUnset(ECMC_R)
epicsEnvUnset(ECMC_MOTOR_NAME)
epicsEnvUnset(ECMC_EC_AXIS_HEALTH)
epicsEnvUnset(ECMC_MOD_RANGE)
epicsEnvUnset(ECMC_MOD_TYPE)
epicsEnvUnset(ECMC_EMERG_DECEL)
epicsEnvUnset(ECMC_ACCL)
epicsEnvUnset(ECMC_HOME_VEL_TO)
epicsEnvUnset(ECMC_HOME_VEL_FRM)
epicsEnvUnset(ECMC_EC_ENC_ACTPOS)
epicsEnvUnset(ECMC_ENC_SCALE_DENOM)
epicsEnvUnset(ECMC_ENC_SCALE_NUM)
epicsEnvUnset(ECMC_ENC_TYPE)
epicsEnvUnset(ECMC_ENC_BITS)
epicsEnvUnset(ECMC_ENC_ABS_BITS)
epicsEnvUnset(ECMC_ENC_ABS_OFFSET)
epicsEnvUnset(ECMC_ENC_VEL_FILTER_SIZE)
epicsEnvUnset(ECMC_ENC_POS_FILTER_SIZE)
epicsEnvUnset(ECMC_ENC_POS_FILTER_ENABLE)
epicsEnvUnset(ECMC_EC_ENC_RESET)
epicsEnvUnset(ECMC_EC_ENC_ALARM_0)
epicsEnvUnset(ECMC_EC_ENC_ALARM_1)
epicsEnvUnset(ECMC_EC_ENC_ALARM_2)
epicsEnvUnset(ECMC_EC_ENC_WARNING)
epicsEnvUnset(ECMC_EC_MON_LOWLIM)
epicsEnvUnset(ECMC_EC_MON_HIGHLIM)
epicsEnvUnset(ECMC_EC_MON_HOME_SWITCH)
epicsEnvUnset(ECMC_EC_MON_EXT_INTERLOCK)
epicsEnvUnset(ECMC_MON_AT_TARGET_TOL)
epicsEnvUnset(ECMC_MON_AT_TARGET_TIME)
epicsEnvUnset(ECMC_MON_AT_TARGET_ENA)
epicsEnvUnset(ECMC_MON_LAG_MON_TOL)
epicsEnvUnset(ECMC_MON_LAG_MON_TIME)
epicsEnvUnset(ECMC_MON_LAG_MON_ENA)
epicsEnvUnset(ECMC_MON_VELO_MAX)
epicsEnvUnset(ECMC_MON_VELO_MAX_ENA)
epicsEnvUnset(ECMC_MON_VELO_MAX_DRV_TIME)
epicsEnvUnset(ECMC_MON_VELO_MAX_TRAJ_TIME)
epicsEnvUnset(ECMC_MRES)
epicsEnvUnset(ECMC_JOG_VEL)
epicsEnvUnset(ECMC_JAR)
epicsEnvUnset(ECMC_HOME_PROC)
epicsEnvUnset(ECMC_HOME_POS)
epicsEnvUnset(ECMC_HOME_ACC)
epicsEnvUnset(ECMC_HOME_DEC)
epicsEnvUnset(ECMC_DRV_TYPE)
epicsEnvUnset(ECMC_VELO)
epicsEnvUnset(ECMC_SOFT_LOW_LIM)
epicsEnvUnset(ECMC_SOFT_HIGH_LIM)
epicsEnvUnset(ECMC_HOME_POS_MOVE_ENA)
epicsEnvUnset(ECMC_HOME_POS_MOVE_TARG_POS)
# reset PREFIX
epicsEnvSet("ECMC_PREFIX"      "IOC_TEST:")
epicsEnvSet("ID",       "16")
iocshLoad (/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/configureVirtualAxis.cmd, CONFIG=./cfg/linear.vax, ID=16)
#==============================================================================
# configureVirtualAxis.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD, "'FULL'='DAQ'","ecmcExit Error: ECMC started in DAQ mode. Motion not supported..","#-")
epicsEnvUnset(ECMC_EXE_CMD)
epicsEnvSet("ECMC_PREFIX"      "IOC_TEST:")
iocshLoad ./cfg/linear.vax
#General
epicsEnvSet("ECMC_MOTOR_NAME",            "Axis16")
epicsEnvSet("ECMC_R",                     "Axis16-")
epicsEnvSet("ECMC_AXIS_NO",               "16")
epicsEnvSet("ECMC_DESC",                  "MCU1025 Center Position (16)")
epicsEnvSet("ECMC_EGU",                   "mm")                       # Motor Record Unit
epicsEnvSet("ECMC_PREC",                  "3")                        # Motor Record Precision
epicsEnvSet("ECMC_AXISCONFIG",            "")                         # Extra parameters to driver
epicsEnvSet("ECMC_EC_AXIS_HEALTH",        "")                         # Entry for axis health output (example: ec0.s1.binaryOutput01.0)
epicsEnvSet("ECMC_MOD_RANGE" ,            "0")                        # Modulo range (traj setpoints and encoder values will be in range 0..ECMC_MOD_RANGE)
epicsEnvSet("ECMC_MOD_TYPE",              "0")                        # For positioning and MOD_RANGE>0: 0 = Normal, 1 = Always Fwd, 2 = Always Bwd, 3 = Closest Distance
#Encoder
epicsEnvSet("ECMC_ENC_SCALE_NUM"          "1")
epicsEnvSet("ECMC_ENC_SCALE_DENOM"        "1")
epicsEnvSet("ECMC_ENC_TYPE"               "1")                        # Type: 0=Incremental, 1=Absolute
epicsEnvSet("ECMC_ENC_BITS"               "0")                        # Total bit count of encoder raw data
epicsEnvSet("ECMC_ENC_ABS_BITS",          "0")                        # Absolute bit count (for absolute encoders) always least significant part of ECMC_ENC_BITS
epicsEnvSet("ECMC_ENC_ABS_OFFSET"         "0")                        # Encoder offset in eng units (for absolute encoders)
epicsEnvSet("ECMC_EC_ENC_ACTPOS",         "ec0.s1.ZERO")              # Ethercat entry for actual position input (encoder)
epicsEnvSet("ECMC_EC_ENC_RESET",          "")                         # Reset   (if no encoder reset bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_ALARM_0",        "")                         # Error 0 (if no encoder error bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_ALARM_1",        "")                         # Error 1 (if no encoder error bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_ALARM_2",        "")                         # Error 2 (if no encoder error bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_WARNING",        "")                         # Warning (if no encoder warning bit then leave empty)
#Trajectory
epicsEnvSet("ECMC_VELO",                  "5.0")
epicsEnvSet("ECMC_JOG_VEL",               "5")
epicsEnvSet("ECMC_JAR",                   "0.0")                      # JAR defaults to VELO/ACCL
epicsEnvSet("ECMC_ACCL",                  "0.1")
epicsEnvSet("ECMC_EMERG_DECEL",           "0.1")             # Emergency deceleration
#Homing
epicsEnvSet("ECMC_HOME_PROC",             "3")
epicsEnvSet("ECMC_HOME_POS",              "0.0")
epicsEnvSet("ECMC_HOME_VEL_TO",           "5")
epicsEnvSet("ECMC_HOME_VEL_FRM",          "4")
epicsEnvSet("ECMC_HOME_ACC",              "21")
epicsEnvSet("ECMC_HOME_DEC",              "100")
epicsEnvSet("ECMC_HOME_POS_MOVE_ENA",     "0")                        # Enable move to position after successfull homing 
epicsEnvSet("ECMC_HOME_POS_MOVE_TARG_POS","0")                        # Target position to go to after successfull homing
#Monitoring
# Switches
epicsEnvSet("ECMC_EC_MON_LOWLIM",         "ec0.s1.ONE.0")           #  Ethercat entry for low limit switch input
epicsEnvSet("ECMC_EC_MON_HIGHLIM",        "ec0.s1.ONE.0")           #  Ethercat entry for high limit switch inpuit
epicsEnvSet("ECMC_EC_MON_HOME_SWITCH",    "ec0.s1.ONE.0")           #  Ethercat entry for home switch input
epicsEnvSet("ECMC_EC_MON_EXT_INTERLOCK",  "ec0.s1.ONE.0")           #  Ethercat entry for external interlock input
# Softlimits (disable with 0,0)
epicsEnvSet("ECMC_SOFT_LOW_LIM",          "0")
epicsEnvSet("ECMC_SOFT_HIGH_LIM",         "0")
epicsEnvSet("ECMC_DXLM_ENABLE",           "1")
# Position lag
epicsEnvSet("ECMC_MON_LAG_MON_TOL",       "0.5")
epicsEnvSet("ECMC_MON_LAG_MON_TIME",      "100")
epicsEnvSet("ECMC_MON_LAG_MON_ENA",       "0")
# At target
epicsEnvSet("ECMC_MON_AT_TARGET_TOL",     "0.3")
epicsEnvSet("ECMC_MON_AT_TARGET_TIME",    "100")
epicsEnvSet("ECMC_MON_AT_TARGET_ENA",     "1")
# Velocity
epicsEnvSet("ECMC_MON_VELO_MAX",          "200.0")
epicsEnvSet("ECMC_MON_VELO_MAX_TRAJ_TIME","100")
epicsEnvSet("ECMC_MON_VELO_MAX_DRV_TIME", "200")
epicsEnvSet("ECMC_MON_VELO_MAX_ENA",      "1")
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addVirtualAxis.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addVirtualAxis.cmd
#==============================================================================
# addVirtualAxis.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD, "'FULL'='DAQ'","ecmcExit Error: ECMC started in DAQ mode. Motion not supported..","#-")
epicsEnvUnset(ECMC_EXE_CMD)
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis-records.cmd",1)
iocshLo2022/05/13 08:36:36.336 OK
2022/05/13 08:36:36.337 OK
2022/05/13 08:36:36.337 OK
2022/05/13 08:36:36.337 OK
2022/05/13 08:36:36.337 OK
2022/05/13 08:36:36.337 OK
2022/05/13 08:36:36.337 OK
2022/05/13 08:36:36.337 OK
2022/05/13 08:36:36.337 OK
2022/05/13 08:36:36.337 OK
2022/05/13 08:36:36.337 OK
2022/05/13 08:36:36.337 OK
2022/05/13 08:36:36.337 OK
2022/05/13 08:36:36.337 OK
2022/05/13 08:36:36.337 OK
2022/05/13 08:36:36.338 OK
2022/05/13 08:36:36.338 OK
2022/05/13 08:36:36.338 OK
2022/05/13 08:36:36.338 OK
2022/05/13 08:36:36.338 OK
2022/05/13 08:36:36.338 OK
2022/05/13 08:36:36.338 OK
2022/05/13 08:36:36.338 OK
2022/05/13 08:36:36.338 OK
2022/05/13 08:36:36.338 OK
2022/05/13 08:36:36.338 OK
2022/05/13 08:36:36.338 OK
2022/05/13 08:36:36.338 OK
2022/05/13 08:36:36.338 OK
2022/05/13 08:36:36.338 OK
2022/05/13 08:36:36.338 OK
2022/05/13 08:36:36.338 OK
2022/05/13 08:36:36.339 OK
2022/05/13 08:36:36.339 OK
2022/05/13 08:36:36.339 OK
ad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis-records.cmd
#==============================================================================
# ecmc_virt_axis-records.cmd
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis.cmd",1)
iocshLoad( /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis.cmd )
#==============================================================================
# ecmc_virt_axis.cmd
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/verifyOrDie.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/verifyOrDie.cmd "EXPR_STR='abs(1)<>0',SUCCESS_STR='ECMC_ENC_SCALE_NUM value OK == 1...',ERROR_STR='ECMC_ENC_SCALE_NUM == 0...'"
#==============================================================================
# verifyOrDie.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD,"abs(1)<>0","# ECMC_ENC_SCALE_NUM value OK == 1...", "ecmcExit Error: ECMC_ENC_SCALE_NUM == 0...")
# ECMC_ENC_SCALE_NUM value OK == 1...
epicsEnvUnset(ECMC_EXE_CMD)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/verifyOrDie.cmd "EXPR_STR='abs(1)<>0',SUCCESS_STR='ECMC_ENC_SCALE_DENOM value OK == 1...',ERROR_STR='ECMC_ENC_SCALE_DENOM == 0...'"
#==============================================================================
# verifyOrDie.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD,"abs(1)<>0","# ECMC_ENC_SCALE_DENOM value OK == 1...", "ecmcExit Error: ECMC_ENC_SCALE_DENOM == 0...")
# ECMC_ENC_SCALE_DENOM value OK == 1...
epicsEnvUnset(ECMC_EXE_CMD)
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/issueWarning.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/issueWarning.cmd "EXPR_STR='-1>0',WARNING_STR='WARNING: ECMC_MRES setting is deprecated and will not be used. (MRES will be calulated instead: ECMC_ENC_SCALE_NUM/ECMC_ENC_SCALE_DENOM).. '"
#==============================================================================
# issueWarning.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD,"-1>0","", "#-")
epicsEnvUnset(ECMC_EXE_CMD)
ecmcConfigOrDie "Cfg.CreateAxis(16,2)"
ecmcConfigOrDie "Cfg.SetAxisTrajStartPos(16,0)"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax16.health")"
ecmcConfigOrDie "Cfg.SetAxisModRange(16, 0)"
ecmcConfigOrDie "Cfg.SetAxisModType(16, 0)"
ecmcConfigOrDie "Cfg.SetAxisEmergDeceleration(16,0.1)"
ecmcConfigOrDie "Cfg.SetAxisVelAccDecTime(16,5.0,0.1)"
ecmcConfigOrDie "Cfg.SetAxisHomeVelTwordsCam(16,5)"
ecmcConfigOrDie "Cfg.SetAxisHomeVelOffCam(16,4)"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ZERO,"ax16.enc.actpos")"
ecmcConfigOrDie "Cfg.SetAxisEncScaleDenom(16,1)"
ecmcConfigOrDie "Cfg.SetAxisEncScaleNum(16,1)"
ecmcConfigOrDie "Cfg.SetAxisEncType(16,1)"
ecmcConfigOrDie "Cfg.SetAxisEncBits(16,0)"
ecmcConfigOrDie "Cfg.SetAxisEncAbsBits(16,0)"
ecmcConfigOrDie "Cfg.SetAxisEncOffset(16,0)"
ecmcConfigOrDie "Cfg.SetAxisEncVelFilterSize(16,100)"
ecmcConfigOrDie "Cfg.SetAxisEncPosFilterSize(16,1)"
ecmcConfigOrDie "Cfg.SetAxisEncPosFilterEnable(16,0)"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax16.enc.reset")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax16.enc.alarm0")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax16.enc.alarm1")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax16.enc.alarm2")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax16.enc.warning")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax16.enc.latchpos")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax16.enc.latchcontrol")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax16.enc.latchstatus")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax16.mon.lowlim")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax16.mon.highlim")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax16.mon.homesensor")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax16.mon.extinterlock")"
ecmcConfigOrDie "Cfg.SetAxisMonAtTargetTol(16,0.3)"
ecmcConfigOrDie "Cfg.SetAxisMonAtTargetTime(16,100)"
ecmcConfigOrDie "Cfg.SetAxisMonEnableAtTargetMon(16,1)"
ecmcConfigOrDie "Cfg.SetAxisMonPosLagTol(16,0.5)"
ecmcCo2022/05/13 08:36:36.339 OK
2022/05/13 08:36:36.339 OK
2022/05/13 08:36:36.339 OK
2022/05/13 08:36:36.339 OK
2022/05/13 08:36:36.339 OK
2022/05/13 08:36:36.339 OK
2022/05/13 08:36:36.339 OK
2022/05/13 08:36:36.339 OK
2022/05/13 08:36:36.339 OK
2022/05/13 08:36:36.339 OK
2022/05/13 08:36:36.339 OK
2022/05/13 08:36:36.339 OK
2022/05/13 08:36:36.339 OK
2022/05/13 08:36:36.339 OK
2022/05/13 08:36:36.339 OK
2022/05/13 08:36:36.339 ecmcMotorRecord:: setIntegerParam(16 motorPowerAutoOnOff_)=2
2022/05/13 08:36:36.339 ecmcMotorRecord:: setDoubleParam(16 motorPowerOnDelay_)=6
2022/05/13 08:36:36.339 ecmcMotorRecord:: setDoubleParam(16 motorPowerOffDelay_=-1
2022/05/13 08:36:36.339 ecmcMotorRecord:: connected(16)
2022/05/13 08:36:36.339 ecmcMotorRecord:: initialPoll(16) status=0
nfigOrDie "Cfg.SetAxisMonPosLagTime(16,100)"
ecmcConfigOrDie "Cfg.SetAxisMonEnableLagMon(16,0)"
ecmcConfigOrDie "Cfg.SetAxisMonMaxVel(16,200.0)"
ecmcConfigOrDie "Cfg.SetAxisMonEnableMaxVel(16,1)"
ecmcConfigOrDie "Cfg.SetAxisMonMaxVelDriveILDelay(16,200)"
ecmcConfigOrDie "Cfg.SetAxisMonMaxVelTrajILDelay(16,100)"
ecmcConfigOrDie "Cfg.SetAxisSoftLimitPosBwd(16,0)"
ecmcConfigOrDie "Cfg.SetAxisEnableSoftLimitBwd(16,1)"
ecmcConfigOrDie "Cfg.SetAxisSoftLimitPosFwd(16,0)"
ecmcConfigOrDie "Cfg.SetAxisEnableSoftLimitFwd(16,1)"
ecmcConfigOrDie "Cfg.SetAxisMonHomeSwitchPolarity(16,0)"
ecmcConfigOrDie "Cfg.SetAxisHomeLatchCountOffset(16,0)"
ecmcConfigOrDie "Main.M16.fHomePosition=0.0"
ecmcConfigOrDie "Cfg.SetAxisHomePostMoveEnable(16, 0)"
ecmcConfigOrDie "Cfg.SetAxisHomePostMoveTargetPosition(16, 0)"
ecmcMotorRecordCreateAxis(MCU1, "16", "6", "")
ecmcEpicsEnvSetCalc("ECMC_TEMP_SREV","if(abs(1)>0){RESULT:=abs(1);} else {RESULT:=1.0};","%d")
ecmcEpicsEnvSetCalc("ECMC_TEMP_UREV","if(abs(1)>0){RESULT:=abs(1);} else {RESULT:=1.0};","%lf")
ecmcFileExist(ecmcMotorRecord.template,1,1)
dbLoadRecords(ecmcMotorRecord.template, "PREFIX=IOC_TEST:, MOTOR_NAME=Axis16, MOTOR_PORT=MCU1, AXIS_NO=16, DESC=MCU1025 Center Position (16), EGU=mm, PREC=3, VELO=5.0, JVEL=5, JAR=0.0, ACCL=0.1, RDBD=0.3, DLLM=0, DHLM=0, HOMEPROC=3,SREV=1,UREV=1.000000, ")
epicsEnvSet("ECMC_AXISFIELDINIT",  "")
ecmcFileExist(ecmcMotorRecord"home.template",1,1)
dbLoadRecords(ecmcMotorRecord"home.template", "PREFIX=IOC_TEST:, MOTOR_NAME=Axis16, MOTOR_PORT=MCU1, AXIS_NO=16,HOMEPROC=3, HOMEPOS=0.0, HVELTO=5, HVELFRM=4, HOMEACC=21, HOMEDEC=100")
epicsEnvUnset(ECMC_TEMP_SREV)
epicsEnvUnset(ECMC_TEMP_UREV)
ecmcFileExist("ecmcAxis.db",1,1)
dbLoadRecords("ecmcAxis.db","P=IOC_TEST:,AXIS_NAME=Axis16,AXIS_NO=16,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,T_SMP_MS=10,TSE=-2")
ecmcFileExist("ecmcAxisType.db",1,1)
dbLoadRecords("ecmcAxisType.db","P=IOC_TEST:,AXIS_NAME=Axis16,AXIS_TYPE=2")
ecmcFileExist(/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis_unset.cmd,1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis_unset.cmd
#==============================================================================
# ecmc_virt_axis_unset.cmd
epicsEnvUnset(ECMC_AXISCONFIG)
epicsEnvUnset(ECMC_AXISFIELDINIT)
epicsEnvUnset(ECMC_PREC)
epicsEnvUnset(ECMC_EGU)
epicsEnvUnset(ECMC_DESC)
epicsEnvUnset(ECMC_R)
epicsEnvUnset(ECMC_MOTOR_NAME)
epicsEnvUnset(ECMC_EC_AXIS_HEALTH)
epicsEnvUnset(ECMC_MOD_RANGE)
epicsEnvUnset(ECMC_MOD_TYPE)
epicsEnvUnset(ECMC_EMERG_DECEL)
epicsEnvUnset(ECMC_ACCL)
epicsEnvUnset(ECMC_HOME_VEL_TO)
epicsEnvUnset(ECMC_HOME_VEL_FRM)
epicsEnvUnset(ECMC_EC_ENC_ACTPOS)
epicsEnvUnset(ECMC_ENC_SCALE_DENOM)
epicsEnvUnset(ECMC_ENC_SCALE_NUM)
epicsEnvUnset(ECMC_ENC_TYPE)
epicsEnvUnset(ECMC_ENC_BITS)
epicsEnvUnset(ECMC_ENC_ABS_BITS)
epicsEnvUnset(ECMC_ENC_ABS_OFFSET)
epicsEnvUnset(ECMC_ENC_VEL_FILTER_SIZE)
epicsEnvUnset(ECMC_ENC_POS_FILTER_SIZE)
epicsEnvUnset(ECMC_ENC_POS_FILTER_ENABLE)
epicsEnvUnset(ECMC_EC_ENC_RESET)
epicsEnvUnset(ECMC_EC_ENC_ALARM_0)
epicsEnvUnset(ECMC_EC_ENC_ALARM_1)
epicsEnvUnset(ECMC_EC_ENC_ALARM_2)
epicsEnvUnset(ECMC_EC_ENC_WARNING)
epicsEnvUnset(ECMC_EC_MON_LOWLIM)
epicsEnvUnset(ECMC_EC_MON_HIGHLIM)
epicsEnvUnset(ECMC_EC_MON_HOME_SWITCH)
epicsEnvUnset(ECMC_EC_MON_EXT_INTERLOCK)
epicsEnvUnset(ECMC_MON_AT_TARGET_TOL)
epicsEnvUnset(ECMC_MON_AT_TARGET_TIME)
epicsEnvUnset(ECMC_MON_AT_TARGET_ENA)
epicsEnvUnset(ECMC_MON_LAG_MON_TOL)
epicsEnvUnset(ECMC_MON_LAG_MON_TIME)
epicsEnvUnset(ECMC_MON_LAG_MON_ENA)
epicsEnvUnset(ECMC_MON_VELO_MAX)
epicsEnvUnset(ECMC_MON_VELO_MAX_ENA)
epicsEnvUnset(ECMC_MON_VELO_MAX_DRV_TIME)
epicsEnvUnset(ECMC_MON_VELO_MAX_TRAJ_TIME)
epicsEnvUnset(ECMC_MRES)
epicsEnvUnset(ECMC_JOG_VEL)
epicsEnvUnset(ECMC_JAR)
epicsEnvUnset(ECMC_HOME_PROC)
epicsEnvUnset(ECMC_HOME_POS)
epicsEnvUnset(ECMC_HOME_ACC)
epicsEnvUnset(ECMC_HOME_DEC)
epicsEnvUnset(ECMC_DRV_TYPE)
epicsEnvUnset(ECMC_VELO)
epicsEnvUnset(ECMC_SOFT_LOW_LIM)
epicsEnvUnset(ECMC_SOFT_HIGH_LIM)
epicsEnvUnset(ECMC_HOME_POS_MOVE_ENA)
epicsEnvUnset(ECMC_HOME_POS_MOVE_TARG_POS)
# reset PREFIX
epicsEnvSet("ECMC_PREFIX"      "IOC_TEST:")
epicsEnvSet("ID",       "17")
iocshLoad (/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/configureVirtualAxis.cmd, CONFIG=./cfg/linear.vax, ID=17)
#==============================================================================
# configureVirtualAxis.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD, "'FULL'='DAQ'","ecmcExit Error: ECMC started in DAQ mode. Motion not supported..","#-")
epicsEnvUnset(ECMC_EXE_CMD)
epicsEnvSet("ECMC_PREFIX"      "IOC_TEST:")
iocshLoad ./cfg/linear.vax
#General
epicsEnvSet("ECMC_MOTOR_NAME",            "Axis17")
epicsEnvSet("ECMC_R",                     "Axis17-")
epicsEnvSet("ECMC_AXIS_NO",               "17")
epicsEnvSet("ECMC_DESC",                  "MCU1025 Center Position (17)")
epicsEnvSet("ECMC_EGU",                   "mm")                       # Motor Record Unit
epicsEnvSet("ECMC_PREC",                  "3")                        # Motor Record Precision
epicsEnvSet("ECMC_AXISCONFIG",            "")                         # Extra parameters to driver
epicsEnvSet("ECMC_EC_AXIS_HEALTH",        "")                         # Entry for axis health output (example: ec0.s1.binaryOutput01.0)
epicsEnvSet("ECMC_MOD_RANGE" ,            "0")                        # Modulo range (traj setpoints and encoder values will be in range 0..ECMC_MOD_RANGE)
epicsEnvSet("ECMC_MOD_TYPE",              "0")                        # For positioning and MOD_RANGE>0: 0 = Normal, 1 = Always Fwd, 2 = Always Bwd, 3 = Closest Distance
#Encoder
epicsEnvSet("ECMC_ENC_SCALE_NUM"          "1")
epicsEnvSet("ECMC_ENC_SCALE_DENOM"        "1")
epicsEnvSet("ECMC_ENC_TYPE"               "1")                        # Type: 0=Incremental, 1=Absolute
epicsEnvSet("ECMC_ENC_BITS"               "0")                        # Total bit count of encoder raw data
epicsEnvSet("ECMC_ENC_ABS_BITS",          "0")                        # Absolute bit count (for absolute encoders) always least significant part of ECMC_ENC_BITS
epicsEnvSet("ECMC_ENC_ABS_OFFSET"         "0")                        # Encoder offset in eng units (for absolute encoders)
epicsEnvSet("ECMC_EC_ENC_ACTPOS",         "ec0.s1.ZERO")              # Ethercat entry for actual position input (encoder)
epicsEnvSet("ECMC_EC_ENC_RESET",          "")                         # Reset   (if no encoder reset bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_ALARM_0",        "")                         # Error 0 (if no encoder error bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_ALARM_1",        "")                         # Error 1 (if no encoder error bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_ALARM_2",        "")                         # Error 2 (if no encoder error bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_WARNING",        "")                         # Warning (if no encoder warning bit then leave empty)
#Trajectory
epicsEnvSet("ECMC_VELO",                  "5.0")
epicsEnvSet("ECMC_JOG_VEL",               "5")
epicsEnvSet("ECMC_JAR",                   "0.0")                      # JAR defaults to VELO/ACCL
epicsEnvSet("ECMC_ACCL",                  "0.1")
epicsEnvSet("ECMC_EMERG_DECEL",           "0.1")             # Emergency deceleration
#Homing
epicsEnvSet("ECMC_HOME_PROC",             "3")
epicsEnvSet("ECMC_HOME_POS",              "0.0")
epicsEnvSet("ECMC_HOME_VEL_TO",           "5")
epicsEnvSet("ECMC_HOME_VEL_FRM",          "4")
epicsEnvSet("ECMC_HOME_ACC",              "21")
epicsEnvSet("ECMC_HOME_DEC",              "100")
epicsEnvSet("ECMC_HOME_POS_MOVE_ENA",     "0")                        # Enable move to position after successfull homing 
epicsEnvSet("ECMC_HOME_POS_MOVE_TARG_POS","0")                        # Target position to go to after successfull homing
#Monitoring
# Switches
epicsEnvSet("ECMC_EC_MON_LOWLIM",         "ec0.s1.ONE.0")           #  Ethercat entry for low limit switch input
epicsEnvSet("ECMC_EC_MON_HIGHLIM",        "ec0.s1.ONE.0")           #  Ethercat entry for high limit switch inpuit
epicsEnvSet("ECMC_EC_MON_HOME_SWITCH",    "ec0.s1.ONE.0")           #  Ethercat entry for home s2022/05/13 08:36:36.347 OK
2022/05/13 08:36:36.348 OK
2022/05/13 08:36:36.348 OK
2022/05/13 08:36:36.348 OK
2022/05/13 08:36:36.348 OK
2022/05/13 08:36:36.348 OK
2022/05/13 08:36:36.348 OK
2022/05/13 08:36:36.348 OK
2022/05/13 08:36:36.348 OK
2022/05/13 08:36:36.348 OK
2022/05/13 08:36:36.348 OK
witch input
epicsEnvSet("ECMC_EC_MON_EXT_INTERLOCK",  "ec0.s1.ONE.0")           #  Ethercat entry for external interlock input
# Softlimits (disable with 0,0)
epicsEnvSet("ECMC_SOFT_LOW_LIM",          "0")
epicsEnvSet("ECMC_SOFT_HIGH_LIM",         "0")
epicsEnvSet("ECMC_DXLM_ENABLE",           "1")
# Position lag
epicsEnvSet("ECMC_MON_LAG_MON_TOL",       "0.5")
epicsEnvSet("ECMC_MON_LAG_MON_TIME",      "100")
epicsEnvSet("ECMC_MON_LAG_MON_ENA",       "0")
# At target
epicsEnvSet("ECMC_MON_AT_TARGET_TOL",     "0.3")
epicsEnvSet("ECMC_MON_AT_TARGET_TIME",    "100")
epicsEnvSet("ECMC_MON_AT_TARGET_ENA",     "1")
# Velocity
epicsEnvSet("ECMC_MON_VELO_MAX",          "200.0")
epicsEnvSet("ECMC_MON_VELO_MAX_TRAJ_TIME","100")
epicsEnvSet("ECMC_MON_VELO_MAX_DRV_TIME", "200")
epicsEnvSet("ECMC_MON_VELO_MAX_ENA",      "1")
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addVirtualAxis.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addVirtualAxis.cmd
#==============================================================================
# addVirtualAxis.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD, "'FULL'='DAQ'","ecmcExit Error: ECMC started in DAQ mode. Motion not supported..","#-")
epicsEnvUnset(ECMC_EXE_CMD)
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis-records.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis-records.cmd
#==============================================================================
# ecmc_virt_axis-records.cmd
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis.cmd",1)
iocshLoad( /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis.cmd )
#==============================================================================
# ecmc_virt_axis.cmd
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/verifyOrDie.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/verifyOrDie.cmd "EXPR_STR='abs(1)<>0',SUCCESS_STR='ECMC_ENC_SCALE_NUM value OK == 1...',ERROR_STR='ECMC_ENC_SCALE_NUM == 0...'"
#==============================================================================
# verifyOrDie.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD,"abs(1)<>0","# ECMC_ENC_SCALE_NUM value OK == 1...", "ecmcExit Error: ECMC_ENC_SCALE_NUM == 0...")
# ECMC_ENC_SCALE_NUM value OK == 1...
epicsEnvUnset(ECMC_EXE_CMD)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/verifyOrDie.cmd "EXPR_STR='abs(1)<>0',SUCCESS_STR='ECMC_ENC_SCALE_DENOM value OK == 1...',ERROR_STR='ECMC_ENC_SCALE_DENOM == 0...'"
#==============================================================================
# verifyOrDie.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD,"abs(1)<>0","# ECMC_ENC_SCALE_DENOM value OK == 1...", "ecmcExit Error: ECMC_ENC_SCALE_DENOM == 0...")
# ECMC_ENC_SCALE_DENOM value OK == 1...
epicsEnvUnset(ECMC_EXE_CMD)
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/issueWarning.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/issueWarning.cmd "EXPR_STR='-1>0',WARNING_STR='WARNING: ECMC_MRES setting is deprecated and will not be used. (MRES will be calulated instead: ECMC_ENC_SCALE_NUM/ECMC_ENC_SCALE_DENOM).. '"
#==============================================================================
# issueWarning.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD,"-1>0","", "#-")
epicsEnvUnset(ECMC_EXE_CMD)
ecmcConfigOrDie "Cfg.CreateAxis(17,2)"
ecmcConfigOrDie "Cfg.SetAxisTrajStartPos(17,0)"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax17.health")"
ecmcConfigOrDie "Cfg.SetAxisModRange(17, 0)"
ecmcConfigOrDie "Cfg.SetAxisModType(17, 0)"
ecmcConfigOrDie "Cfg.SetAxisEmergDeceleration(17,0.1)"
ecmcConfigOrDie "Cfg.SetAxisVelAccDecTime(17,5.0,0.1)"
ecmcConfigOrDie "Cfg.SetAxisHomeVelTwordsCam(17,5)"
ecmcConfigOrDie "Cfg.SetAxisHomeVelOffCam(17,4)"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ZERO,"ax17.enc.actpos")"
ecmcConfigOrDie "Cfg.SetAxisEncScaleDenom(17,1)"
ecmcConfigOrDie "Cfg.SetAxisEncScaleNum(17,12022/05/13 08:36:36.348 OK
2022/05/13 08:36:36.348 OK
2022/05/13 08:36:36.348 OK
2022/05/13 08:36:36.348 OK
2022/05/13 08:36:36.348 OK
2022/05/13 08:36:36.349 OK
2022/05/13 08:36:36.349 OK
2022/05/13 08:36:36.349 OK
2022/05/13 08:36:36.349 OK
2022/05/13 08:36:36.349 OK
2022/05/13 08:36:36.349 OK
2022/05/13 08:36:36.349 OK
2022/05/13 08:36:36.349 OK
2022/05/13 08:36:36.349 OK
2022/05/13 08:36:36.349 OK
2022/05/13 08:36:36.349 OK
2022/05/13 08:36:36.349 OK
2022/05/13 08:36:36.349 OK
2022/05/13 08:36:36.349 OK
2022/05/13 08:36:36.350 OK
2022/05/13 08:36:36.350 OK
2022/05/13 08:36:36.350 OK
2022/05/13 08:36:36.350 OK
2022/05/13 08:36:36.350 OK
2022/05/13 08:36:36.350 OK
2022/05/13 08:36:36.350 OK
2022/05/13 08:36:36.350 OK
2022/05/13 08:36:36.350 OK
2022/05/13 08:36:36.350 OK
2022/05/13 08:36:36.350 OK
2022/05/13 08:36:36.350 OK
2022/05/13 08:36:36.351 OK
2022/05/13 08:36:36.351 OK
2022/05/13 08:36:36.351 OK
2022/05/13 08:36:36.351 OK
2022/05/13 08:36:36.351 OK
2022/05/13 08:36:36.351 OK
2022/05/13 08:36:36.351 OK
2022/05/13 08:36:36.351 OK
2022/05/13 08:36:36.351 ecmcMotorRecord:: setIntegerParam(17 motorPowerAutoOnOff_)=2
2022/05/13 08:36:36.351 ecmcMotorRecord:: setDoubleParam(17 motorPowerOnDelay_)=6
2022/05/13 08:36:36.351 ecmcMotorRecord:: setDoubleParam(17 motorPowerOffDelay_=-1
2022/05/13 08:36:36.351 ecmcMotorRecord:: connected(17)
2022/05/13 08:36:36.351 ecmcMotorRecord:: initialPoll(17) status=0
)"
ecmcConfigOrDie "Cfg.SetAxisEncType(17,1)"
ecmcConfigOrDie "Cfg.SetAxisEncBits(17,0)"
ecmcConfigOrDie "Cfg.SetAxisEncAbsBits(17,0)"
ecmcConfigOrDie "Cfg.SetAxisEncOffset(17,0)"
ecmcConfigOrDie "Cfg.SetAxisEncVelFilterSize(17,100)"
ecmcConfigOrDie "Cfg.SetAxisEncPosFilterSize(17,1)"
ecmcConfigOrDie "Cfg.SetAxisEncPosFilterEnable(17,0)"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax17.enc.reset")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax17.enc.alarm0")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax17.enc.alarm1")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax17.enc.alarm2")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax17.enc.warning")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax17.enc.latchpos")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax17.enc.latchcontrol")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax17.enc.latchstatus")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax17.mon.lowlim")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax17.mon.highlim")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax17.mon.homesensor")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax17.mon.extinterlock")"
ecmcConfigOrDie "Cfg.SetAxisMonAtTargetTol(17,0.3)"
ecmcConfigOrDie "Cfg.SetAxisMonAtTargetTime(17,100)"
ecmcConfigOrDie "Cfg.SetAxisMonEnableAtTargetMon(17,1)"
ecmcConfigOrDie "Cfg.SetAxisMonPosLagTol(17,0.5)"
ecmcConfigOrDie "Cfg.SetAxisMonPosLagTime(17,100)"
ecmcConfigOrDie "Cfg.SetAxisMonEnableLagMon(17,0)"
ecmcConfigOrDie "Cfg.SetAxisMonMaxVel(17,200.0)"
ecmcConfigOrDie "Cfg.SetAxisMonEnableMaxVel(17,1)"
ecmcConfigOrDie "Cfg.SetAxisMonMaxVelDriveILDelay(17,200)"
ecmcConfigOrDie "Cfg.SetAxisMonMaxVelTrajILDelay(17,100)"
ecmcConfigOrDie "Cfg.SetAxisSoftLimitPosBwd(17,0)"
ecmcConfigOrDie "Cfg.SetAxisEnableSoftLimitBwd(17,1)"
ecmcConfigOrDie "Cfg.SetAxisSoftLimitPosFwd(17,0)"
ecmcConfigOrDie "Cfg.SetAxisEnableSoftLimitFwd(17,1)"
ecmcConfigOrDie "Cfg.SetAxisMonHomeSwitchPolarity(17,0)"
ecmcConfigOrDie "Cfg.SetAxisHomeLatchCountOffset(17,0)"
ecmcConfigOrDie "Main.M17.fHomePosition=0.0"
ecmcConfigOrDie "Cfg.SetAxisHomePostMoveEnable(17, 0)"
ecmcConfigOrDie "Cfg.SetAxisHomePostMoveTargetPosition(17, 0)"
ecmcMotorRecordCreateAxis(MCU1, "17", "6", "")
ecmcEpicsEnvSetCalc("ECMC_TEMP_SREV","if(abs(1)>0){RESULT:=abs(1);} else {RESULT:=1.0};","%d")
ecmcEpicsEnvSetCalc("ECMC_TEMP_UREV","if(abs(1)>0){RESULT:=abs(1);} else {RESULT:=1.0};","%lf")
ecmcFileExist(ecmcMotorRecord.template,1,1)
dbLoadRecords(ecmcMotorRecord.template, "PREFIX=IOC_TEST:, MOTOR_NAME=Axis17, MOTOR_PORT=MCU1, AXIS_NO=17, DESC=MCU1025 Center Position (17), EGU=mm, PREC=3, VELO=5.0, JVEL=5, JAR=0.0, ACCL=0.1, RDBD=0.3, DLLM=0, DHLM=0, HOMEPROC=3,SREV=1,UREV=1.000000, ")
epicsEnvSet("ECMC_AXISFIELDINIT",  "")
ecmcFileExist(ecmcMotorRecord"home.template",1,1)
dbLoadRecords(ecmcMotorRecord"home.template", "PREFIX=IOC_TEST:, MOTOR_NAME=Axis17, MOTOR_PORT=MCU1, AXIS_NO=17,HOMEPROC=3, HOMEPOS=0.0, HVELTO=5, HVELFRM=4, HOMEACC=21, HOMEDEC=100")
epicsEnvUnset(ECMC_TEMP_SREV)
epicsEnvUnset(ECMC_TEMP_UREV)
ecmcFileExist("ecmcAxis.db",1,1)
dbLoadRecords("ecmcAxis.db","P=IOC_TEST:,AXIS_NAME=Axis17,AXIS_NO=17,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,T_SMP_MS=10,TSE=-2")
ecmcFileExist("ecmcAxisType.db",1,1)
dbLoadRecords("ecmcAxisType.db","P=IOC_TEST:,AXIS_NAME=Axis17,AXIS_TYPE=2")
ecmcFileExist(/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis_unset.cmd,1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis_unset.cmd
#==============================================================================
# ecmc_virt_axis_unset.cmd
epicsEnvUnset(ECMC_AXISCONFIG)
epicsEnvUnset(ECMC_AXISFIELDINIT)
epicsEnvUnset(ECMC_PREC)
epicsEnvUnset(ECMC_EGU)
epicsEnvUnset(ECMC_DESC)
epicsEnvUnset(ECMC_R)
epicsEnvUnset(ECMC_MOTOR_NAME)
epicsEnvUnset(ECMC_EC_AXIS_HEALTH)
epicsEnvUnset(ECMC_MOD_RANGE)
epicsEnvUnset(ECMC_MOD_TYPE)
epicsEnvUnset(ECMC_EMERG_DECEL)
epicsEnvUnset(ECMC_ACCL)
epicsEnvUnset(ECMC_HOME_VEL_TO)
epicsEnvUnset(ECMC_HOME_VEL_FRM)
epicsEnvUnset(ECMC_EC_ENC_ACTPOS)
epicsEnvUnset(ECMC_ENC_SCALE_DENOM)
epicsEnvUnset(ECMC_ENC_SCALE_NUM)
epicsEnvUnset(ECMC_ENC_TYPE)
epicsEnvUnset(ECMC_ENC_BITS)
epicsEnvUnset(ECMC_ENC_ABS_BITS)
epicsEnvUnset(ECMC_ENC_ABS_OFFSET)
epicsEnvUnset(ECMC_ENC_VEL_FILTER_SIZE)
epicsEnvUnset(ECMC_ENC_POS_FILTER_SIZE)
epicsEnvUnset(ECMC_ENC_POS_FILTER_ENABLE)
epicsEnvUnset(ECMC_EC_ENC_RESET)
epicsEnvUnset(ECMC_EC_ENC_ALARM_0)
epicsEnvUnset(ECMC_EC_ENC_ALARM_1)
epicsEnvUnset(ECMC_EC_ENC_ALARM_2)
epicsEnvUnset(ECMC_EC_ENC_WARNING)
epicsEnvUnset(ECMC_EC_MON_LOWLIM)
epicsEnvUnset(ECMC_EC_MON_HIGHLIM)
epicsEnvUnset(ECMC_EC_MON_HOME_SWITCH)
epicsEnvUnset(ECMC_EC_MON_EXT_INTERLOCK)
epicsEnvUnset(ECMC_MON_AT_TARGET_TOL)
epicsEnvUnset(ECMC_MON_AT_TARGET_TIME)
epicsEnvUnset(ECMC_MON_AT_TARGET_ENA)
epicsEnvUnset(ECMC_MON_LAG_MON_TOL)
epicsEnvUnset(ECMC_MON_LAG_MON_TIME)
epicsEnvUnset(ECMC_MON_LAG_MON_ENA)
epicsEnvUnset(ECMC_MON_VELO_MAX)
epicsEnvUnset(ECMC_MON_VELO_MAX_ENA)
epicsEnvUnset(ECMC_MON_VELO_MAX_DRV_TIME)
epicsEnvUnset(ECMC_MON_VELO_MAX_TRAJ_TIME)
epicsEnvUnset(ECMC_MRES)
epicsEnvUnset(ECMC_JOG_VEL)
epicsEnvUnset(ECMC_JAR)
epicsEnvUnset(ECMC_HOME_PROC)
epicsEnvUnset(ECMC_HOME_POS)
epicsEnvUnset(ECMC_HOME_ACC)
epicsEnvUnset(ECMC_HOME_DEC)
epicsEnvUnset(ECMC_DRV_TYPE)
epicsEnvUnset(ECMC_VELO)
epicsEnvUnset(ECMC_SOFT_LOW_LIM)
epicsEnvUnset(ECMC_SOFT_HIGH_LIM)
epicsEnvUnset(ECMC_HOME_POS_MOVE_ENA)
epicsEnvUnset(ECMC_HOME_POS_MOVE_TARG_POS)
# reset PREFIX
epicsEnvSet("ECMC_PREFIX"      "IOC_TEST:")
epicsEnvSet("ID",       "18")
iocshLoad (/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/configureVirtualAxis.cmd, CONFIG=./cfg/linear.vax, ID=18)
#==============================================================================
# configureVirtualAxis.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD, "'FULL'='DAQ'","ecmcExit Error: ECMC started in DAQ mode. Motion not supported..","#-")
epicsEnvUnset(ECMC_EXE_CMD)
epicsEnvSet("ECMC_PREFIX"      "IOC_TEST:")
iocshLoad ./cfg/linear.vax
#General
epicsEnvSet("ECMC_MOTOR_NAME",            "Axis18")
epicsEnvSet("ECMC_R",                     "Axis18-")
epicsEnvSet("ECMC_AXIS_NO",               "18")
epicsEnvSet("ECMC_DESC",                  "MCU1025 Center Position (18)")
epicsEnvSet("ECMC_EGU",                   "mm")                       # Motor Record Unit
epicsEnvSet("ECMC_PREC",                  "3")                        # Motor Record Precision
epicsEnvSet("ECMC_AXISCONFIG",            "")                         # Extra parameters to driver
epicsEnvSet("ECMC_EC_AXIS_HEALTH",        "")                         # Entry for axis health output (example: ec0.s1.binaryOutput01.0)
epicsEnvSet("ECMC_MOD_RANGE" ,            "0")                        # Modulo range (traj setpoints and encoder values will be in range 0..ECMC_MOD_RANGE)
epicsEnvSet("ECMC_MOD_TYPE",              "0")                        # For positioning and MOD_RANGE>0: 0 = Normal, 1 = Always Fwd, 2 = Always Bwd, 3 = Closest Distance
#Encoder
epicsEnvSet("ECMC_ENC_SCALE_NUM"          "1")
epicsEnvSet("ECMC_ENC_SCALE_DENOM"        "1")
epicsEnvSet("ECMC_ENC_TYPE"               "1")                        # Type: 0=Incremental, 1=Absolute
epicsEnvSet("ECMC_ENC_BITS"               "0")                        # Total bit count of encoder raw data
epicsEnvSet("ECMC_ENC_ABS_BITS",          "0")                        # Absolute bit count (for absolute encoders) always least significant part of ECMC_ENC_BITS
epicsEnvSet("ECMC_ENC_ABS_OFFSET"         "0")                        # Encoder offset in eng units (for absolute encoders)
epicsEnvSet("ECMC_EC_ENC_ACTPOS",         "ec0.s1.ZERO")              # Ethercat entry for actual position input (encoder)
epicsEnvSet("ECMC_EC_ENC_RESET",          "")                         # Reset   (if no encoder reset bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_ALARM_0",        "")                         # Error 0 (if no encoder error bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_ALARM_1",        "")                         # Error 1 (if no encoder error bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_ALARM_2",        "")                         # Error 2 (if no encoder error bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_WARNING",        "")                         # Warning (if no encoder warning bit then leave empty)
#Trajectory
epicsEnvSet("ECMC_VELO",                  "5.0")
epicsEnvSet("ECMC_JOG_VEL",               "5")
epicsEnvSet("ECMC_JAR",                   "0.0")                      # JAR defaults to VELO/ACCL
epicsEnvSet("ECMC_ACCL",                  "0.1")
epicsEnvSet("ECMC_EMERG_DECEL",           "0.1")             # Emergency deceleration
#Homing
epicsEnvSet("ECMC_HOME_PROC",             "3")
epicsEnvSet("ECMC_HOME_POS",              "0.0")
epicsEnvSet("ECMC_HOME_VEL_TO",           "5")
epicsEnvSet("ECMC_HOME_VEL_FRM",          "4")
epicsEnvSet("ECMC_HOME_ACC",              "21")
epicsEnvSet("ECMC_HOME_DEC",              "100")
epicsEnvSet("ECMC_HOME_POS_MOVE_ENA",     "0")                        # Enable move to position after successfull homing 
epicsEnvSet("ECMC_HOME_POS_MOVE_TARG_POS","0")                        # Target position to go to after successfull homing
#Monitoring
# Switches
epicsEnvSet("ECMC_EC_MON_LOWLIM",         "ec0.s1.ONE.0")           #  Ethercat entry for low limit switch input
epicsEnvSet("ECMC_EC_MON_HIGHLIM",        "ec0.s1.ONE.0")           #  Ethercat entry for high limit switch inpuit
epicsEnvSet("ECMC_EC_MON_HOME_SWITCH",    "ec0.s1.ONE.0")           #  Ethercat entry for home switch input
epicsEnvSet("ECMC_EC_MON_EXT_INTERLOCK",  "ec0.s1.ONE.0")           #  Ethercat entry for external interlock input
# Softlimits (disable with 0,0)
epicsEnvSet("ECMC_SOFT_LOW_LIM",          "0")
epicsEnvSet("ECMC_SOFT_HIGH_LIM",         "0")
epicsEnvSet("ECMC_DXLM_ENABLE",           "1")
# Position lag
epicsEnvSet("ECMC_MON_LAG_MON_TOL",       "0.5")
epicsEnvSet("ECMC_MON_LAG_MON_TIME",      "100")
epicsEnvSet("ECMC_MON_LAG_MON_ENA",       "0")
# At target
epicsEnvSet("ECMC_MON_AT_TARGET_TOL",     "0.3")
epicsEnvSet("ECMC_MON_AT_TARGET_TIME",    "100")
epicsEnvSet("ECMC_MON_AT_TARGET_ENA",     "1")
# Velocity
epicsEnvSet("ECMC_MON_VELO_MAX",          "200.0")
epicsEnvSet("ECMC_MON_VELO_MAX_TRAJ_TIME","100")
epicsEnvSet("ECMC_MON_VELO_MAX_DRV_TIME", "200")
epicsEnvSet("ECMC_MON_VELO_MAX_ENA",      "1")
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addVirtualAxis.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addVirtualAxis.cmd
#==============================================================================
# addVirtualAxis.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD, "'FULL'='DAQ'","ecmcExit Error: ECMC started in DAQ mode. Motion not supported..","#-")
epicsEnvUnset(ECMC_EXE_CMD)
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis-records.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis-records.cmd
#==============================================================================
# ecmc_virt_axis-records.cmd
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis.cmd",1)
iocshLoad( /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis.cmd )
#==============================================================================
# ecmc_virt_axis.cmd
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/verifyOrDie.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/verifyOrDie.cmd "EXPR_STR='abs(1)<>0',SUCCESS_STR='ECMC_ENC_SCALE_NUM value OK == 1...',ERROR_STR='ECMC_ENC_SCALE_NUM == 0...'"
#==============================================================================
# verifyOrDie.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD,"abs(1)<>0","# ECMC_ENC_SCALE_NUM value OK == 1...", "ecmcExit Error: ECMC_ENC_SCALE_NUM == 0...")
# ECMC_ENC_SCALE_NUM value OK == 1...
epicsEnvUnset(ECMC_EXE_CMD)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/verifyOrDie.cmd "EXPR_STR='abs(1)<>0',SUCCESS_STR='ECMC_ENC_SCALE_DENOM value OK == 1...',ERROR_STR='ECMC_ENC_SCALE_DENOM == 0...'"
#==============================================================================
2022/05/13 08:36:36.359 OK
2022/05/13 08:36:36.359 OK
2022/05/13 08:36:36.359 OK
2022/05/13 08:36:36.359 OK
2022/05/13 08:36:36.360 OK
2022/05/13 08:36:36.360 OK
2022/05/13 08:36:36.360 OK
2022/05/13 08:36:36.360 OK
2022/05/13 08:36:36.360 OK
2022/05/13 08:36:36.360 OK
2022/05/13 08:36:36.360 OK
2022/05/13 08:36:36.360 OK
2022/05/13 08:36:36.360 OK
2022/05/13 08:36:36.360 OK
2022/05/13 08:36:36.360 OK
2022/05/13 08:36:36.360 OK
2022/05/13 08:36:36.360 OK
2022/05/13 08:36:36.361 OK
2022/05/13 08:36:36.361 OK
2022/05/13 08:36:36.361 OK
2022/05/13 08:36:36.361 OK
2022/05/13 08:36:36.361 OK
2022/05/13 08:36:36.361 OK
2022/05/13 08:36:36.361 OK
2022/05/13 08:36:36.361 OK
2022/05/13 08:36:36.361 OK
2022/05/13 08:36:36.361 OK
2022/05/13 08:36:36.361 OK
2022/05/13 08:36:36.361 OK
2022/05/13 08:36:36.361 OK
2022/05/13 08:36:36.361 OK
2022/05/13 08:36:36.361 OK
2022/05/13 08:36:36.361 OK
2022/05/13 08:36:36.362 OK
2022/05/13 08:36:36.362 OK
2022/05/13 08:36:36.362 OK
2022/05/13 08:36:36.362 OK
2022/05/13 08:36:36.362 OK
2022/05/13 08:36:36.362 OK
2022/05/13 08:36:36.362 OK
2022/05/13 08:36:36.362 OK
2022/05/13 08:36:36.362 OK
2022/05/13 08:36:36.362 OK
2022/05/13 08:36:36.362 OK
2022/05/13 08:36:36.362 OK
2022/05/13 08:36:36.362 OK
2022/05/13 08:36:36.363 OK
2022/05/13 08:36:36.363 OK
2022/05/13 08:36:36.363 OK
2022/05/13 08:36:36.363 OK
2022/05/13 08:36:36.363 ecmcMotorRecord:: setIntegerParam(18 motorPowerAutoOnOff_)=2
2022/05/13 08:36:36.363 ecmcMotorRecord:: setDoubleParam(18 motorPowerOnDelay_)=6
2022/05/13 08:36:36.363 ecmcMotorRecord:: setDoubleParam(18 motorPowerOffDelay_=-1
2022/05/13 08:36:36.363 ecmcMotorRecord:: connected(18)
2022/05/13 08:36:36.363 ecmcMotorRecord:: initialPoll(18) status=0
# verifyOrDie.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD,"abs(1)<>0","# ECMC_ENC_SCALE_DENOM value OK == 1...", "ecmcExit Error: ECMC_ENC_SCALE_DENOM == 0...")
# ECMC_ENC_SCALE_DENOM value OK == 1...
epicsEnvUnset(ECMC_EXE_CMD)
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/issueWarning.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/issueWarning.cmd "EXPR_STR='-1>0',WARNING_STR='WARNING: ECMC_MRES setting is deprecated and will not be used. (MRES will be calulated instead: ECMC_ENC_SCALE_NUM/ECMC_ENC_SCALE_DENOM).. '"
#==============================================================================
# issueWarning.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD,"-1>0","", "#-")
epicsEnvUnset(ECMC_EXE_CMD)
ecmcConfigOrDie "Cfg.CreateAxis(18,2)"
ecmcConfigOrDie "Cfg.SetAxisTrajStartPos(18,0)"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax18.health")"
ecmcConfigOrDie "Cfg.SetAxisModRange(18, 0)"
ecmcConfigOrDie "Cfg.SetAxisModType(18, 0)"
ecmcConfigOrDie "Cfg.SetAxisEmergDeceleration(18,0.1)"
ecmcConfigOrDie "Cfg.SetAxisVelAccDecTime(18,5.0,0.1)"
ecmcConfigOrDie "Cfg.SetAxisHomeVelTwordsCam(18,5)"
ecmcConfigOrDie "Cfg.SetAxisHomeVelOffCam(18,4)"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ZERO,"ax18.enc.actpos")"
ecmcConfigOrDie "Cfg.SetAxisEncScaleDenom(18,1)"
ecmcConfigOrDie "Cfg.SetAxisEncScaleNum(18,1)"
ecmcConfigOrDie "Cfg.SetAxisEncType(18,1)"
ecmcConfigOrDie "Cfg.SetAxisEncBits(18,0)"
ecmcConfigOrDie "Cfg.SetAxisEncAbsBits(18,0)"
ecmcConfigOrDie "Cfg.SetAxisEncOffset(18,0)"
ecmcConfigOrDie "Cfg.SetAxisEncVelFilterSize(18,100)"
ecmcConfigOrDie "Cfg.SetAxisEncPosFilterSize(18,1)"
ecmcConfigOrDie "Cfg.SetAxisEncPosFilterEnable(18,0)"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax18.enc.reset")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax18.enc.alarm0")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax18.enc.alarm1")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax18.enc.alarm2")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax18.enc.warning")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax18.enc.latchpos")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax18.enc.latchcontrol")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax18.enc.latchstatus")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax18.mon.lowlim")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax18.mon.highlim")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax18.mon.homesensor")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax18.mon.extinterlock")"
ecmcConfigOrDie "Cfg.SetAxisMonAtTargetTol(18,0.3)"
ecmcConfigOrDie "Cfg.SetAxisMonAtTargetTime(18,100)"
ecmcConfigOrDie "Cfg.SetAxisMonEnableAtTargetMon(18,1)"
ecmcConfigOrDie "Cfg.SetAxisMonPosLagTol(18,0.5)"
ecmcConfigOrDie "Cfg.SetAxisMonPosLagTime(18,100)"
ecmcConfigOrDie "Cfg.SetAxisMonEnableLagMon(18,0)"
ecmcConfigOrDie "Cfg.SetAxisMonMaxVel(18,200.0)"
ecmcConfigOrDie "Cfg.SetAxisMonEnableMaxVel(18,1)"
ecmcConfigOrDie "Cfg.SetAxisMonMaxVelDriveILDelay(18,200)"
ecmcConfigOrDie "Cfg.SetAxisMonMaxVelTrajILDelay(18,100)"
ecmcConfigOrDie "Cfg.SetAxisSoftLimitPosBwd(18,0)"
ecmcConfigOrDie "Cfg.SetAxisEnableSoftLimitBwd(18,1)"
ecmcConfigOrDie "Cfg.SetAxisSoftLimitPosFwd(18,0)"
ecmcConfigOrDie "Cfg.SetAxisEnableSoftLimitFwd(18,1)"
ecmcConfigOrDie "Cfg.SetAxisMonHomeSwitchPolarity(18,0)"
ecmcConfigOrDie "Cfg.SetAxisHomeLatchCountOffset(18,0)"
ecmcConfigOrDie "Main.M18.fHomePosition=0.0"
ecmcConfigOrDie "Cfg.SetAxisHomePostMoveEnable(18, 0)"
ecmcConfigOrDie "Cfg.SetAxisHomePostMoveTargetPosition(18, 0)"
ecmcMotorRecordCreateAxis(MCU1, "18", "6", "")
ecmcEpicsEnvSetCalc("ECMC_TEMP_SREV","if(abs(1)>0){RESULT:=abs(1);} else {RESULT:=1.0};","%d")
ecmcEpicsEnvSetCalc("ECMC_TEMP_UREV","if(abs(1)>0){RESULT:=abs(1);} else {RESULT:=1.0};","%lf")
ecmcFileExist(ecmcMotorRecord.template,1,1)
dbLoadRecords(ecmcMotorRecord.template, "PREFIX=IOC_TEST:, MOTOR_NAME=Axis18, MOTOR_PORT=MCU1, AXIS_NO=18, DESC=MCU1025 Center Position (18), EGU=mm, PREC=3, VELO=5.0, JVEL=5, JAR=0.0, ACCL=0.1, RDBD=0.3, DLLM=0, DHLM=0, HOMEPROC=3,SREV=1,UREV=1.000000, ")
epicsEnvSet("ECMC_AXISFIELDINIT",  "")
ecmcFileExist(ecmcMotorRecord"home.template",1,1)
dbLoadRecords(ecmcMotorRecord"home.template", "PREFIX=IOC_TEST:, MOTOR_NAME=Axis18, MOTOR_PORT=MCU1, AXIS_NO=18,HOMEPROC=3, HOMEPOS=0.0, HVELTO=5, HVELFRM=4, HOMEACC=21, HOMEDEC=100")
epicsEnvUnset(ECMC_TEMP_SREV)
epicsEnvUnset(ECMC_TEMP_UREV)
ecmcFileExist("ecmcAxis.db",1,1)
dbLoadRecords("ecmcAxis.db","P=IOC_TEST:,AXIS_NAME=Axis18,AXIS_NO=18,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,T_SMP_MS=10,TSE=-2")
ecmcFileExist("ecmcAxisType.db",1,1)
dbLoadRecords("ecmcAxisType.db","P=IOC_TEST:,AXIS_NAME=Axis18,AXIS_TYPE=2")
ecmcFileExist(/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis_unset.cmd,1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis_unset.cmd
#==============================================================================
# ecmc_virt_axis_unset.cmd
epicsEnvUnset(ECMC_AXISCONFIG)
epicsEnvUnset(ECMC_AXISFIELDINIT)
epicsEnvUnset(ECMC_PREC)
epicsEnvUnset(ECMC_EGU)
epicsEnvUnset(ECMC_DESC)
epicsEnvUnset(ECMC_R)
epicsEnvUnset(ECMC_MOTOR_NAME)
epicsEnvUnset(ECMC_EC_AXIS_HEALTH)
epicsEnvUnset(ECMC_MOD_RANGE)
epicsEnvUnset(ECMC_MOD_TYPE)
epicsEnvUnset(ECMC_EMERG_DECEL)
epicsEnvUnset(ECMC_ACCL)
epicsEnvUnset(ECMC_HOME_VEL_TO)
epicsEnvUnset(ECMC_HOME_VEL_FRM)
epicsEnvUnset(ECMC_EC_ENC_ACTPOS)
epicsEnvUnset(ECMC_ENC_SCALE_DENOM)
epicsEnvUnset(ECMC_ENC_SCALE_NUM)
epicsEnvUnset(ECMC_ENC_TYPE)
epicsEnvUnset(ECMC_ENC_BITS)
epicsEnvUnset(ECMC_ENC_ABS_BITS)
epicsEnvUnset(ECMC_ENC_ABS_OFFSET)
epicsEnvUnset(ECMC_ENC_VEL_FILTER_SIZE)
epicsEnvUnset(ECMC_ENC_POS_FILTER_SIZE)
epicsEnvUnset(ECMC_ENC_POS_FILTER_ENABLE)
epicsEnvUnset(ECMC_EC_ENC_RESET)
epicsEnvUnset(ECMC_EC_ENC_ALARM_0)
epicsEnvUnset(ECMC_EC_ENC_ALARM_1)
epicsEnvUnset(ECMC_EC_ENC_ALARM_2)
epicsEnvUnset(ECMC_EC_ENC_WARNING)
epicsEnvUnset(ECMC_EC_MON_LOWLIM)
epicsEnvUnset(ECMC_EC_MON_HIGHLIM)
epicsEnvUnset(ECMC_EC_MON_HOME_SWITCH)
epicsEnvUnset(ECMC_EC_MON_EXT_INTERLOCK)
epicsEnvUnset(ECMC_MON_AT_TARGET_TOL)
epicsEnvUnset(ECMC_MON_AT_TARGET_TIME)
epicsEnvUnset(ECMC_MON_AT_TARGET_ENA)
epicsEnvUnset(ECMC_MON_LAG_MON_TOL)
epicsEnvUnset(ECMC_MON_LAG_MON_TIME)
epicsEnvUnset(ECMC_MON_LAG_MON_ENA)
epicsEnvUnset(ECMC_MON_VELO_MAX)
epicsEnvUnset(ECMC_MON_VELO_MAX_ENA)
epicsEnvUnset(ECMC_MON_VELO_MAX_DRV_TIME)
epicsEnvUnset(ECMC_MON_VELO_MAX_TRAJ_TIME)
epicsEnvUnset(ECMC_MRES)
epicsEnvUnset(ECMC_JOG_VEL)
epicsEnvUnset(ECMC_JAR)
epicsEnvUnset(ECMC_HOME_PROC)
epicsEnvUnset(ECMC_HOME_POS)
epicsEnvUnset(ECMC_HOME_ACC)
epicsEnvUnset(ECMC_HOME_DEC)
epicsEnvUnset(ECMC_DRV_TYPE)
epicsEnvUnset(ECMC_VELO)
epicsEnvUnset(ECMC_SOFT_LOW_LIM)
epicsEnvUnset(ECMC_SOFT_HIGH_LIM)
epicsEnvUnset(ECMC_HOME_POS_MOVE_ENA)
epicsEnvUnset(ECMC_HOME_POS_MOVE_TARG_POS)
# reset PREFIX
epicsEnvSet("ECMC_PREFIX"      "IOC_TEST:")
epicsEnvSet("ID",       "19")
iocshLoad (/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/configureVirtualAxis.cmd, CONFIG=./cfg/linear.vax, ID=19)
#==============================================================================
# configureVirtualAxis.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD, "'FULL'='DAQ'","ecmcExit Error: ECMC started in DAQ mode. Motion not supported..","#-")
epicsEnvUnset(ECMC_EXE_CMD)
epicsEnvSet("ECMC_PREFIX"      "IOC_TEST:")
iocshLoad ./cfg/linear.vax
#General
epicsEnvSet("ECMC_MOTOR_NAME",            "Axis19")
epicsEnvSet("ECMC_R",                     "Axis19-")
epicsEnvSet("ECMC_AXIS_NO",               "19")
epicsEnvSet("ECMC_DESC",                  "MCU1025 Center Position (19)")
epicsEnvSet("ECMC_EGU",                   "mm")                       # Motor Record Unit
epicsEnvSet("ECMC_PREC",                  "3")                        # Motor Record Precision
epicsEnvSet("ECMC_AXISCONFIG",            "")                         # Extra parameters to driver
epicsEnvSet("ECMC_EC_AXIS_HEALTH",        "")                         # Entry for axis health output (example: ec0.s1.binaryOutput01.0)
epicsEnvSet("ECMC_MOD_RANGE" ,            "0")                        # Modulo range (traj setpoints and encoder values will be in range 0..ECMC_MOD_RANGE)
epicsEnvSet("ECMC_MOD_TYPE",              "0")                        # For positioning and MOD_RANGE>0: 0 = Normal, 1 = Always Fwd, 2 = Always Bwd, 3 = Closest Distance
#Encoder
epicsEnvSet("ECMC_ENC_SCALE_NUM"          "1")
epicsEnvSet("ECMC_ENC_SCALE_DENOM"        "1")
epicsEnvSet("ECMC_ENC_TYPE"               "1")                        # Type: 0=Incremental, 1=Absolute
epicsEnvSet("ECMC_ENC_BITS"               "0")                        # Total bit count of encoder raw data
epicsEnvSet("ECMC_ENC_ABS_BITS",          "0")                        # Absolute bit count (for absolute encoders) always least significant part of ECMC_ENC_BITS
epicsEnvSet("ECMC_ENC_ABS_OFFSET"         "0")                        # Encoder offset in eng units (for absolute encoders)
epicsEnvSet("ECMC_EC_ENC_ACTPOS",         "ec0.s1.ZERO")              # Ethercat entry for actual position input (encoder)
epicsEnvSet("ECMC_EC_ENC_RESET",          "")                         # Reset   (if no encoder reset bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_ALARM_0",        "")                         # Error 0 (if no encoder error bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_ALARM_1",        "")                         # Error 1 (if no encoder error bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_ALARM_2",        "")                         # Error 2 (if no encoder error bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_WARNING",        "")                         # Warning (if no encoder warning bit then leave empty)
#Trajectory
epicsEnvSet("ECMC_VELO",                  "5.0")
epicsEnvSet("ECMC_JOG_VEL",               "5")
epicsEnvSet("ECMC_JAR",                   "0.0")                      # JAR defaults to VELO/ACCL
epicsEnvSet("ECMC_ACCL",                  "0.1")
epicsEnvSet("ECMC_EMERG_DECEL",           "0.1")             # Emergency deceleration
#Homing
epicsEnvSet("ECMC_HOME_PROC",             "3")
epicsEnvSet("ECMC_HOME_POS",              "0.0")
epicsEnvSet("ECMC_HOME_VEL_TO",           "5")
epicsEnvSet("ECMC_HOME_VEL_FRM",          "4")
epicsEnvSet("ECMC_HOME_ACC",              "21")
epicsEnvSet("ECMC_HOME_DEC",              "100")
epicsEnvSet("ECMC_HOME_POS_MOVE_ENA",     "0")                        # Enable move to position after successfull homing 
epicsEnvSet("ECMC_HOME_POS_MOVE_TARG_POS","0")                        # Target position to go to after successfull homing
#Monitoring
# Switches
epicsEnvSet("ECMC_EC_MON_LOWLIM",         "ec0.s1.ONE.0")           #  Ethercat entry for low limit switch input
epicsEnvSet("ECMC_EC_MON_HIGHLIM",        "ec0.s1.ONE.0")           #  Ethercat entry for high limit switch inpuit
epicsEnvSet("ECMC_EC_MON_HOME_SWITCH",    "ec0.s1.ONE.0")           #  Ethercat entry for home switch input
epicsEnvSet("ECMC_EC_MON_EXT_INTERLOCK",  "ec0.s1.ONE.0")           #  Ethercat entry for external interlock input
# Softlimits (disable with 0,0)
epicsEnvSet("ECMC_SOFT_LOW_LIM",          "0")
epicsEnvSet("ECMC_SOFT_HIGH_LIM",         "0")
epicsEnvSet("ECMC_DXLM_ENABLE",           "1")
# Position lag
epicsEnvSet("ECMC_MON_LAG_MON_TOL",       "0.5")
epicsEnvSet("ECMC_MON_LAG_MON_TIME",      "100")
epicsEnvSet("ECMC_MON_LAG_MON_ENA",       "0")
# At target
epicsEnvSet("ECMC_MON_AT_TARGET_TOL",     "0.3")
epicsEnvSet("ECMC_MON_AT_TARGET_TIME",    "100")
epicsEnvSet("ECMC_MON_AT_TARGET_ENA",     "1")
# Velocity
epicsEnvSet("ECMC_MON_VELO_MAX",          "200.0")
epicsEnvSet("ECMC_MON_VELO_MAX_TRAJ_TIME","100")
epicsEnvSet("ECMC_MON_VELO_MAX_DRV_TIME", "200")
epicsEnvSet("ECMC_MON_VELO_MAX_ENA",      "1")
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addVirtualAxis.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addVirtualAxis.cmd
#==============================================================================
# addVirtualAxis.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD, "'FULL'='DAQ'","ecmcExit Error: ECMC started in DAQ mode. Motion not supported..","#-")
epicsEnvUnset(ECMC_EXE_CMD)
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis-2022/05/13 08:36:36.371 OK
2022/05/13 08:36:36.371 OK
2022/05/13 08:36:36.371 OK
2022/05/13 08:36:36.371 OK
2022/05/13 08:36:36.371 OK
2022/05/13 08:36:36.371 OK
2022/05/13 08:36:36.372 OK
2022/05/13 08:36:36.372 OK
2022/05/13 08:36:36.372 OK
2022/05/13 08:36:36.372 OK
2022/05/13 08:36:36.372 OK
2022/05/13 08:36:36.372 OK
2022/05/13 08:36:36.372 OK
2022/05/13 08:36:36.372 OK
2022/05/13 08:36:36.372 OK
2022/05/13 08:36:36.372 OK
2022/05/13 08:36:36.372 OK
2022/05/13 08:36:36.372 OK
2022/05/13 08:36:36.372 OK
2022/05/13 08:36:36.372 OK
2022/05/13 08:36:36.373 OK
2022/05/13 08:36:36.373 OK
2022/05/13 08:36:36.373 OK
2022/05/13 08:36:36.373 OK
2022/05/13 08:36:36.373 OK
2022/05/13 08:36:36.373 OK
2022/05/13 08:36:36.373 OK
2022/05/13 08:36:36.373 OK
2022/05/13 08:36:36.373 OK
2022/05/13 08:36:36.373 OK
2022/05/13 08:36:36.373 OK
2022/05/13 08:36:36.373 OK
2022/05/13 08:36:36.373 OK
2022/05/13 08:36:36.373 OK
records.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis-records.cmd
#==============================================================================
# ecmc_virt_axis-records.cmd
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis.cmd",1)
iocshLoad( /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis.cmd )
#==============================================================================
# ecmc_virt_axis.cmd
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/verifyOrDie.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/verifyOrDie.cmd "EXPR_STR='abs(1)<>0',SUCCESS_STR='ECMC_ENC_SCALE_NUM value OK == 1...',ERROR_STR='ECMC_ENC_SCALE_NUM == 0...'"
#==============================================================================
# verifyOrDie.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD,"abs(1)<>0","# ECMC_ENC_SCALE_NUM value OK == 1...", "ecmcExit Error: ECMC_ENC_SCALE_NUM == 0...")
# ECMC_ENC_SCALE_NUM value OK == 1...
epicsEnvUnset(ECMC_EXE_CMD)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/verifyOrDie.cmd "EXPR_STR='abs(1)<>0',SUCCESS_STR='ECMC_ENC_SCALE_DENOM value OK == 1...',ERROR_STR='ECMC_ENC_SCALE_DENOM == 0...'"
#==============================================================================
# verifyOrDie.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD,"abs(1)<>0","# ECMC_ENC_SCALE_DENOM value OK == 1...", "ecmcExit Error: ECMC_ENC_SCALE_DENOM == 0...")
# ECMC_ENC_SCALE_DENOM value OK == 1...
epicsEnvUnset(ECMC_EXE_CMD)
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/issueWarning.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/issueWarning.cmd "EXPR_STR='-1>0',WARNING_STR='WARNING: ECMC_MRES setting is deprecated and will not be used. (MRES will be calulated instead: ECMC_ENC_SCALE_NUM/ECMC_ENC_SCALE_DENOM).. '"
#==============================================================================
# issueWarning.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD,"-1>0","", "#-")
epicsEnvUnset(ECMC_EXE_CMD)
ecmcConfigOrDie "Cfg.CreateAxis(19,2)"
ecmcConfigOrDie "Cfg.SetAxisTrajStartPos(19,0)"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax19.health")"
ecmcConfigOrDie "Cfg.SetAxisModRange(19, 0)"
ecmcConfigOrDie "Cfg.SetAxisModType(19, 0)"
ecmcConfigOrDie "Cfg.SetAxisEmergDeceleration(19,0.1)"
ecmcConfigOrDie "Cfg.SetAxisVelAccDecTime(19,5.0,0.1)"
ecmcConfigOrDie "Cfg.SetAxisHomeVelTwordsCam(19,5)"
ecmcConfigOrDie "Cfg.SetAxisHomeVelOffCam(19,4)"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ZERO,"ax19.enc.actpos")"
ecmcConfigOrDie "Cfg.SetAxisEncScaleDenom(19,1)"
ecmcConfigOrDie "Cfg.SetAxisEncScaleNum(19,1)"
ecmcConfigOrDie "Cfg.SetAxisEncType(19,1)"
ecmcConfigOrDie "Cfg.SetAxisEncBits(19,0)"
ecmcConfigOrDie "Cfg.SetAxisEncAbsBits(19,0)"
ecmcConfigOrDie "Cfg.SetAxisEncOffset(19,0)"
ecmcConfigOrDie "Cfg.SetAxisEncVelFilterSize(19,100)"
ecmcConfigOrDie "Cfg.SetAxisEncPosFilterSize(19,1)"
ecmcConfigOrDie "Cfg.SetAxisEncPosFilterEnable(19,0)"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax19.enc.reset")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax19.enc.alarm0")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax19.enc.alarm1")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax19.enc.alarm2")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax19.enc.warning")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax19.enc.latchpos")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax19.enc.latchcontrol")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax19.enc.latchstatus")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax19.mon.lowlim")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax19.mon.highlim")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax19.mon.homesensor")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax19.mon.extinterlock")"
ecmcConfigOrDie "Cfg.SetAxisMonAtTargetTol(19,0.3)"
ecmcConfigOrDie "Cfg.SetAxisMonAtTargetTime(19,100)"
ecmcConfigOrDie "Cfg.SetAxisMonEnableAtTargetMon(19,1)"
ecmcConfigOrDie "Cfg.SetAxisMonPo2022/05/13 08:36:36.373 OK
2022/05/13 08:36:36.373 OK
2022/05/13 08:36:36.373 OK
2022/05/13 08:36:36.373 OK
2022/05/13 08:36:36.373 OK
2022/05/13 08:36:36.373 OK
2022/05/13 08:36:36.373 OK
2022/05/13 08:36:36.373 OK
2022/05/13 08:36:36.373 OK
2022/05/13 08:36:36.373 OK
2022/05/13 08:36:36.373 OK
2022/05/13 08:36:36.373 OK
2022/05/13 08:36:36.373 OK
2022/05/13 08:36:36.373 OK
2022/05/13 08:36:36.373 OK
2022/05/13 08:36:36.373 OK
2022/05/13 08:36:36.373 ecmcMotorRecord:: setIntegerParam(19 motorPowerAutoOnOff_)=2
2022/05/13 08:36:36.373 ecmcMotorRecord:: setDoubleParam(19 motorPowerOnDelay_)=6
2022/05/13 08:36:36.373 ecmcMotorRecord:: setDoubleParam(19 motorPowerOffDelay_=-1
2022/05/13 08:36:36.374 ecmcMotorRecord:: connected(19)
2022/05/13 08:36:36.374 ecmcMotorRecord:: initialPoll(19) status=0
sLagTol(19,0.5)"
ecmcConfigOrDie "Cfg.SetAxisMonPosLagTime(19,100)"
ecmcConfigOrDie "Cfg.SetAxisMonEnableLagMon(19,0)"
ecmcConfigOrDie "Cfg.SetAxisMonMaxVel(19,200.0)"
ecmcConfigOrDie "Cfg.SetAxisMonEnableMaxVel(19,1)"
ecmcConfigOrDie "Cfg.SetAxisMonMaxVelDriveILDelay(19,200)"
ecmcConfigOrDie "Cfg.SetAxisMonMaxVelTrajILDelay(19,100)"
ecmcConfigOrDie "Cfg.SetAxisSoftLimitPosBwd(19,0)"
ecmcConfigOrDie "Cfg.SetAxisEnableSoftLimitBwd(19,1)"
ecmcConfigOrDie "Cfg.SetAxisSoftLimitPosFwd(19,0)"
ecmcConfigOrDie "Cfg.SetAxisEnableSoftLimitFwd(19,1)"
ecmcConfigOrDie "Cfg.SetAxisMonHomeSwitchPolarity(19,0)"
ecmcConfigOrDie "Cfg.SetAxisHomeLatchCountOffset(19,0)"
ecmcConfigOrDie "Main.M19.fHomePosition=0.0"
ecmcConfigOrDie "Cfg.SetAxisHomePostMoveEnable(19, 0)"
ecmcConfigOrDie "Cfg.SetAxisHomePostMoveTargetPosition(19, 0)"
ecmcMotorRecordCreateAxis(MCU1, "19", "6", "")
ecmcEpicsEnvSetCalc("ECMC_TEMP_SREV","if(abs(1)>0){RESULT:=abs(1);} else {RESULT:=1.0};","%d")
ecmcEpicsEnvSetCalc("ECMC_TEMP_UREV","if(abs(1)>0){RESULT:=abs(1);} else {RESULT:=1.0};","%lf")
ecmcFileExist(ecmcMotorRecord.template,1,1)
dbLoadRecords(ecmcMotorRecord.template, "PREFIX=IOC_TEST:, MOTOR_NAME=Axis19, MOTOR_PORT=MCU1, AXIS_NO=19, DESC=MCU1025 Center Position (19), EGU=mm, PREC=3, VELO=5.0, JVEL=5, JAR=0.0, ACCL=0.1, RDBD=0.3, DLLM=0, DHLM=0, HOMEPROC=3,SREV=1,UREV=1.000000, ")
epicsEnvSet("ECMC_AXISFIELDINIT",  "")
ecmcFileExist(ecmcMotorRecord"home.template",1,1)
dbLoadRecords(ecmcMotorRecord"home.template", "PREFIX=IOC_TEST:, MOTOR_NAME=Axis19, MOTOR_PORT=MCU1, AXIS_NO=19,HOMEPROC=3, HOMEPOS=0.0, HVELTO=5, HVELFRM=4, HOMEACC=21, HOMEDEC=100")
epicsEnvUnset(ECMC_TEMP_SREV)
epicsEnvUnset(ECMC_TEMP_UREV)
ecmcFileExist("ecmcAxis.db",1,1)
dbLoadRecords("ecmcAxis.db","P=IOC_TEST:,AXIS_NAME=Axis19,AXIS_NO=19,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,T_SMP_MS=10,TSE=-2")
ecmcFileExist("ecmcAxisType.db",1,1)
dbLoadRecords("ecmcAxisType.db","P=IOC_TEST:,AXIS_NAME=Axis19,AXIS_TYPE=2")
ecmcFileExist(/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis_unset.cmd,1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis_unset.cmd
#==============================================================================
# ecmc_virt_axis_unset.cmd
epicsEnvUnset(ECMC_AXISCONFIG)
epicsEnvUnset(ECMC_AXISFIELDINIT)
epicsEnvUnset(ECMC_PREC)
epicsEnvUnset(ECMC_EGU)
epicsEnvUnset(ECMC_DESC)
epicsEnvUnset(ECMC_R)
epicsEnvUnset(ECMC_MOTOR_NAME)
epicsEnvUnset(ECMC_EC_AXIS_HEALTH)
epicsEnvUnset(ECMC_MOD_RANGE)
epicsEnvUnset(ECMC_MOD_TYPE)
epicsEnvUnset(ECMC_EMERG_DECEL)
epicsEnvUnset(ECMC_ACCL)
epicsEnvUnset(ECMC_HOME_VEL_TO)
epicsEnvUnset(ECMC_HOME_VEL_FRM)
epicsEnvUnset(ECMC_EC_ENC_ACTPOS)
epicsEnvUnset(ECMC_ENC_SCALE_DENOM)
epicsEnvUnset(ECMC_ENC_SCALE_NUM)
epicsEnvUnset(ECMC_ENC_TYPE)
epicsEnvUnset(ECMC_ENC_BITS)
epicsEnvUnset(ECMC_ENC_ABS_BITS)
epicsEnvUnset(ECMC_ENC_ABS_OFFSET)
epicsEnvUnset(ECMC_ENC_VEL_FILTER_SIZE)
epicsEnvUnset(ECMC_ENC_POS_FILTER_SIZE)
epicsEnvUnset(ECMC_ENC_POS_FILTER_ENABLE)
epicsEnvUnset(ECMC_EC_ENC_RESET)
epicsEnvUnset(ECMC_EC_ENC_ALARM_0)
epicsEnvUnset(ECMC_EC_ENC_ALARM_1)
epicsEnvUnset(ECMC_EC_ENC_ALARM_2)
epicsEnvUnset(ECMC_EC_ENC_WARNING)
epicsEnvUnset(ECMC_EC_MON_LOWLIM)
epicsEnvUnset(ECMC_EC_MON_HIGHLIM)
epicsEnvUnset(ECMC_EC_MON_HOME_SWITCH)
epicsEnvUnset(ECMC_EC_MON_EXT_INTERLOCK)
epicsEnvUnset(ECMC_MON_AT_TARGET_TOL)
epicsEnvUnset(ECMC_MON_AT_TARGET_TIME)
epicsEnvUnset(ECMC_MON_AT_TARGET_ENA)
epicsEnvUnset(ECMC_MON_LAG_MON_TOL)
epicsEnvUnset(ECMC_MON_LAG_MON_TIME)
epicsEnvUnset(ECMC_MON_LAG_MON_ENA)
epicsEnvUnset(ECMC_MON_VELO_MAX)
epicsEnvUnset(ECMC_MON_VELO_MAX_ENA)
epicsEnvUnset(ECMC_MON_VELO_MAX_DRV_TIME)
epicsEnvUnset(ECMC_MON_VELO_MAX_TRAJ_TIME)
epicsEnvUnset(ECMC_MRES)
epicsEnvUnset(ECMC_JOG_VEL)
epicsEnvUnset(ECMC_JAR)
epicsEnvUnset(ECMC_HOME_PROC)
epicsEnvUnset(ECMC_HOME_POS)
epicsEnvUnset(ECMC_HOME_ACC)
epicsEnvUnset(ECMC_HOME_DEC)
epicsEnvUnset(ECMC_DRV_TYPE)
epicsEnvUnset(ECMC_VELO)
epicsEnvUnset(ECMC_SOFT_LOW_LIM)
epicsEnvUnset(ECMC_SOFT_HIGH_LIM)
epicsEnvUnset(ECMC_HOME_POS_MOVE_ENA)
epicsEnvUnset(ECMC_HOME_POS_MOVE_TARG_POS)
# reset PREFIX
epicsEnvSet("ECMC_PREFIX"      "IOC_TEST:")
epicsEnvSet("ID",       "20")
iocshLoad (/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/configureVirtualAxis.cmd, CONFIG=./cfg/linear.vax, ID=20)
#==============================================================================
# configureVirtualAxis.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD, "'FULL'='DAQ'","ecmcExit Error: ECMC started in DAQ mode. Motion not supported..","#-")
epicsEnvUnset(ECMC_EXE_CMD)
epicsEnvSet("ECMC_PREFIX"      "IOC_TEST:")
iocshLoad ./cfg/linear.vax
#General
epicsEnvSet("ECMC_MOTOR_NAME",            "Axis20")
epicsEnvSet("ECMC_R",                     "Axis20-")
epicsEnvSet("ECMC_AXIS_NO",               "20")
epicsEnvSet("ECMC_DESC",                  "MCU1025 Center Position (20)")
epicsEnvSet("ECMC_EGU",                   "mm")                       # Motor Record Unit
epicsEnvSet("ECMC_PREC",                  "3")                        # Motor Record Precision
epicsEnvSet("ECMC_AXISCONFIG",            "")                         # Extra parameters to driver
epicsEnvSet("ECMC_EC_AXIS_HEALTH",        "")                         # Entry for axis health output (example: ec0.s1.binaryOutput01.0)
epicsEnvSet("ECMC_MOD_RANGE" ,            "0")                        # Modulo range (traj setpoints and encoder values will be in range 0..ECMC_MOD_RANGE)
epicsEnvSet("ECMC_MOD_TYPE",              "0")                        # For positioning and MOD_RANGE>0: 0 = Normal, 1 = Always Fwd, 2 = Always Bwd, 3 = Closest Distance
#Encoder
epicsEnvSet("ECMC_ENC_SCALE_NUM"          "1")
epicsEnvSet("ECMC_ENC_SCALE_DENOM"        "1")
epicsEnvSet("ECMC_ENC_TYPE"               "1")                        # Type: 0=Incremental, 1=Absolute
epicsEnvSet("ECMC_ENC_BITS"               "0")                        # Total bit count of encoder raw data
epicsEnvSet("ECMC_ENC_ABS_BITS",          "0")                        # Absolute bit count (for absolute encoders) always least significant part of ECMC_ENC_BITS
epicsEnvSet("ECMC_ENC_ABS_OFFSET"         "0")                        # Encoder offset in eng units (for absolute encoders)
epicsEnvSet("ECMC_EC_ENC_ACTPOS",         "ec0.s1.ZERO")              # Ethercat entry for actual position input (encoder)
epicsEnvSet("ECMC_EC_ENC_RESET",          "")                         # Reset   (if no encoder reset bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_ALARM_0",        "")                         # Error 0 (if no encoder error bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_ALARM_1",        "")                         # Error 1 (if no encoder error bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_ALARM_2",        "")                         # Error 2 (if no encoder error bit then leave empty)
epicsEnvSet("ECMC_EC_ENC_WARNING",        "")                         # Warning (if no encoder warning bit then leave empty)
#Trajectory
epicsEnvSet("ECMC_VELO",                  "5.0")
epicsEnvSet("ECMC_JOG_VEL",               "5")
epicsEnvSet("ECMC_JAR",                   "0.0")                      # JAR defaults to VELO/ACCL
epicsEnvSet("ECMC_ACCL",                  "0.1")
epicsEnvSet("ECMC_EMERG_DECEL",           "0.1")             # Emergency deceleration
#Homing
epicsEnvSet("ECMC_HOME_PROC",             "3")
epicsEnvSet("ECMC_HOME_POS",              "0.0")
epicsEnvSet("ECMC_HOME_VEL_TO",           "5")
epicsEnvSet("ECMC_HOME_VEL_FRM",          "4")
epicsEnvSet("ECMC_HOME_ACC",              "21")
epicsEnvSet("ECMC_HOME_DEC",              "100")
epicsEnvSet("ECMC_HOME_POS_MOVE_ENA",     "0")                        # Enable move to position after successfull homing 
epicsEnvSet("ECMC_HOME_POS_MOVE_TARG_POS","0")                        # Target position to go to after successfull homing
#Monitoring
# Switches
epicsEnvSet("ECMC_EC_MON_LOWLIM",         "ec0.s1.ONE.0")           #  Ethercat entry for low limit switch input
epicsEnvSet("ECMC_EC_MON_HIGHLIM",        "ec0.s1.ONE.0")           #  Ethercat entry for high limit switch inpuit
epicsEnvSet("ECMC_EC_MON_HOME_SWITCH",    "ec0.s1.ONE.0")           #  Et2022/05/13 08:36:36.382 OK
2022/05/13 08:36:36.382 OK
2022/05/13 08:36:36.382 OK
2022/05/13 08:36:36.383 OK
2022/05/13 08:36:36.383 OK
2022/05/13 08:36:36.383 OK
2022/05/13 08:36:36.383 OK
2022/05/13 08:36:36.383 OK
2022/05/13 08:36:36.383 OK
2022/05/13 08:36:36.383 OK
2022/05/13 08:36:36.383 OK
hercat entry for home switch input
epicsEnvSet("ECMC_EC_MON_EXT_INTERLOCK",  "ec0.s1.ONE.0")           #  Ethercat entry for external interlock input
# Softlimits (disable with 0,0)
epicsEnvSet("ECMC_SOFT_LOW_LIM",          "0")
epicsEnvSet("ECMC_SOFT_HIGH_LIM",         "0")
epicsEnvSet("ECMC_DXLM_ENABLE",           "1")
# Position lag
epicsEnvSet("ECMC_MON_LAG_MON_TOL",       "0.5")
epicsEnvSet("ECMC_MON_LAG_MON_TIME",      "100")
epicsEnvSet("ECMC_MON_LAG_MON_ENA",       "0")
# At target
epicsEnvSet("ECMC_MON_AT_TARGET_TOL",     "0.3")
epicsEnvSet("ECMC_MON_AT_TARGET_TIME",    "100")
epicsEnvSet("ECMC_MON_AT_TARGET_ENA",     "1")
# Velocity
epicsEnvSet("ECMC_MON_VELO_MAX",          "200.0")
epicsEnvSet("ECMC_MON_VELO_MAX_TRAJ_TIME","100")
epicsEnvSet("ECMC_MON_VELO_MAX_DRV_TIME", "200")
epicsEnvSet("ECMC_MON_VELO_MAX_ENA",      "1")
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addVirtualAxis.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/addVirtualAxis.cmd
#==============================================================================
# addVirtualAxis.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD, "'FULL'='DAQ'","ecmcExit Error: ECMC started in DAQ mode. Motion not supported..","#-")
epicsEnvUnset(ECMC_EXE_CMD)
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis-records.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis-records.cmd
#==============================================================================
# ecmc_virt_axis-records.cmd
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis.cmd",1)
iocshLoad( /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis.cmd )
#==============================================================================
# ecmc_virt_axis.cmd
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/verifyOrDie.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/verifyOrDie.cmd "EXPR_STR='abs(1)<>0',SUCCESS_STR='ECMC_ENC_SCALE_NUM value OK == 1...',ERROR_STR='ECMC_ENC_SCALE_NUM == 0...'"
#==============================================================================
# verifyOrDie.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD,"abs(1)<>0","# ECMC_ENC_SCALE_NUM value OK == 1...", "ecmcExit Error: ECMC_ENC_SCALE_NUM == 0...")
# ECMC_ENC_SCALE_NUM value OK == 1...
epicsEnvUnset(ECMC_EXE_CMD)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/verifyOrDie.cmd "EXPR_STR='abs(1)<>0',SUCCESS_STR='ECMC_ENC_SCALE_DENOM value OK == 1...',ERROR_STR='ECMC_ENC_SCALE_DENOM == 0...'"
#==============================================================================
# verifyOrDie.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD,"abs(1)<>0","# ECMC_ENC_SCALE_DENOM value OK == 1...", "ecmcExit Error: ECMC_ENC_SCALE_DENOM == 0...")
# ECMC_ENC_SCALE_DENOM value OK == 1...
epicsEnvUnset(ECMC_EXE_CMD)
ecmcFileExist("/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/issueWarning.cmd",1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/issueWarning.cmd "EXPR_STR='-1>0',WARNING_STR='WARNING: ECMC_MRES setting is deprecated and will not be used. (MRES will be calulated instead: ECMC_ENC_SCALE_NUM/ECMC_ENC_SCALE_DENOM).. '"
#==============================================================================
# issueWarning.cmd
ecmcEpicsEnvSetCalcTernary(ECMC_EXE_CMD,"-1>0","", "#-")
epicsEnvUnset(ECMC_EXE_CMD)
ecmcConfigOrDie "Cfg.CreateAxis(20,2)"
ecmcConfigOrDie "Cfg.SetAxisTrajStartPos(20,0)"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax20.health")"
ecmcConfigOrDie "Cfg.SetAxisModRange(20, 0)"
ecmcConfigOrDie "Cfg.SetAxisModType(20, 0)"
ecmcConfigOrDie "Cfg.SetAxisEmergDeceleration(20,0.1)"
ecmcConfigOrDie "Cfg.SetAxisVelAccDecTime(20,5.0,0.1)"
ecmcConfigOrDie "Cfg.SetAxisHomeVelTwordsCam(20,5)"
ecmcConfigOrDie "Cfg.SetAxisHomeVelOffCam(20,4)"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ZERO,"ax20.enc.actpos")"
ecmcConfigOrDie "Cfg.SetAxisEncScaleDenom(20,1)"
ecmcConfigOrDie "Cfg.2022/05/13 08:36:36.383 OK
2022/05/13 08:36:36.383 OK
2022/05/13 08:36:36.383 OK
2022/05/13 08:36:36.383 OK
2022/05/13 08:36:36.383 OK
2022/05/13 08:36:36.383 OK
2022/05/13 08:36:36.383 OK
2022/05/13 08:36:36.383 OK
2022/05/13 08:36:36.383 OK
2022/05/13 08:36:36.383 OK
2022/05/13 08:36:36.383 OK
2022/05/13 08:36:36.383 OK
2022/05/13 08:36:36.383 OK
2022/05/13 08:36:36.383 OK
2022/05/13 08:36:36.383 OK
2022/05/13 08:36:36.383 OK
2022/05/13 08:36:36.383 OK
2022/05/13 08:36:36.383 OK
2022/05/13 08:36:36.383 OK
2022/05/13 08:36:36.383 OK
2022/05/13 08:36:36.383 OK
2022/05/13 08:36:36.383 OK
2022/05/13 08:36:36.383 OK
2022/05/13 08:36:36.383 OK
2022/05/13 08:36:36.383 OK
2022/05/13 08:36:36.384 OK
2022/05/13 08:36:36.384 OK
2022/05/13 08:36:36.384 OK
2022/05/13 08:36:36.384 OK
2022/05/13 08:36:36.384 OK
2022/05/13 08:36:36.384 OK
2022/05/13 08:36:36.384 OK
2022/05/13 08:36:36.384 OK
2022/05/13 08:36:36.384 OK
2022/05/13 08:36:36.385 OK
2022/05/13 08:36:36.385 OK
2022/05/13 08:36:36.385 OK
2022/05/13 08:36:36.385 OK
2022/05/13 08:36:36.385 OK
2022/05/13 08:36:36.385 ecmcMotorRecord:: setIntegerParam(20 motorPowerAutoOnOff_)=2
2022/05/13 08:36:36.385 ecmcMotorRecord:: setDoubleParam(20 motorPowerOnDelay_)=6
2022/05/13 08:36:36.385 ecmcMotorRecord:: setDoubleParam(20 motorPowerOffDelay_=-1
2022/05/13 08:36:36.385 ecmcMotorRecord:: connected(20)
2022/05/13 08:36:36.385 ecmcMotorRecord:: initialPoll(20) status=0
SetAxisEncScaleNum(20,1)"
ecmcConfigOrDie "Cfg.SetAxisEncType(20,1)"
ecmcConfigOrDie "Cfg.SetAxisEncBits(20,0)"
ecmcConfigOrDie "Cfg.SetAxisEncAbsBits(20,0)"
ecmcConfigOrDie "Cfg.SetAxisEncOffset(20,0)"
ecmcConfigOrDie "Cfg.SetAxisEncVelFilterSize(20,100)"
ecmcConfigOrDie "Cfg.SetAxisEncPosFilterSize(20,1)"
ecmcConfigOrDie "Cfg.SetAxisEncPosFilterEnable(20,0)"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax20.enc.reset")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax20.enc.alarm0")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax20.enc.alarm1")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax20.enc.alarm2")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax20.enc.warning")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax20.enc.latchpos")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax20.enc.latchcontrol")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(,"ax20.enc.latchstatus")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax20.mon.lowlim")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax20.mon.highlim")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax20.mon.homesensor")"
ecmcConfigOrDie "Cfg.LinkEcEntryToObject(ec0.s1.ONE.0,"ax20.mon.extinterlock")"
ecmcConfigOrDie "Cfg.SetAxisMonAtTargetTol(20,0.3)"
ecmcConfigOrDie "Cfg.SetAxisMonAtTargetTime(20,100)"
ecmcConfigOrDie "Cfg.SetAxisMonEnableAtTargetMon(20,1)"
ecmcConfigOrDie "Cfg.SetAxisMonPosLagTol(20,0.5)"
ecmcConfigOrDie "Cfg.SetAxisMonPosLagTime(20,100)"
ecmcConfigOrDie "Cfg.SetAxisMonEnableLagMon(20,0)"
ecmcConfigOrDie "Cfg.SetAxisMonMaxVel(20,200.0)"
ecmcConfigOrDie "Cfg.SetAxisMonEnableMaxVel(20,1)"
ecmcConfigOrDie "Cfg.SetAxisMonMaxVelDriveILDelay(20,200)"
ecmcConfigOrDie "Cfg.SetAxisMonMaxVelTrajILDelay(20,100)"
ecmcConfigOrDie "Cfg.SetAxisSoftLimitPosBwd(20,0)"
ecmcConfigOrDie "Cfg.SetAxisEnableSoftLimitBwd(20,1)"
ecmcConfigOrDie "Cfg.SetAxisSoftLimitPosFwd(20,0)"
ecmcConfigOrDie "Cfg.SetAxisEnableSoftLimitFwd(20,1)"
ecmcConfigOrDie "Cfg.SetAxisMonHomeSwitchPolarity(20,0)"
ecmcConfigOrDie "Cfg.SetAxisHomeLatchCountOffset(20,0)"
ecmcConfigOrDie "Main.M20.fHomePosition=0.0"
ecmcConfigOrDie "Cfg.SetAxisHomePostMoveEnable(20, 0)"
ecmcConfigOrDie "Cfg.SetAxisHomePostMoveTargetPosition(20, 0)"
ecmcMotorRecordCreateAxis(MCU1, "20", "6", "")
ecmcEpicsEnvSetCalc("ECMC_TEMP_SREV","if(abs(1)>0){RESULT:=abs(1);} else {RESULT:=1.0};","%d")
ecmcEpicsEnvSetCalc("ECMC_TEMP_UREV","if(abs(1)>0){RESULT:=abs(1);} else {RESULT:=1.0};","%lf")
ecmcFileExist(ecmcMotorRecord.template,1,1)
dbLoadRecords(ecmcMotorRecord.template, "PREFIX=IOC_TEST:, MOTOR_NAME=Axis20, MOTOR_PORT=MCU1, AXIS_NO=20, DESC=MCU1025 Center Position (20), EGU=mm, PREC=3, VELO=5.0, JVEL=5, JAR=0.0, ACCL=0.1, RDBD=0.3, DLLM=0, DHLM=0, HOMEPROC=3,SREV=1,UREV=1.000000, ")
epicsEnvSet("ECMC_AXISFIELDINIT",  "")
ecmcFileExist(ecmcMotorRecord"home.template",1,1)
dbLoadRecords(ecmcMotorRecord"home.template", "PREFIX=IOC_TEST:, MOTOR_NAME=Axis20, MOTOR_PORT=MCU1, AXIS_NO=20,HOMEPROC=3, HOMEPOS=0.0, HVELTO=5, HVELFRM=4, HOMEACC=21, HOMEDEC=100")
epicsEnvUnset(ECMC_TEMP_SREV)
epicsEnvUnset(ECMC_TEMP_UREV)
ecmcFileExist("ecmcAxis.db",1,1)
dbLoadRecords("ecmcAxis.db","P=IOC_TEST:,AXIS_NAME=Axis20,AXIS_NO=20,PORT=MC_CPU1,ADDR=0,TIMEOUT=1,T_SMP_MS=10,TSE=-2")
ecmcFileExist("ecmcAxisType.db",1,1)
dbLoadRecords("ecmcAxisType.db","P=IOC_TEST:,AXIS_NAME=Axis20,AXIS_TYPE=2")
ecmcFileExist(/epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis_unset.cmd,1)
iocshLoad /epics/base-7.0.5/require/3.4.1/siteMods/ecmccfg/7.0.1+0/ecmc_virt_axis_unset.cmd
#==============================================================================
# ecmc_virt_axis_unset.cmd
epicsEnvUnset(ECMC_AXISCONFIG)
epicsEnvUnset(ECMC_AXISFIELDINIT)
epicsEnvUnset(ECMC_PREC)
epicsEnvUnset(ECMC_EGU)
epicsEnvUnset(ECMC_DESC)
epicsEnvUnset(ECMC_R)
epicsEnvUnset(ECMC_MOTOR_NAME)
epicsEnvUnset(ECMC_EC_AXIS_HEALTH)
epicsEnvUnset(ECMC_MOD_RANGE)
epicsEnvUnset(ECMC_MOD_TYPE)
epicsEnvUnset(ECMC_EMERG_DECEL)
epicsEnvUnset(ECMC_ACCL)
epicsEnvUnset(ECMC_HOME_VEL_TO)
epicsEnvUnset(ECMC_HOME_VEL_FRM)
epicsEnvUnset(ECMC_EC_ENC_ACTPOS)
epicsEnvUnset(ECMC_ENC_2022/05/13 08:36:36.400 OK
2022/05/13 08:36:36.400 OK
2022/05/13 08:36:36.400 OK
2022/05/13 08:36:36.413 INFO: Locking memory
2022/05/13 08:36:36.413 WARNING: mlockall() failed (0x20045).
2022/05/13 08:36:36.419 Starting up EtherCAT bus: 0 second(s). Max wait time 30 second(s).
2022/05/13 08:36:36.504 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:374: ERROR: Slave 0: Not operational (0x24011).
2022/05/13 08:36:36.504 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:379: ERROR_EC_SLAVE_NOT_OPERATIONAL (0x24011).
2022/05/13 08:36:36.504 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:374: ERROR: Slave 1: Not operational (0x24011).
2022/05/13 08:36:36.504 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:379: ERROR_EC_SLAVE_NOT_OPERATIONAL (0x24011).
2022/05/13 08:36:36.504 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:374: ERROR: Slave 2: Not operational (0x24011).
2022/05/13 08:36:36.504 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:379: ERROR_EC_SLAVE_NOT_OPERATIONAL (0x24011).
2022/05/13 08:36:36.504 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:374: ERROR: Slave 3: Not operational (0x24011).
2022/05/13 08:36:36.504 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:379: ERROR_EC_SLAVE_NOT_OPERATIONAL (0x24011).
2022/05/13 08:36:36.504 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:374: ERROR: Slave 4: Not operational (0x24011).
2022/05/13 08:36:36.504 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:379: ERROR_EC_SLAVE_NOT_OPERATIONAL (0x24011).
2022/05/13 08:36:36.504 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:374: ERROR: Slave 5: Not operational (0x24011).
2022/05/13 08:36:36.504 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:379: ERROR_EC_SLAVE_NOT_OPERATIONAL (0x24011).
2022/05/13 08:36:36.504 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:374: ERROR: Slave 6: Not operational (0x24011).
2022/05/13 08:36:36.504 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:379: ERROR_EC_SLAVE_NOT_OPERATIONAL (0x24011).
2022/05/13 08:36:36.504 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:374: ERROR: Slave 7: Not operational (0x24011).
2022/05/13 08:36:36.504 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:379: ERROR_EC_SLAVE_NOT_OPERATIONAL (0x24011).
2022/05/13 08:36:36.504 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:374: ERROR: Slave 8: Not operational (0x24011).
2022/05/13 08:36:36.504 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:379: ERROR_EC_SLAVE_NOT_OPERATIONAL (0x24011).
2022/05/13 08:36:36.504 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:374: ERROR: Slave 9: Not operational (0x24011).
2022/05/13 08:36:36.504 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:379: ERROR_EC_SLAVE_NOT_OPERATIONAL (0x24011).
2022/05/13 08:36:36.504 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:374: ERROR: Slave 10: Not operational (0x24011).
2022/05/13 08:36:36.504 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:379: ERROR_EC_SLAVE_NOT_OPERATIONAL (0x24011).
2022/05/13 08:36:36.504 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:374: ERROR: Slave 11: Not operational (0x24011).
2022/05/13 08:36:36.504 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:379: ERROR_EC_SLAVE_NOT_OPERATIONAL (0x24011).
2022/05/13 08:36:36.504 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:374: ERROR: Slave 12: Not operational (0x24011).
2022/05/13 08:36:36.504 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:379: ERROR_EC_SLAVE_NOT_OPERATIONAL (0x24011).
2022/05/13 08:36:36.504 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:374: ERROR: Slave 13: Not operational (0x24011).
2022/05/13 08:36:36.504 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:379: ERROR_EC_SLAVE_NOT_OPERATIONAL (0x24011).
2022/05/13 08:36:36.504 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:374: ERROR: Slave 14: Not operational (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:379: ERROR_EC_SLAVE_NOT_OPERATIONAL (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:374: ERROR: Slave 15: Not operational (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:379: ERROR_EC_SLAVE_NOT_OPERATIONAL (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:374: ERROR: Slave 16: Not operational (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:379: ERROR_EC_SLAVE_NOT_OPERATIONAL (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:374: ERROR: Slave 17: Not operational (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:379: ERROR_EC_SLAVE_NOT_OPERATIONAL (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:374: ERROR: Slave 18: Not operational (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:379: ERROR_EC_SLAVE_NOT_OPERATIONAL (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:374: ERROR: Slave 19: Not operational (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:379: ERROR_EC_SLAVE_NOT_OPERATIONAL (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:374: ERROR: Slave 20: Not operational (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:379: ERROR_EC_SLAVE_NOT_OPERATIONAL (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:374: ERROR: Slave 21: Not operational (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:379: ERROR_EC_SLAVE_NOT_OPERATIONAL (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:374: ERROR: Slave 22: Not operational (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:379: ERROR_EC_SLAVE_NOT_OPERATIONAL (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:374: ERROR: Slave 23: Not operational (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:379: ERROR_EC_SLAVE_NOT_OPERATIONAL (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:374: ERROR: Slave 24: Not operational (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:379: ERROR_EC_SLAVE_NOT_OPERATIONAL (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:374: ERROR: Slave 25: Not operational (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:379: ERROR_EC_SLAVE_NOT_OPERATIONAL (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:374: ERROR: Slave 26: Not operational (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:379: ERROR_EC_SLAVE_NOT_OPERATIONAL (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:374: ERROR: Slave 27: Not operational (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:379: ERROR_EC_SLAVE_NOT_OPERATIONAL (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:374: ERROR: Slave 28: Not operational (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:379: ERROR_EC_SLAVE_NOT_OPERATIONAL (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:374: ERROR: Slave 29: Not operational (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:379: ERROR_EC_SLAVE_NOT_OPERATIONAL (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:374: ERROR: Slave 30: Not operational (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:379: ERROR_EC_SLAVE_NOT_OPERATIONAL (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:374: ERROR: Slave 31: Not operational (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:379: ERROR_EC_SLAVE_NOT_OPERATIONAL (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:374: ERROR: Slave 32: Not operational (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:379: ERROR_EC_SLAVE_NOT_OPERATIONAL (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:374: ERROR: Slave 33: Not operational (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:379: ERROR_EC_SLAVE_NOT_OPERATIONAL (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:374: ERROR: Slave 34: Not operational (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:379: ERROR_EC_SLAVE_NOT_OPERATIONAL (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:374: ERROR: Slave 35: Not operational (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:379: ERROR_EC_SLAVE_NOT_OPERATIONAL (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:374: ERROR: Slave 36: Not operational (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:379: ERROR_EC_SLAVE_NOT_OPERATIONAL (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:374: ERROR: Slave 37: Not operational (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:379: ERROR_EC_SLAVE_NOT_OPERATIONAL (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:374: ERROR: Slave 38: Not operational (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:379: ERROR_EC_SLAVE_NOT_OPERATIONAL (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:374: ERROR: Slave 39: Not operational (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:379: ERROR_EC_SLAVE_NOT_OPERATIONAL (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:374: ERROR: Slave 40: Not operational (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:379: ERROR_EC_SLAVE_NOT_OPERATIONAL (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:374: ERROR: Slave 41: Not operational (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:379: ERROR_EC_SLAVE_NOT_OPERATIONAL (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:374: ERROR: Slave 42: Not operational (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:379: ERROR_EC_SLAVE_NOT_OPERATIONAL (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:374: ERROR: Slave 43: Not operational (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:379: ERROR_EC_SLAVE_NOT_OPERATIONAL (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:374: ERROR: Slave 44: Not operational (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:379: ERROR_EC_SLAVE_NOT_OPERATIONAL (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:374: ERROR: Slave 45: Not operational (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:379: ERROR_EC_SLAVE_NOT_OPERATIONAL (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:374: ERROR: Slave 46: Not operational (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:379: ERROR_EC_SLAVE_NOT_OPERATIONAL (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:374: ERROR: Slave 47: Not operational (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:379: ERROR_EC_SLAVE_NOT_OPERATIONAL (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:374: ERROR: Slave 48: Not operational (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:379: ERROR_EC_SLAVE_NOT_OPERATIONAL (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:374: ERROR: Slave 49: Not operational (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:379: ERROR_EC_SLAVE_NOT_OPERATIONAL (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:374: ERROR: Slave 50: Not operational (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:379: ERROR_EC_SLAVE_NOT_OPERATIONAL (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:374: ERROR: Slave 51: Not operational (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:379: ERROR_EC_SLAVE_NOT_OPERATIONAL (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:374: ERROR: Slave 52: Not operational (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:379: ERROR_EC_SLAVE_NOT_OPERATIONAL (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:374: ERROR: Slave 53: Not operational (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:379: ERROR_EC_SLAVE_NOT_OPERATIONAL (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:374: ERROR: Slave 54: Not operational (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:379: ERROR_EC_SLAVE_NOT_OPERATIONAL (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:374: ERROR: Slave 55: Not operational (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:379: ERROR_EC_SLAVE_NOT_OPERATIONAL (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:374: ERROR: Slave 56: Not operational (0x24011).
2022/05/13 08:36:36.505 ../devEcmcSup/ethercat/ecmcEcSlave.cpp/checkConfigState:379: ERROR_EC_SLAVE_NOT_OPERATIONAL (0x24011).
2022/05/13 08:36:36.506 ecmc::  Ax     PosSet     PosAct     PosErr    PosTarg   DistLeft    CntrOut   VelFFSet     VelAct   VelFFRaw VelRaw  Error Co CD St IL LI TS ES En Ex Bu Ta Hd L- L+ Ho
2022/05/13 08:36:36.506 ecmc::  20      0.000      0.000      0.000      0.000      0.000      0.000      0.000      0.000      0.000      0      0  0  0  0 16  0  0  0 00  0  0  0  1  1  1  1
2022/05/13 08:36:36.605 ecmc::  20      0.000      0.000      0.000      0.000      0.000      0.000      0.000      0.000      0.000      0      0  0  0  0 16 16  0  0 00  0  0  0  1  1  1  1
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(1) homed=1
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(1) LLS=0
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(1) HLS=0
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(1) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000089
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(1) bError=0 drvlocal.statusBinData.onChangeData.error=0x0
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(1) callParamCallbacksUpdateError Error=0 old=-1 ErrID=0x0 old=0x0 Warn=0 nCmd=0 old=0 txt=NULL
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(2) homed=1
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(2) LLS=0
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(2) HLS=0
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(2) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000024
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(2) bError=0 drvlocal.statusBinData.onChangeData.error=0x0
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(2) callParamCallbacksUpdateError Error=0 old=-1 ErrID=0x0 old=0x0 Warn=0 nCmd=0 old=0 txt=NULL
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(3) homed=1
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(3) LLS=0
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(3) HLS=0
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(3) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000019
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(3) bError=0 drvlocal.statusBinData.onChangeData.error=0x0
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(3) callParamCallbacksUpdateError Error=0 old=-1 ErrID=0x0 old=0x0 Warn=0 nCmd=0 old=0 txt=NULL
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(4) homed=1
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(4) LLS=0
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(4) HLS=0
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(4) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000018
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(4) bError=0 drvlocal.statusBinData.onChangeData.error=0x0
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(4) callParamCallbacksUpdateError Error=0 old=-1 ErrID=0x0 old=0x0 Warn=0 nCmd=0 old=0 txt=NULL
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(5) homed=1
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(5) LLS=0
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(5) HLS=0
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(5) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000016
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(5) bError=0 drvlocal.statusBinData.onChangeData.error=0x0
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(5) callParamCallbacksUpdateError Error=0 old=-1 ErrID=0x0 old=0x0 Warn=0 nCmd=0 old=0 txt=NULL
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(6) homed=1
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(6) LLS=0
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(6) HLS=0
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(6) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000016
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(6) bError=0 drvlocal.statusBinData.onChangeData.error=0x0
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(6) callParamCallbacksUpdateError Error=0 old=-1 ErrID=0x0 old=0x0 Warn=0 nCmd=0 old=0 txt=NULL
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(7) homed=1
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(7) LLS=0
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(7) HLS=0
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(7) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000016
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(7) bError=0 drvlocal.statusBinData.onChangeData.error=0x0
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(7) callParamCallbacksUpdateError Error=0 old=-1 ErrID=0x0 old=0x0 Warn=0 nCmd=0 old=0 txt=NULL
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(8) homed=1
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(8) LLS=0
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(8) HLS=0
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(8) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000016
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(8) bError=0 drvlocal.statusBinData.onChangeData.error=0x0
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(8) callParamCallbacksUpdateError Error=0 old=-1 ErrID=0x0 old=0x0 Warn=0 nCmd=0 old=0 txt=NULL
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(9) homed=1
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(9) LLS=0
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(9) HLS=0
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(9) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000018
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(9) bError=0 drvlocal.statusBinData.onChangeData.error=0x0
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(9) callParamCallbacksUpdateError Error=0 old=-1 ErrID=0x0 old=0x0 Warn=0 nCmd=0 old=0 txt=NULL
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(10) homed=1
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(10) LLS=0
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(10) HLS=0
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(10) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000020
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(10) bError=0 drvlocal.statusBinData.onChangeData.error=0x0
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(10) callParamCallbacksUpdateError Error=0 old=-1 ErrID=0x0 old=0x0 Warn=0 nCmd=0 old=0 txt=NULL
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(11) homed=1
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(11) LLS=0
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(11) HLS=0
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(11) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000016
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(11) bError=0 drvlocal.statusBinData.onChangeData.error=0x0
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(11) callParamCallbacksUpdateError Error=0 old=-1 ErrID=0x0 old=0x0 Warn=0 nCmd=0 old=0 txt=NULL
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(12) homed=1
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(12) LLS=0
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(12) HLS=0
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(12) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000016
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(12) bError=0 drvlocal.statusBinData.onChangeData.error=0x0
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(12) callParamCallbacksUpdateError Error=0 old=-1 ErrID=0x0 old=0x0 Warn=0 nCmd=0 old=0 txt=NULL
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(13) homed=1
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(13) LLS=0
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(13) HLS=0
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(13) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000018
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(13) bError=0 drvlocal.statusBinData.onChangeData.error=0x0
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(13) callParamCallbacksUpdateError Error=0 old=-1 ErrID=0x0 old=0x0 Warn=0 nCmd=0 old=0 txt=NULL
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(14) homed=1
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(14) LLS=0
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(14) HLS=0
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(14) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000019
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(14) bError=0 drvlocal.statusBinData.onChangeData.error=0x0
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(14) callParamCallbacksUpdateError Error=0 old=-1 ErrID=0x0 old=0x0 Warn=0 nCmd=0 old=0 txt=NULL
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(15) homed=1
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(15) LLS=0
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(15) HLS=0
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(15) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000018
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(15) bError=0 drvlocal.statusBinData.onChangeData.error=0x0
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(15) callParamCallbacksUpdateError Error=0 old=-1 ErrID=0x0 old=0x0 Warn=0 nCmd=0 old=0 txt=NULL
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(16) homed=1
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(16) LLS=0
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(16) HLS=0
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(16) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000016
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(16) bError=0 drvlocal.statusBinData.onChangeData.error=0x0
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(16) callParamCallbacksUpdateError Error=0 old=-1 ErrID=0x0 old=0x0 Warn=0 nCmd=0 old=0 txt=NULL
2022/05/13 08:36:37.096 ecmcMotorRecord:: poll(17) homed=1
2022/05/13 08:36:37.097 ecmcMotorRecord:: poll(17) LLS=0
2022/05/13 08:36:37.097 ecmcMotorRecord:: poll(17) HLS=0
2022/05/13 08:36:37.097 ecmcMotorRecord:: poll(17) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000017
2022/05/13 08:36:37.097 ecmcMotorRecord:: poll(17) bError=0 drvlocal.statusBinData.onChangeData.error=0x0
2022/05/13 08:36:37.097 ecmcMotorRecord:: poll(17) callParamCallbacksUpdateError Error=0 old=-1 ErrID=0x0 old=0x0 Warn=0 nCmd=0 old=0 txt=NULL
2022/05/13 08:36:37.097 ecmcMotorRecord:: poll(18) homed=1
2022/05/13 08:36:37.097 ecmcMotorRecord:: poll(18) LLS=0
2022/05/13 08:36:37.097 ecmcMotorRecord:: poll(18) HLS=0
2022/05/13 08:36:37.097 ecmcMotorRecord:: poll(18) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000019
2022/05/13 08:36:37.097 ecmcMotorRecord:: poll(18) bError=0 drvlocal.statusBinData.onChangeData.error=0x0
2022/05/13 08:36:37.097 ecmcMotorRecord:: poll(18) callParamCallbacksUpdateError Error=0 old=-1 ErrID=0x0 old=0x0 Warn=0 nCmd=0 old=0 txt=NULL
2022/05/13 08:36:37.097 ecmcMotorRecord:: poll(19) homed=1
2022/05/13 08:36:37.097 ecmcMotorRecord:: poll(19) LLS=0
2022/05/13 08:36:37.097 ecmcMotorRecord:: poll(19) HLS=0
2022/05/13 08:36:37.097 ecmcMotorRecord:: poll(19) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000273
2022/05/13 08:36:37.097 ecmcMotorRecord:: poll(19) bError=0 drvlocal.statusBinData.onChangeData.error=0x0
2022/05/13 08:36:37.097 ecmcMotorRecord:: poll(19) callParamCallbacksUpdateError Error=0 old=-1 ErrID=0x0 old=0x0 Warn=0 nCmd=0 old=0 txt=NULL
2022/05/13 08:36:37.097 ecmcMotorRecord:: poll(20) homed=1
2022/05/13 08:36:37.097 ecmcMotorRecord:: poll(20) LLS=0
2022/05/13 08:36:37.097 ecmcMotorRecord:: poll(20) HLS=0
2022/05/13 08:36:37.097 ecmcMotorRecord:: poll(20) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000019
2022/05/13 08:36:37.097 ecmcMotorRecord:: poll(20) bError=0 drvlocal.statusBinData.onChangeData.error=0x0
2022/05/13 08:36:37.097 ecmcMotorRecord:: poll(20) callParamCallbacksUpdateError Error=0 old=-1 ErrID=0x0 old=0x0 Warn=0 nCmd=0 old=0 txt=NULL
2022/05/13 08:36:37.297 ecmcMotorRecord:: poll(1) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000005
2022/05/13 08:36:37.297 ecmcMotorRecord:: poll(2) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.297 ecmcMotorRecord:: poll(3) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.297 ecmcMotorRecord:: poll(4) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.297 ecmcMotorRecord:: poll(5) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.297 ecmcMotorRecord:: poll(6) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.297 ecmcMotorRecord:: poll(7) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:37.297 ecmcMotorRecord:: poll(8) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.297 ecmcMotorRecord:: poll(9) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.297 ecmcMotorRecord:: poll(10) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.297 ecmcMotorRecord:: poll(11) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000005
2022/05/13 08:36:37.297 ecmcMotorRecord:: poll(12) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.297 ecmcMotorRecord:: poll(13) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.297 ecmcMotorRecord:: poll(14) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.297 ecmcMotorRecord:: poll(15) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.297 ecmcMotorRecord:: poll(16) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.297 ecmcMotorRecord:: poll(17) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.297 ecmcMotorRecord:: poll(18) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.297 ecmcMotorRecord:: poll(19) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.297 ecmcMotorRecord:: poll(20) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.419 Starting up EtherCAT bus: 1 second(s). Max wait time 30 second(s).
2022/05/13 08:36:37.497 ecmcMotorRecord:: poll(1) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000006
2022/05/13 08:36:37.497 ecmcMotorRecord:: poll(2) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.497 ecmcMotorRecord:: poll(3) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.497 ecmcMotorRecord:: poll(4) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.497 ecmcMotorRecord:: poll(5) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.497 ecmcMotorRecord:: poll(6) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.497 ecmcMotorRecord:: poll(7) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.498 ecmcMotorRecord:: poll(8) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.498 ecmcMotorRecord:: poll(9) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.498 ecmcMotorRecord:: poll(10) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.498 ecmcMotorRecord:: poll(11) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.498 ecmcMotorRecord:: poll(12) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.498 ecmcMotorRecord:: poll(13) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.498 ecmcMotorRecord:: poll(14) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.498 ecmcMotorRecord:: poll(15) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.498 ecmcMotorRecord:: poll(16) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.498 ecmcMotorRecord:: poll(17) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.498 ecmcMotorRecord:: poll(18) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.498 ecmcMotorRecord:: poll(19) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:37.498 ecmcMotorRecord:: poll(20) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.698 ecmcMotorRecord:: poll(1) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000006
2022/05/13 08:36:37.698 ecmcMotorRecord:: poll(2) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.698 ecmcMotorRecord:: poll(3) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.698 ecmcMotorRecord:: poll(4) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.698 ecmcMotorRecord:: poll(5) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.698 ecmcMotorRecord:: poll(6) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.698 ecmcMotorRecord:: poll(7) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:37.698 ecmcMotorRecord:: poll(8) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.698 ecmcMotorRecord:: poll(9) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.698 ecmcMotorRecord:: poll(10) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.698 ecmcMotorRecord:: poll(11) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:37.698 ecmcMotorRecord:: poll(12) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.698 ecmcMotorRecord:: poll(13) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.698 ecmcMotorRecord:: poll(14) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.698 ecmcMotorRecord:: poll(15) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.698 ecmcMotorRecord:: poll(16) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.698 ecmcMotorRecord:: poll(17) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.698 ecmcMotorRecord:: poll(18) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.698 ecmcMotorRecord:: poll(19) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:37.698 ecmcMotorRecord:: poll(20) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.898 ecmcMotorRecord:: poll(1) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000007
2022/05/13 08:36:37.898 ecmcMotorRecord:: poll(2) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.898 ecmcMotorRecord:: poll(3) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.898 ecmcMotorRecord:: poll(4) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.898 ecmcMotorRecord:: poll(5) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.898 ecmcMotorRecord:: poll(6) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.898 ecmcMotorRecord:: poll(7) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.898 ecmcMotorRecord:: poll(8) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.898 ecmcMotorRecord:: poll(9) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.898 ecmcMotorRecord:: poll(10) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.898 ecmcMotorRecord:: poll(11) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.898 ecmcMotorRecord:: poll(12) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.898 ecmcMotorRecord:: poll(13) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.898 ecmcMotorRecord:: poll(14) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.898 ecmcMotorRecord:: poll(15) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.898 ecmcMotorRecord:: poll(16) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.898 ecmcMotorRecord:: poll(17) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.898 ecmcMotorRecord:: poll(18) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.898 ecmcMotorRecord:: poll(19) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:37.898 ecmcMotorRecord:: poll(20) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.098 ecmcMotorRecord:: poll(1) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000007
2022/05/13 08:36:38.098 ecmcMotorRecord:: poll(2) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.098 ecmcMotorRecord:: poll(3) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.098 ecmcMotorRecord:: poll(4) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.098 ecmcMotorRecord:: poll(5) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.098 ecmcMotorRecord:: poll(6) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.098 ecmcMotorRecord:: poll(7) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:38.098 ecmcMotorRecord:: poll(8) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.098 ecmcMotorRecord:: poll(9) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.098 ecmcMotorRecord:: poll(10) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.098 ecmcMotorRecord:: poll(11) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.098 ecmcMotorRecord:: poll(12) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.098 ecmcMotorRecord:: poll(13) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.098 ecmcMotorRecord:: poll(14) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.098 ecmcMotorRecord:: poll(15) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.098 ecmcMotorRecord:: poll(16) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:38.098 ecmcMotorRecord:: poll(17) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:38.098 ecmcMotorRecord:: poll(18) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.098 ecmcMotorRecord:: poll(19) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.099 ecmcMotorRecord:: poll(20) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.299 ecmcMotorRecord:: poll(1) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000007
2022/05/13 08:36:38.299 ecmcMotorRecord:: poll(2) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000050
2022/05/13 08:36:38.299 ecmcMotorRecord:: poll(3) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.299 ecmcMotorRecord:: poll(4) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.299 ecmcMotorRecord:: poll(5) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.299 ecmcMotorRecord:: poll(6) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.299 ecmcMotorRecord:: poll(7) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:38.299 ecmcMotorRecord:: poll(8) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.299 ecmcMotorRecord:: poll(9) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.299 ecmcMotorRecord:: poll(10) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.299 ecmcMotorRecord:: poll(11) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:38.299 ecmcMotorRecord:: poll(12) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.299 ecmcMotorRecord:: poll(13) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.299 ecmcMotorRecord:: poll(14) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.299 ecmcMotorRecord:: poll(15) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.299 ecmcMotorRecord:: poll(16) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.299 ecmcMotorRecord:: poll(17) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.299 ecmcMotorRecord:: poll(18) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.299 ecmcMotorRecord:: poll(19) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:38.299 ecmcMotorRecord:: poll(20) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.419 Starting up EtherCAT bus: 2 second(s). Max wait time 30 second(s).
2022/05/13 08:36:38.499 ecmcMotorRecord:: poll(1) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000007
2022/05/13 08:36:38.499 ecmcMotorRecord:: poll(2) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.499 ecmcMotorRecord:: poll(3) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.499 ecmcMotorRecord:: poll(4) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.499 ecmcMotorRecord:: poll(5) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.499 ecmcMotorRecord:: poll(6) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.499 ecmcMotorRecord:: poll(7) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:38.499 ecmcMotorRecord:: poll(8) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.499 ecmcMotorRecord:: poll(9) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.499 ecmcMotorRecord:: poll(10) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.499 ecmcMotorRecord:: poll(11) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.499 ecmcMotorRecord:: poll(12) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.499 ecmcMotorRecord:: poll(13) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.499 ecmcMotorRecord:: poll(14) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.499 ecmcMotorRecord:: poll(15) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.499 ecmcMotorRecord:: poll(16) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:38.499 ecmcMotorRecord:: poll(17) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.499 ecmcMotorRecord:: poll(18) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.499 ecmcMotorRecord:: poll(19) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.499 ecmcMotorRecord:: poll(20) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.699 ecmcMotorRecord:: poll(1) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000007
2022/05/13 08:36:38.699 ecmcMotorRecord:: poll(2) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.699 ecmcMotorRecord:: poll(3) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000013
2022/05/13 08:36:38.699 ecmcMotorRecord:: poll(4) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.699 ecmcMotorRecord:: poll(5) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.699 ecmcMotorRecord:: poll(6) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.699 ecmcMotorRecord:: poll(7) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:38.699 ecmcMotorRecord:: poll(8) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.699 ecmcMotorRecord:: poll(9) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.699 ecmcMotorRecord:: poll(10) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.699 ecmcMotorRecord:: poll(11) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.699 ecmcMotorRecord:: poll(12) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.699 ecmcMotorRecord:: poll(13) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.699 ecmcMotorRecord:: poll(14) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.699 ecmcMotorRecord:: poll(15) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.699 ecmcMotorRecord:: poll(16) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:38.699 ecmcMotorRecord:: poll(17) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.700 ecmcMotorRecord:: poll(18) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.700 ecmcMotorRecord:: poll(19) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:38.700 ecmcMotorRecord:: poll(20) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.900 ecmcMotorRecord:: poll(1) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000064
2022/05/13 08:36:38.900 ecmcMotorRecord:: poll(2) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.900 ecmcMotorRecord:: poll(3) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.900 ecmcMotorRecord:: poll(4) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.900 ecmcMotorRecord:: poll(5) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.900 ecmcMotorRecord:: poll(6) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.900 ecmcMotorRecord:: poll(7) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:38.900 ecmcMotorRecord:: poll(8) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.900 ecmcMotorRecord:: poll(9) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.900 ecmcMotorRecord:: poll(10) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.900 ecmcMotorRecord:: poll(11) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.900 ecmcMotorRecord:: poll(12) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.900 ecmcMotorRecord:: poll(13) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.900 ecmcMotorRecord:: poll(14) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.900 ecmcMotorRecord:: poll(15) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.900 ecmcMotorRecord:: poll(16) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.900 ecmcMotorRecord:: poll(17) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.900 ecmcMotorRecord:: poll(18) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:38.900 ecmcMotorRecord:: poll(19) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:38.900 ecmcMotorRecord:: poll(20) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.100 ecmcMotorRecord:: poll(1) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000009
2022/05/13 08:36:39.100 ecmcMotorRecord:: poll(2) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.100 ecmcMotorRecord:: poll(3) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.100 ecmcMotorRecord:: poll(4) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.100 ecmcMotorRecord:: poll(5) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.100 ecmcMotorRecord:: poll(6) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.100 ecmcMotorRecord:: poll(7) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:39.100 ecmcMotorRecord:: poll(8) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.100 ecmcMotorRecord:: poll(9) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.100 ecmcMotorRecord:: poll(10) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.100 ecmcMotorRecord:: poll(11) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.100 ecmcMotorRecord:: poll(12) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.100 ecmcMotorRecord:: poll(13) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.100 ecmcMotorRecord:: poll(14) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.100 ecmcMotorRecord:: poll(15) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.100 ecmcMotorRecord:: poll(16) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.100 ecmcMotorRecord:: poll(17) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.100 ecmcMotorRecord:: poll(18) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.100 ecmcMotorRecord:: poll(19) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:39.100 ecmcMotorRecord:: poll(20) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.300 ecmcMotorRecord:: poll(1) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000006
2022/05/13 08:36:39.300 ecmcMotorRecord:: poll(2) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.300 ecmcMotorRecord:: poll(3) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.300 ecmcMotorRecord:: poll(4) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.300 ecmcMotorRecord:: poll(5) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.300 ecmcMotorRecord:: poll(6) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.300 ecmcMotorRecord:: poll(7) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.300 ecmcMotorRecord:: poll(8) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.300 ecmcMotorRecord:: poll(9) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.300 ecmcMotorRecord:: poll(10) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.300 ecmcMotorRecord:: poll(11) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.300 ecmcMotorRecord:: poll(12) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.300 ecmcMotorRecord:: poll(13) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.300 ecmcMotorRecord:: poll(14) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.300 ecmcMotorRecord:: poll(15) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.300 ecmcMotorRecord:: poll(16) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.300 ecmcMotorRecord:: poll(17) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.300 ecmcMotorRecord:: poll(18) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.300 ecmcMotorRecord:: poll(19) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.300 ecmcMotorRecord:: poll(20) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.420 Starting up EtherCAT bus: 3 second(s). Max wait time 30 second(s).
2022/05/13 08:36:39.501 ecmcMotorRecord:: poll(1) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000005
2022/05/13 08:36:39.501 ecmcMotorRecord:: poll(2) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.501 ecmcMotorRecord:: poll(3) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.501 ecmcMotorRecord:: poll(4) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.501 ecmcMotorRecord:: poll(5) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.501 ecmcMotorRecord:: poll(6) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.501 ecmcMotorRecord:: poll(7) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:39.501 ecmcMotorRecord:: poll(8) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000013
2022/05/13 08:36:39.501 ecmcMotorRecord:: poll(9) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.501 ecmcMotorRecord:: poll(10) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.501 ecmcMotorRecord:: poll(11) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:39.501 ecmcMotorRecord:: poll(12) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.501 ecmcMotorRecord:: poll(13) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.501 ecmcMotorRecord:: poll(14) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.501 ecmcMotorRecord:: poll(15) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000167
2022/05/13 08:36:39.501 ecmcMotorRecord:: poll(16) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.501 ecmcMotorRecord:: poll(17) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.501 ecmcMotorRecord:: poll(18) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.501 ecmcMotorRecord:: poll(19) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.501 ecmcMotorRecord:: poll(20) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.701 ecmcMotorRecord:: poll(1) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000005
2022/05/13 08:36:39.701 ecmcMotorRecord:: poll(2) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.701 ecmcMotorRecord:: poll(3) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.701 ecmcMotorRecord:: poll(4) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.701 ecmcMotorRecord:: poll(5) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.701 ecmcMotorRecord:: poll(6) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.701 ecmcMotorRecord:: poll(7) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:39.701 ecmcMotorRecord:: poll(8) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.701 ecmcMotorRecord:: poll(9) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.701 ecmcMotorRecord:: poll(10) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.701 ecmcMotorRecord:: poll(11) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.701 ecmcMotorRecord:: poll(12) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.701 ecmcMotorRecord:: poll(13) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.701 ecmcMotorRecord:: poll(14) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.701 ecmcMotorRecord:: poll(15) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.701 ecmcMotorRecord:: poll(16) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.701 ecmcMotorRecord:: poll(17) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.701 ecmcMotorRecord:: poll(18) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.701 ecmcMotorRecord:: poll(19) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:39.701 ecmcMotorRecord:: poll(20) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.901 ecmcMotorRecord:: poll(1) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000005
2022/05/13 08:36:39.901 ecmcMotorRecord:: poll(2) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.901 ecmcMotorRecord:: poll(3) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.901 ecmcMotorRecord:: poll(4) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.901 ecmcMotorRecord:: poll(5) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.901 ecmcMotorRecord:: poll(6) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.901 ecmcMotorRecord:: poll(7) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:39.901 ecmcMotorRecord:: poll(8) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.901 ecmcMotorRecord:: poll(9) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.901 ecmcMotorRecord:: poll(10) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.901 ecmcMotorRecord:: poll(11) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.901 ecmcMotorRecord:: poll(12) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.901 ecmcMotorRecord:: poll(13) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.901 ecmcMotorRecord:: poll(14) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.901 ecmcMotorRecord:: poll(15) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.901 ecmcMotorRecord:: poll(16) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.901 ecmcMotorRecord:: poll(17) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.901 ecmcMotorRecord:: poll(18) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:39.901 ecmcMotorRecord:: poll(19) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:39.901 ecmcMotorRecord:: poll(20) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.102 ecmcMotorRecord:: poll(1) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000088
2022/05/13 08:36:40.102 ecmcMotorRecord:: poll(2) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.102 ecmcMotorRecord:: poll(3) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.102 ecmcMotorRecord:: poll(4) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.102 ecmcMotorRecord:: poll(5) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.102 ecmcMotorRecord:: poll(6) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.102 ecmcMotorRecord:: poll(7) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:40.102 ecmcMotorRecord:: poll(8) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.102 ecmcMotorRecord:: poll(9) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.102 ecmcMotorRecord:: poll(10) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.102 ecmcMotorRecord:: poll(11) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.102 ecmcMotorRecord:: poll(12) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.102 ecmcMotorRecord:: poll(13) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.102 ecmcMotorRecord:: poll(14) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.102 ecmcMotorRecord:: poll(15) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.102 ecmcMotorRecord:: poll(16) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.102 ecmcMotorRecord:: poll(17) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.102 ecmcMotorRecord:: poll(18) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.102 ecmcMotorRecord:: poll(19) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.102 ecmcMotorRecord:: poll(20) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.302 ecmcMotorRecord:: poll(1) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000006
2022/05/13 08:36:40.302 ecmcMotorRecord:: poll(2) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.302 ecmcMotorRecord:: poll(3) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.302 ecmcMotorRecord:: poll(4) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.302 ecmcMotorRecord:: poll(5) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.302 ecmcMotorRecord:: poll(6) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.302 ecmcMotorRecord:: poll(7) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.302 ecmcMotorRecord:: poll(8) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.302 ecmcMotorRecord:: poll(9) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.302 ecmcMotorRecord:: poll(10) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.302 ecmcMotorRecord:: poll(11) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.302 ecmcMotorRecord:: poll(12) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.302 ecmcMotorRecord:: poll(13) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000004
2022/05/13 08:36:40.302 ecmcMotorRecord:: poll(14) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.302 ecmcMotorRecord:: poll(15) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.302 ecmcMotorRecord:: poll(16) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:40.302 ecmcMotorRecord:: poll(17) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:40.302 ecmcMotorRecord:: poll(18) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.302 ecmcMotorRecord:: poll(19) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.302 ecmcMotorRecord:: poll(20) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.420 Starting up EtherCAT bus: 4 second(s). Max wait time 30 second(s).
2022/05/13 08:36:40.502 ecmcMotorRecord:: poll(1) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000005
2022/05/13 08:36:40.502 ecmcMotorRecord:: poll(2) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.502 ecmcMotorRecord:: poll(3) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.502 ecmcMotorRecord:: poll(4) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.502 ecmcMotorRecord:: poll(5) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.502 ecmcMotorRecord:: poll(6) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.502 ecmcMotorRecord:: poll(7) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:40.502 ecmcMotorRecord:: poll(8) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.502 ecmcMotorRecord:: poll(9) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.502 ecmcMotorRecord:: poll(10) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.502 ecmcMotorRecord:: poll(11) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.502 ecmcMotorRecord:: poll(12) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.502 ecmcMotorRecord:: poll(13) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.502 ecmcMotorRecord:: poll(14) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.502 ecmcMotorRecord:: poll(15) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.502 ecmcMotorRecord:: poll(16) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.502 ecmcMotorRecord:: poll(17) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.502 ecmcMotorRecord:: poll(18) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.502 ecmcMotorRecord:: poll(19) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.502 ecmcMotorRecord:: poll(20) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.703 ecmcMotorRecord:: poll(1) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000006
2022/05/13 08:36:40.704 ecmcMotorRecord:: poll(2) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000119
2022/05/13 08:36:40.704 ecmcMotorRecord:: poll(3) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.704 ecmcMotorRecord:: poll(4) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.704 ecmcMotorRecord:: poll(5) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.704 ecmcMotorRecord:: poll(6) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.704 ecmcMotorRecord:: poll(7) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.704 ecmcMotorRecord:: poll(8) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.704 ecmcMotorRecord:: poll(9) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.704 ecmcMotorRecord:: poll(10) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.704 ecmcMotorRecord:: poll(11) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.704 ecmcMotorRecord:: poll(12) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.704 ecmcMotorRecord:: poll(13) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.704 ecmcMotorRecord:: poll(14) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.704 ecmcMotorRecord:: poll(15) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.704 ecmcMotorRecord:: poll(16) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:40.704 ecmcMotorRecord:: poll(17) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.704 ecmcMotorRecord:: poll(18) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.704 ecmcMotorRecord:: poll(19) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:40.704 ecmcMotorRecord:: poll(20) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.904 ecmcMotorRecord:: poll(1) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000005
2022/05/13 08:36:40.904 ecmcMotorRecord:: poll(2) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.904 ecmcMotorRecord:: poll(3) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.904 ecmcMotorRecord:: poll(4) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.904 ecmcMotorRecord:: poll(5) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.904 ecmcMotorRecord:: poll(6) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.904 ecmcMotorRecord:: poll(7) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:40.904 ecmcMotorRecord:: poll(8) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.904 ecmcMotorRecord:: poll(9) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.904 ecmcMotorRecord:: poll(10) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.904 ecmcMotorRecord:: poll(11) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.904 ecmcMotorRecord:: poll(12) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.904 ecmcMotorRecord:: poll(13) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.904 ecmcMotorRecord:: poll(14) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.904 ecmcMotorRecord:: poll(15) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.904 ecmcMotorRecord:: poll(16) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:40.904 ecmcMotorRecord:: poll(17) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.904 ecmcMotorRecord:: poll(18) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.904 ecmcMotorRecord:: poll(19) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:40.904 ecmcMotorRecord:: poll(20) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.104 ecmcMotorRecord:: poll(1) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000006
2022/05/13 08:36:41.104 ecmcMotorRecord:: poll(2) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.104 ecmcMotorRecord:: poll(3) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.104 ecmcMotorRecord:: poll(4) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.104 ecmcMotorRecord:: poll(5) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.104 ecmcMotorRecord:: poll(6) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.104 ecmcMotorRecord:: poll(7) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.104 ecmcMotorRecord:: poll(8) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.104 ecmcMotorRecord:: poll(9) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.104 ecmcMotorRecord:: poll(10) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.104 ecmcMotorRecord:: poll(11) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.104 ecmcMotorRecord:: poll(12) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.104 ecmcMotorRecord:: poll(13) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.104 ecmcMotorRecord:: poll(14) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.105 ecmcMotorRecord:: poll(15) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000004
2022/05/13 08:36:41.105 ecmcMotorRecord:: poll(16) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.105 ecmcMotorRecord:: poll(17) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.105 ecmcMotorRecord:: poll(18) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.105 ecmcMotorRecord:: poll(19) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.105 ecmcMotorRecord:: poll(20) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.305 ecmcMotorRecord:: poll(1) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000005
2022/05/13 08:36:41.305 ecmcMotorRecord:: poll(2) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.305 ecmcMotorRecord:: poll(3) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.305 ecmcMotorRecord:: poll(4) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.305 ecmcMotorRecord:: poll(5) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.305 ecmcMotorRecord:: poll(6) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.305 ecmcMotorRecord:: poll(7) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:41.305 ecmcMotorRecord:: poll(8) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.305 ecmcMotorRecord:: poll(9) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.305 ecmcMotorRecord:: poll(10) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.305 ecmcMotorRecord:: poll(11) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:41.305 ecmcMotorRecord:: poll(12) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.305 ecmcMotorRecord:: poll(13) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.305 ecmcMotorRecord:: poll(14) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.305 ecmcMotorRecord:: poll(15) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.305 ecmcMotorRecord:: poll(16) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:41.305 ecmcMotorRecord:: poll(17) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.305 ecmcMotorRecord:: poll(18) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.305 ecmcMotorRecord:: poll(19) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:41.305 ecmcMotorRecord:: poll(20) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.420 Starting up EtherCAT bus: 5 second(s). Max wait time 30 second(s).
2022/05/13 08:36:41.505 ecmcMotorRecord:: poll(1) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000004
2022/05/13 08:36:41.505 ecmcMotorRecord:: poll(2) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.505 ecmcMotorRecord:: poll(3) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.505 ecmcMotorRecord:: poll(4) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:41.505 ecmcMotorRecord:: poll(5) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.505 ecmcMotorRecord:: poll(6) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:41.505 ecmcMotorRecord:: poll(7) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:41.505 ecmcMotorRecord:: poll(8) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.505 ecmcMotorRecord:: poll(9) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.505 ecmcMotorRecord:: poll(10) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:41.505 ecmcMotorRecord:: poll(11) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:41.505 ecmcMotorRecord:: poll(12) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.505 ecmcMotorRecord:: poll(13) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.505 ecmcMotorRecord:: poll(14) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.505 ecmcMotorRecord:: poll(15) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.505 ecmcMotorRecord:: poll(16) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.505 ecmcMotorRecord:: poll(17) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.505 ecmcMotorRecord:: poll(18) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.505 ecmcMotorRecord:: poll(19) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:41.505 ecmcMotorRecord:: poll(20) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:41.705 ecmcMotorRecord:: poll(1) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000006
2022/05/13 08:36:41.705 ecmcMotorRecord:: poll(2) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.705 ecmcMotorRecord:: poll(3) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.705 ecmcMotorRecord:: poll(4) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.705 ecmcMotorRecord:: poll(5) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.705 ecmcMotorRecord:: poll(6) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.705 ecmcMotorRecord:: poll(7) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:41.705 ecmcMotorRecord:: poll(8) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.705 ecmcMotorRecord:: poll(9) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.705 ecmcMotorRecord:: poll(10) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.705 ecmcMotorRecord:: poll(11) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.705 ecmcMotorRecord:: poll(12) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.705 ecmcMotorRecord:: poll(13) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.705 ecmcMotorRecord:: poll(14) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.705 ecmcMotorRecord:: poll(15) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.705 ecmcMotorRecord:: poll(16) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.705 ecmcMotorRecord:: poll(17) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.705 ecmcMotorRecord:: poll(18) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.705 ecmcMotorRecord:: poll(19) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:41.705 ecmcMotorRecord:: poll(20) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.905 ecmcMotorRecord:: poll(1) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000004
2022/05/13 08:36:41.906 ecmcMotorRecord:: poll(2) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.906 ecmcMotorRecord:: poll(3) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.906 ecmcMotorRecord:: poll(4) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.906 ecmcMotorRecord:: poll(5) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:41.906 ecmcMotorRecord:: poll(6) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.906 ecmcMotorRecord:: poll(7) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:41.906 ecmcMotorRecord:: poll(8) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.906 ecmcMotorRecord:: poll(9) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.906 ecmcMotorRecord:: poll(10) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.906 ecmcMotorRecord:: poll(11) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:41.906 ecmcMotorRecord:: poll(12) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.906 ecmcMotorRecord:: poll(13) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.906 ecmcMotorRecord:: poll(14) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.906 ecmcMotorRecord:: poll(15) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.906 ecmcMotorRecord:: poll(16) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000006
2022/05/13 08:36:41.906 ecmcMotorRecord:: poll(17) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.906 ecmcMotorRecord:: poll(18) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:41.906 ecmcMotorRecord:: poll(19) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:41.906 ecmcMotorRecord:: poll(20) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.106 ecmcMotorRecord:: poll(1) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000005
2022/05/13 08:36:42.106 ecmcMotorRecord:: poll(2) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.106 ecmcMotorRecord:: poll(3) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.106 ecmcMotorRecord:: poll(4) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.106 ecmcMotorRecord:: poll(5) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000005
2022/05/13 08:36:42.106 ecmcMotorRecord:: poll(6) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.106 ecmcMotorRecord:: poll(7) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:42.106 ecmcMotorRecord:: poll(8) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.106 ecmcMotorRecord:: poll(9) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:42.106 ecmcMotorRecord:: poll(10) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.106 ecmcMotorRecord:: poll(11) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.106 ecmcMotorRecord:: poll(12) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.106 ecmcMotorRecord:: poll(13) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.106 ecmcMotorRecord:: poll(14) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.106 ecmcMotorRecord:: poll(15) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.106 ecmcMotorRecord:: poll(16) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:42.106 ecmcMotorRecord:: poll(17) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.106 ecmcMotorRecord:: poll(18) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.106 ecmcMotorRecord:: poll(19) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.106 ecmcMotorRecord:: poll(20) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:42.306 ecmcMotorRecord:: poll(1) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000004
2022/05/13 08:36:42.306 ecmcMotorRecord:: poll(2) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.306 ecmcMotorRecord:: poll(3) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.306 ecmcMotorRecord:: poll(4) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.306 ecmcMotorRecord:: poll(5) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.306 ecmcMotorRecord:: poll(6) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:42.306 ecmcMotorRecord:: poll(7) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:42.306 ecmcMotorRecord:: poll(8) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.306 ecmcMotorRecord:: poll(9) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.306 ecmcMotorRecord:: poll(10) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.306 ecmcMotorRecord:: poll(11) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.306 ecmcMotorRecord:: poll(12) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:42.306 ecmcMotorRecord:: poll(13) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.306 ecmcMotorRecord:: poll(14) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.306 ecmcMotorRecord:: poll(15) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.306 ecmcMotorRecord:: poll(16) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:42.306 ecmcMotorRecord:: poll(17) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:42.306 ecmcMotorRecord:: poll(18) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.306 ecmcMotorRecord:: poll(19) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:42.306 ecmcMotorRecord:: poll(20) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:42.420 Starting up EtherCAT bus: 6 second(s). Max wait time 30 second(s).
2022/05/13 08:36:42.506 ecmcMotorRecord:: poll(1) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000005
2022/05/13 08:36:42.506 ecmcMotorRecord:: poll(2) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.506 ecmcMotorRecord:: poll(3) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.506 ecmcMotorRecord:: poll(4) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.506 ecmcMotorRecord:: poll(5) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.506 ecmcMotorRecord:: poll(6) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.506 ecmcMotorRecord:: poll(7) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:42.506 ecmcMotorRecord:: poll(8) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.506 ecmcMotorRecord:: poll(9) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.506 ecmcMotorRecord:: poll(10) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.507 ecmcMotorRecord:: poll(11) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.507 ecmcMotorRecord:: poll(12) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.507 ecmcMotorRecord:: poll(13) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.507 ecmcMotorRecord:: poll(14) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.507 ecmcMotorRecord:: poll(15) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.507 ecmcMotorRecord:: poll(16) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.507 ecmcMotorRecord:: poll(17) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.507 ecmcMotorRecord:: poll(18) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000095
2022/05/13 08:36:42.507 ecmcMotorRecord:: poll(19) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.507 ecmcMotorRecord:: poll(20) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.707 ecmcMotorRecord:: poll(1) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000006
2022/05/13 08:36:42.707 ecmcMotorRecord:: poll(2) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.707 ecmcMotorRecord:: poll(3) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.707 ecmcMotorRecord:: poll(4) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.707 ecmcMotorRecord:: poll(5) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.707 ecmcMotorRecord:: poll(6) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.707 ecmcMotorRecord:: poll(7) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.707 ecmcMotorRecord:: poll(8) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.707 ecmcMotorRecord:: poll(9) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.707 ecmcMotorRecord:: poll(10) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.707 ecmcMotorRecord:: poll(11) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.707 ecmcMotorRecord:: poll(12) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.707 ecmcMotorRecord:: poll(13) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.707 ecmcMotorRecord:: poll(14) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.707 ecmcMotorRecord:: poll(15) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.707 ecmcMotorRecord:: poll(16) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:42.707 ecmcMotorRecord:: poll(17) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.707 ecmcMotorRecord:: poll(18) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.707 ecmcMotorRecord:: poll(19) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:42.707 ecmcMotorRecord:: poll(20) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.907 ecmcMotorRecord:: poll(1) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000006
2022/05/13 08:36:42.907 ecmcMotorRecord:: poll(2) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.907 ecmcMotorRecord:: poll(3) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.907 ecmcMotorRecord:: poll(4) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.907 ecmcMotorRecord:: poll(5) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.907 ecmcMotorRecord:: poll(6) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.907 ecmcMotorRecord:: poll(7) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:42.907 ecmcMotorRecord:: poll(8) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.907 ecmcMotorRecord:: poll(9) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.907 ecmcMotorRecord:: poll(10) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.907 ecmcMotorRecord:: poll(11) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.907 ecmcMotorRecord:: poll(12) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.907 ecmcMotorRecord:: poll(13) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.907 ecmcMotorRecord:: poll(14) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.907 ecmcMotorRecord:: poll(15) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.907 ecmcMotorRecord:: poll(16) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.907 ecmcMotorRecord:: poll(17) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.907 ecmcMotorRecord:: poll(18) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.907 ecmcMotorRecord:: poll(19) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:42.907 ecmcMotorRecord:: poll(20) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.107 ecmcMotorRecord:: poll(1) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000006
2022/05/13 08:36:43.107 ecmcMotorRecord:: poll(2) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.107 ecmcMotorRecord:: poll(3) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.107 ecmcMotorRecord:: poll(4) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.107 ecmcMotorRecord:: poll(5) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.107 ecmcMotorRecord:: poll(6) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.107 ecmcMotorRecord:: poll(7) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:43.107 ecmcMotorRecord:: poll(8) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.107 ecmcMotorRecord:: poll(9) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.107 ecmcMotorRecord:: poll(10) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.107 ecmcMotorRecord:: poll(11) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.107 ecmcMotorRecord:: poll(12) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.108 ecmcMotorRecord:: poll(13) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.108 ecmcMotorRecord:: poll(14) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.108 ecmcMotorRecord:: poll(15) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.108 ecmcMotorRecord:: poll(16) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.108 ecmcMotorRecord:: poll(17) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.108 ecmcMotorRecord:: poll(18) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.108 ecmcMotorRecord:: poll(19) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.108 ecmcMotorRecord:: poll(20) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.308 ecmcMotorRecord:: poll(1) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000052
2022/05/13 08:36:43.308 ecmcMotorRecord:: poll(2) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.308 ecmcMotorRecord:: poll(3) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.308 ecmcMotorRecord:: poll(4) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.308 ecmcMotorRecord:: poll(5) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.308 ecmcMotorRecord:: poll(6) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.308 ecmcMotorRecord:: poll(7) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:43.308 ecmcMotorRecord:: poll(8) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.308 ecmcMotorRecord:: poll(9) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.308 ecmcMotorRecord:: poll(10) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.308 ecmcMotorRecord:: poll(11) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.308 ecmcMotorRecord:: poll(12) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.308 ecmcMotorRecord:: poll(13) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.308 ecmcMotorRecord:: poll(14) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.308 ecmcMotorRecord:: poll(15) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.308 ecmcMotorRecord:: poll(16) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.308 ecmcMotorRecord:: poll(17) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.308 ecmcMotorRecord:: poll(18) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.308 ecmcMotorRecord:: poll(19) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:43.308 ecmcMotorRecord:: poll(20) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.420 Starting up EtherCAT bus: 7 second(s). Max wait time 30 second(s).
2022/05/13 08:36:43.508 ecmcMotorRecord:: poll(1) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000005
2022/05/13 08:36:43.508 ecmcMotorRecord:: poll(2) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.508 ecmcMotorRecord:: poll(3) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.508 ecmcMotorRecord:: poll(4) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.508 ecmcMotorRecord:: poll(5) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.508 ecmcMotorRecord:: poll(6) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.508 ecmcMotorRecord:: poll(7) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:43.508 ecmcMotorRecord:: poll(8) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.508 ecmcMotorRecord:: poll(9) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.508 ecmcMotorRecord:: poll(10) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.508 ecmcMotorRecord:: poll(11) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.508 ecmcMotorRecord:: poll(12) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.508 ecmcMotorRecord:: poll(13) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.508 ecmcMotorRecord:: poll(14) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.508 ecmcMotorRecord:: poll(15) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.508 ecmcMotorRecord:: poll(16) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.508 ecmcMotorRecord:: poll(17) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.508 ecmcMotorRecord:: poll(18) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.508 ecmcMotorRecord:: poll(19) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:43.508 ecmcMotorRecord:: poll(20) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.708 ecmcMotorRecord:: poll(1) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000006
2022/05/13 08:36:43.708 ecmcMotorRecord:: poll(2) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.708 ecmcMotorRecord:: poll(3) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.708 ecmcMotorRecord:: poll(4) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.708 ecmcMotorRecord:: poll(5) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.708 ecmcMotorRecord:: poll(6) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.708 ecmcMotorRecord:: poll(7) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.708 ecmcMotorRecord:: poll(8) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.708 ecmcMotorRecord:: poll(9) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.708 ecmcMotorRecord:: poll(10) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.708 ecmcMotorRecord:: poll(11) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.708 ecmcMotorRecord:: poll(12) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.708 ecmcMotorRecord:: poll(13) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.708 ecmcMotorRecord:: poll(14) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.708 ecmcMotorRecord:: poll(15) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.708 ecmcMotorRecord:: poll(16) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.708 ecmcMotorRecord:: poll(17) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.708 ecmcMotorRecord:: poll(18) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.708 ecmcMotorRecord:: poll(19) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:43.708 ecmcMotorRecord:: poll(20) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.909 ecmcMotorRecord:: poll(1) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000006
2022/05/13 08:36:43.909 ecmcMotorRecord:: poll(2) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.909 ecmcMotorRecord:: poll(3) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.909 ecmcMotorRecord:: poll(4) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.909 ecmcMotorRecord:: poll(5) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.909 ecmcMotorRecord:: poll(6) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.909 ecmcMotorRecord:: poll(7) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:43.909 ecmcMotorRecord:: poll(8) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.909 ecmcMotorRecord:: poll(9) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.909 ecmcMotorRecord:: poll(10) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.909 ecmcMotorRecord:: poll(11) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.909 ecmcMotorRecord:: poll(12) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000093
2022/05/13 08:36:43.909 ecmcMotorRecord:: poll(13) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.909 ecmcMotorRecord:: poll(14) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.909 ecmcMotorRecord:: poll(15) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.909 ecmcMotorRecord:: poll(16) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.909 ecmcMotorRecord:: poll(17) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.909 ecmcMotorRecord:: poll(18) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:43.909 ecmcMotorRecord:: poll(19) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:43.909 ecmcMotorRecord:: poll(20) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:44.109 ecmcMotorRecord:: poll(1) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000006
2022/05/13 08:36:44.109 ecmcMotorRecord:: poll(2) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:44.109 ecmcMotorRecord:: poll(3) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:44.109 ecmcMotorRecord:: poll(4) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:44.109 ecmcMotorRecord:: poll(5) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:44.109 ecmcMotorRecord:: poll(6) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:44.109 ecmcMotorRecord:: poll(7) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:44.109 ecmcMotorRecord:: poll(8) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:44.109 ecmcMotorRecord:: poll(9) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:44.109 ecmcMotorRecord:: poll(10) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:44.109 ecmcMotorRecord:: poll(11) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:44.109 ecmcMotorRecord:: poll(12) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:44.109 ecmcMotorRecord:: poll(13) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:44.109 ecmcMotorRecord:: poll(14) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:44.109 ecmcMotorRecord:: poll(15) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:44.109 ecmcMotorRecord:: poll(16) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:44.109 ecmcMotorRecord:: poll(17) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:44.109 ecmcMotorRecord:: poll(18) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:44.109 ecmcMotorRecord:: poll(19) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:44.109 ecmcMotorRecord:: poll(20) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:44.309 ecmcMotorRecord:: poll(1) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000005
2022/05/13 08:36:44.309 ecmcMotorRecord:: poll(2) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:44.309 ecmcMotorRecord:: poll(3) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:44.309 ecmcMotorRecord:: poll(4) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:44.309 ecmcMotorRecord:: poll(5) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:44.309 ecmcMotorRecord:: poll(6) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:44.309 ecmcMotorRecord:: poll(7) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:44.309 ecmcMotorRecord:: poll(8) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:44.309 ecmcMotorRecord:: poll(9) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:44.309 ecmcMotorRecord:: poll(10) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:44.309 ecmcMotorRecord:: poll(11) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:44.309 ecmcMotorRecord:: poll(12) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:44.309 ecmcMotorRecord:: poll(13) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:44.309 ecmcMotorRecord:: poll(14) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:44.309 ecmcMotorRecord:: poll(15) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:44.309 ecmcMotorRecord:: poll(16) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:44.309 ecmcMotorRecord:: poll(17) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:44.309 ecmcMotorRecord:: poll(18) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:44.309 ecmcMotorRecord:: poll(19) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:44.309 ecmcMotorRecord:: poll(20) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:44.420 Starting up EtherCAT bus: 8 second(s). Max wait time 30 second(s).
2022/05/13 08:36:44.510 ecmcMotorRecord:: poll(1) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000005
2022/05/13 08:36:44.510 ecmcMotorRecord:: poll(2) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:44.510 ecmcMotorRecord:: poll(3) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:44.510 ecmcMotorRecord:: poll(4) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:44.510 ecmcMotorRecord:: poll(5) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:44.510 ecmcMotorRecord:: poll(6) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:44.510 ecmcMotorRecord:: poll(7) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:44.510 ecmcMotorRecord:: poll(8) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:44.510 ecmcMotorRecord:: poll(9) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:44.510 ecmcMotorRecord:: poll(10) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:44.510 ecmcMotorRecord:: poll(11) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:44.510 ecmcMotorRecord:: poll(12) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:44.510 ecmcMotorRecord:: poll(13) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:44.510 ecmcMotorRecord:: poll(14) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:44.510 ecmcMotorRecord:: poll(15) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:44.510 ecmcMotorRecord:: poll(16) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:44.510 ecmcMotorRecord:: poll(17) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:44.510 ecmcMotorRecord:: poll(18) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
2022/05/13 08:36:44.510 ecmcMotorRecord:: poll(19) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000001
2022/05/13 08:36:44.510 ecmcMotorRecord:: poll(20) mvnNRdy=1 bBusy=0 bExecute=0 bEnabled=0 atTarget=0 wf=0 ENC=0 fPos=0 fActPosition=0 time=0.000002
